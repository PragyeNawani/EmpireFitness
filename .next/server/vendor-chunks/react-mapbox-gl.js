"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/react-mapbox-gl";
exports.ids = ["vendor-chunks/react-mapbox-gl"];
exports.modules = {

/***/ "(ssr)/./node_modules/react-mapbox-gl/lib-esm/cluster.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib-esm/cluster.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cluster: () => (/* binding */ Cluster),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mapbox-gl */ \"(ssr)/./node_modules/mapbox-gl/dist/mapbox-gl.js\");\n/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mapbox_gl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var supercluster__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! supercluster */ \"(ssr)/./node_modules/react-mapbox-gl/node_modules/supercluster/index.js\");\n/* harmony import */ var _turf_bbox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @turf/bbox */ \"(ssr)/./node_modules/@turf/bbox/index.js\");\n/* harmony import */ var _turf_bbox__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_turf_bbox__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _turf_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @turf/helpers */ \"(ssr)/./node_modules/@turf/helpers/index.js\");\n/* harmony import */ var _turf_helpers__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_turf_helpers__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./context */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/context.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar Cluster = (function (_super) {\n    __extends(Cluster, _super);\n    function Cluster() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            superC: new supercluster__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                radius: _this.props.radius,\n                maxZoom: _this.props.maxZoom,\n                minZoom: _this.props.minZoom,\n                extent: _this.props.extent,\n                nodeSize: _this.props.nodeSize,\n                log: _this.props.log\n            }),\n            clusterPoints: []\n        };\n        _this.featureClusterMap = new WeakMap();\n        _this.childrenChange = function (newChildren) {\n            var superC = _this.state.superC;\n            _this.featureClusterMap = new WeakMap();\n            var features = _this.childrenToFeatures(newChildren);\n            superC.load(features);\n        };\n        _this.mapChange = function (forceSetState) {\n            if (forceSetState === void 0) { forceSetState = false; }\n            var map = _this.props.map;\n            var _a = _this.state, superC = _a.superC, clusterPoints = _a.clusterPoints;\n            var zoom = map.getZoom();\n            var canvas = map.getCanvas();\n            var w = canvas.width;\n            var h = canvas.height;\n            var upLeft = map.unproject([0, 0]).toArray();\n            var upRight = map.unproject([w, 0]).toArray();\n            var downRight = map.unproject([w, h]).toArray();\n            var downLeft = map.unproject([0, h]).toArray();\n            var newPoints = superC.getClusters(_turf_bbox__WEBPACK_IMPORTED_MODULE_3___default()((0,_turf_helpers__WEBPACK_IMPORTED_MODULE_4__.polygon)([[upLeft, upRight, downRight, downLeft, upLeft]])), Math.round(zoom));\n            if (newPoints.length !== clusterPoints.length || forceSetState) {\n                _this.setState({ clusterPoints: newPoints });\n            }\n        };\n        _this.childrenToFeatures = function (children) {\n            return children.map(function (child) {\n                var feature = _this.feature(child && child.props.coordinates);\n                _this.featureClusterMap.set(feature, child);\n                return feature;\n            });\n        };\n        _this.getLeaves = function (feature, limit, offset) {\n            var superC = _this.state.superC;\n            return superC\n                .getLeaves(feature.properties && feature.properties.cluster_id, limit || Infinity, offset)\n                .map(function (leave) { return _this.featureClusterMap.get(leave); });\n        };\n        _this.zoomToClusterBounds = function (event) {\n            var markers = Array.prototype.slice.call(event.currentTarget.children);\n            var marker = _this.findMarkerElement(event.currentTarget, event.target);\n            var index = markers.indexOf(marker);\n            var cluster = _this.state.clusterPoints[index];\n            if (!cluster.properties || !cluster.properties.cluster_id) {\n                return;\n            }\n            var children = _this.state.superC.getLeaves(cluster.properties && cluster.properties.cluster_id, Infinity);\n            var childrenBbox = _turf_bbox__WEBPACK_IMPORTED_MODULE_3___default()((0,_turf_helpers__WEBPACK_IMPORTED_MODULE_4__.featureCollection)(children));\n            _this.props.map.fitBounds(mapbox_gl__WEBPACK_IMPORTED_MODULE_1__.LngLatBounds.convert(childrenBbox), {\n                padding: _this.props.zoomOnClickPadding\n            });\n        };\n        return _this;\n    }\n    Cluster.prototype.componentDidMount = function () {\n        var _a = this.props, children = _a.children, map = _a.map;\n        if (children) {\n            this.childrenChange(children);\n        }\n        map.on('move', this.mapChange);\n        map.on('zoom', this.mapChange);\n        this.mapChange();\n    };\n    Cluster.prototype.componentWillUnmount = function () {\n        var map = this.props.map;\n        map.off('move', this.mapChange);\n        map.off('zoom', this.mapChange);\n    };\n    Cluster.prototype.componentDidUpdate = function (prevProps) {\n        var children = prevProps.children;\n        if (children !== this.props.children && this.props.children) {\n            this.childrenChange(this.props.children);\n            this.mapChange(true);\n        }\n    };\n    Cluster.prototype.feature = function (coordinates) {\n        return {\n            type: 'Feature',\n            geometry: {\n                type: 'Point',\n                coordinates: coordinates\n            },\n            properties: {}\n        };\n    };\n    Cluster.prototype.findMarkerElement = function (target, element) {\n        if (element.parentElement === target) {\n            return element;\n        }\n        return this.findMarkerElement(target, element.parentElement);\n    };\n    Cluster.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, ClusterMarkerFactory = _a.ClusterMarkerFactory, style = _a.style, className = _a.className, tabIndex = _a.tabIndex;\n        var clusterPoints = this.state.clusterPoints;\n        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: style, className: className, tabIndex: tabIndex, onClick: this.props.zoomOnClick ? this.zoomToClusterBounds : undefined }, clusterPoints.map(function (feature) {\n            if (feature.properties && feature.properties.cluster) {\n                return ClusterMarkerFactory(feature.geometry.coordinates, feature.properties.point_count, _this.getLeaves.bind(_this, feature));\n            }\n            return _this.featureClusterMap.get(feature);\n        })));\n    };\n    Cluster.defaultProps = {\n        radius: 60,\n        minZoom: 0,\n        maxZoom: 16,\n        extent: 512,\n        nodeSize: 64,\n        log: false,\n        zoomOnClick: false,\n        zoomOnClickPadding: 20\n    };\n    return Cluster;\n}(react__WEBPACK_IMPORTED_MODULE_0__.Component));\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_context__WEBPACK_IMPORTED_MODULE_5__.withMap)(Cluster));\n//# sourceMappingURL=cluster.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vY2x1c3Rlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0I7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDdkYsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQzhCO0FBQ1U7QUFDRDtBQUNWO0FBQzZCO0FBQ3ZCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0RBQVk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLGlEQUFJLENBQUMsc0RBQU87QUFDM0Q7QUFDQSxpQ0FBaUMsMEJBQTBCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsNENBQTRDO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGlEQUFJLENBQUMsZ0VBQWlCO0FBQ3JELHNDQUFzQyxtREFBWTtBQUNsRDtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0RBQW1CLFVBQVUsZ0lBQWdJO0FBQzdLO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsQ0FBQyw0Q0FBZTtBQUNFO0FBQ25CLGlFQUFlLGlEQUFPLFNBQVMsRUFBQztBQUNoQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpdG5lc3MtZW1waXJlLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcGJveC1nbC9saWItZXNtL2NsdXN0ZXIuanM/MTgzNCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTG5nTGF0Qm91bmRzIH0gZnJvbSAnbWFwYm94LWdsJztcbmltcG9ydCBTdXBlcmNsdXN0ZXIgZnJvbSAnc3VwZXJjbHVzdGVyJztcbmltcG9ydCBiYm94IGZyb20gJ0B0dXJmL2Jib3gnO1xuaW1wb3J0IHsgcG9seWdvbiwgZmVhdHVyZUNvbGxlY3Rpb24gfSBmcm9tICdAdHVyZi9oZWxwZXJzJztcbmltcG9ydCB7IHdpdGhNYXAgfSBmcm9tICcuL2NvbnRleHQnO1xudmFyIENsdXN0ZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDbHVzdGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENsdXN0ZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHN1cGVyQzogbmV3IFN1cGVyY2x1c3Rlcih7XG4gICAgICAgICAgICAgICAgcmFkaXVzOiBfdGhpcy5wcm9wcy5yYWRpdXMsXG4gICAgICAgICAgICAgICAgbWF4Wm9vbTogX3RoaXMucHJvcHMubWF4Wm9vbSxcbiAgICAgICAgICAgICAgICBtaW5ab29tOiBfdGhpcy5wcm9wcy5taW5ab29tLFxuICAgICAgICAgICAgICAgIGV4dGVudDogX3RoaXMucHJvcHMuZXh0ZW50LFxuICAgICAgICAgICAgICAgIG5vZGVTaXplOiBfdGhpcy5wcm9wcy5ub2RlU2l6ZSxcbiAgICAgICAgICAgICAgICBsb2c6IF90aGlzLnByb3BzLmxvZ1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBjbHVzdGVyUG9pbnRzOiBbXVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5mZWF0dXJlQ2x1c3Rlck1hcCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIF90aGlzLmNoaWxkcmVuQ2hhbmdlID0gZnVuY3Rpb24gKG5ld0NoaWxkcmVuKSB7XG4gICAgICAgICAgICB2YXIgc3VwZXJDID0gX3RoaXMuc3RhdGUuc3VwZXJDO1xuICAgICAgICAgICAgX3RoaXMuZmVhdHVyZUNsdXN0ZXJNYXAgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICAgICAgdmFyIGZlYXR1cmVzID0gX3RoaXMuY2hpbGRyZW5Ub0ZlYXR1cmVzKG5ld0NoaWxkcmVuKTtcbiAgICAgICAgICAgIHN1cGVyQy5sb2FkKGZlYXR1cmVzKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMubWFwQ2hhbmdlID0gZnVuY3Rpb24gKGZvcmNlU2V0U3RhdGUpIHtcbiAgICAgICAgICAgIGlmIChmb3JjZVNldFN0YXRlID09PSB2b2lkIDApIHsgZm9yY2VTZXRTdGF0ZSA9IGZhbHNlOyB9XG4gICAgICAgICAgICB2YXIgbWFwID0gX3RoaXMucHJvcHMubWFwO1xuICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMuc3RhdGUsIHN1cGVyQyA9IF9hLnN1cGVyQywgY2x1c3RlclBvaW50cyA9IF9hLmNsdXN0ZXJQb2ludHM7XG4gICAgICAgICAgICB2YXIgem9vbSA9IG1hcC5nZXRab29tKCk7XG4gICAgICAgICAgICB2YXIgY2FudmFzID0gbWFwLmdldENhbnZhcygpO1xuICAgICAgICAgICAgdmFyIHcgPSBjYW52YXMud2lkdGg7XG4gICAgICAgICAgICB2YXIgaCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgICAgICAgICB2YXIgdXBMZWZ0ID0gbWFwLnVucHJvamVjdChbMCwgMF0pLnRvQXJyYXkoKTtcbiAgICAgICAgICAgIHZhciB1cFJpZ2h0ID0gbWFwLnVucHJvamVjdChbdywgMF0pLnRvQXJyYXkoKTtcbiAgICAgICAgICAgIHZhciBkb3duUmlnaHQgPSBtYXAudW5wcm9qZWN0KFt3LCBoXSkudG9BcnJheSgpO1xuICAgICAgICAgICAgdmFyIGRvd25MZWZ0ID0gbWFwLnVucHJvamVjdChbMCwgaF0pLnRvQXJyYXkoKTtcbiAgICAgICAgICAgIHZhciBuZXdQb2ludHMgPSBzdXBlckMuZ2V0Q2x1c3RlcnMoYmJveChwb2x5Z29uKFtbdXBMZWZ0LCB1cFJpZ2h0LCBkb3duUmlnaHQsIGRvd25MZWZ0LCB1cExlZnRdXSkpLCBNYXRoLnJvdW5kKHpvb20pKTtcbiAgICAgICAgICAgIGlmIChuZXdQb2ludHMubGVuZ3RoICE9PSBjbHVzdGVyUG9pbnRzLmxlbmd0aCB8fCBmb3JjZVNldFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBjbHVzdGVyUG9pbnRzOiBuZXdQb2ludHMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmNoaWxkcmVuVG9GZWF0dXJlcyA9IGZ1bmN0aW9uIChjaGlsZHJlbikge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuLm1hcChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmVhdHVyZSA9IF90aGlzLmZlYXR1cmUoY2hpbGQgJiYgY2hpbGQucHJvcHMuY29vcmRpbmF0ZXMpO1xuICAgICAgICAgICAgICAgIF90aGlzLmZlYXR1cmVDbHVzdGVyTWFwLnNldChmZWF0dXJlLCBjaGlsZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZlYXR1cmU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuZ2V0TGVhdmVzID0gZnVuY3Rpb24gKGZlYXR1cmUsIGxpbWl0LCBvZmZzZXQpIHtcbiAgICAgICAgICAgIHZhciBzdXBlckMgPSBfdGhpcy5zdGF0ZS5zdXBlckM7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXJDXG4gICAgICAgICAgICAgICAgLmdldExlYXZlcyhmZWF0dXJlLnByb3BlcnRpZXMgJiYgZmVhdHVyZS5wcm9wZXJ0aWVzLmNsdXN0ZXJfaWQsIGxpbWl0IHx8IEluZmluaXR5LCBvZmZzZXQpXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAobGVhdmUpIHsgcmV0dXJuIF90aGlzLmZlYXR1cmVDbHVzdGVyTWFwLmdldChsZWF2ZSk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy56b29tVG9DbHVzdGVyQm91bmRzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgbWFya2VycyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGV2ZW50LmN1cnJlbnRUYXJnZXQuY2hpbGRyZW4pO1xuICAgICAgICAgICAgdmFyIG1hcmtlciA9IF90aGlzLmZpbmRNYXJrZXJFbGVtZW50KGV2ZW50LmN1cnJlbnRUYXJnZXQsIGV2ZW50LnRhcmdldCk7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBtYXJrZXJzLmluZGV4T2YobWFya2VyKTtcbiAgICAgICAgICAgIHZhciBjbHVzdGVyID0gX3RoaXMuc3RhdGUuY2x1c3RlclBvaW50c1tpbmRleF07XG4gICAgICAgICAgICBpZiAoIWNsdXN0ZXIucHJvcGVydGllcyB8fCAhY2x1c3Rlci5wcm9wZXJ0aWVzLmNsdXN0ZXJfaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBfdGhpcy5zdGF0ZS5zdXBlckMuZ2V0TGVhdmVzKGNsdXN0ZXIucHJvcGVydGllcyAmJiBjbHVzdGVyLnByb3BlcnRpZXMuY2x1c3Rlcl9pZCwgSW5maW5pdHkpO1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuQmJveCA9IGJib3goZmVhdHVyZUNvbGxlY3Rpb24oY2hpbGRyZW4pKTtcbiAgICAgICAgICAgIF90aGlzLnByb3BzLm1hcC5maXRCb3VuZHMoTG5nTGF0Qm91bmRzLmNvbnZlcnQoY2hpbGRyZW5CYm94KSwge1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IF90aGlzLnByb3BzLnpvb21PbkNsaWNrUGFkZGluZ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ2x1c3Rlci5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIG1hcCA9IF9hLm1hcDtcbiAgICAgICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuQ2hhbmdlKGNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgICBtYXAub24oJ21vdmUnLCB0aGlzLm1hcENoYW5nZSk7XG4gICAgICAgIG1hcC5vbignem9vbScsIHRoaXMubWFwQ2hhbmdlKTtcbiAgICAgICAgdGhpcy5tYXBDaGFuZ2UoKTtcbiAgICB9O1xuICAgIENsdXN0ZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWFwID0gdGhpcy5wcm9wcy5tYXA7XG4gICAgICAgIG1hcC5vZmYoJ21vdmUnLCB0aGlzLm1hcENoYW5nZSk7XG4gICAgICAgIG1hcC5vZmYoJ3pvb20nLCB0aGlzLm1hcENoYW5nZSk7XG4gICAgfTtcbiAgICBDbHVzdGVyLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAocHJldlByb3BzKSB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IHByZXZQcm9wcy5jaGlsZHJlbjtcbiAgICAgICAgaWYgKGNoaWxkcmVuICE9PSB0aGlzLnByb3BzLmNoaWxkcmVuICYmIHRoaXMucHJvcHMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5DaGFuZ2UodGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gICAgICAgICAgICB0aGlzLm1hcENoYW5nZSh0cnVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2x1c3Rlci5wcm90b3R5cGUuZmVhdHVyZSA9IGZ1bmN0aW9uIChjb29yZGluYXRlcykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ0ZlYXR1cmUnLFxuICAgICAgICAgICAgZ2VvbWV0cnk6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnUG9pbnQnLFxuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlc1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHt9XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBDbHVzdGVyLnByb3RvdHlwZS5maW5kTWFya2VyRWxlbWVudCA9IGZ1bmN0aW9uICh0YXJnZXQsIGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQucGFyZW50RWxlbWVudCA9PT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5maW5kTWFya2VyRWxlbWVudCh0YXJnZXQsIGVsZW1lbnQucGFyZW50RWxlbWVudCk7XG4gICAgfTtcbiAgICBDbHVzdGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIENsdXN0ZXJNYXJrZXJGYWN0b3J5ID0gX2EuQ2x1c3Rlck1hcmtlckZhY3RvcnksIHN0eWxlID0gX2Euc3R5bGUsIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSwgdGFiSW5kZXggPSBfYS50YWJJbmRleDtcbiAgICAgICAgdmFyIGNsdXN0ZXJQb2ludHMgPSB0aGlzLnN0YXRlLmNsdXN0ZXJQb2ludHM7XG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiBzdHlsZSwgY2xhc3NOYW1lOiBjbGFzc05hbWUsIHRhYkluZGV4OiB0YWJJbmRleCwgb25DbGljazogdGhpcy5wcm9wcy56b29tT25DbGljayA/IHRoaXMuem9vbVRvQ2x1c3RlckJvdW5kcyA6IHVuZGVmaW5lZCB9LCBjbHVzdGVyUG9pbnRzLm1hcChmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICAgICAgaWYgKGZlYXR1cmUucHJvcGVydGllcyAmJiBmZWF0dXJlLnByb3BlcnRpZXMuY2x1c3Rlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBDbHVzdGVyTWFya2VyRmFjdG9yeShmZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzLCBmZWF0dXJlLnByb3BlcnRpZXMucG9pbnRfY291bnQsIF90aGlzLmdldExlYXZlcy5iaW5kKF90aGlzLCBmZWF0dXJlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZmVhdHVyZUNsdXN0ZXJNYXAuZ2V0KGZlYXR1cmUpO1xuICAgICAgICB9KSkpO1xuICAgIH07XG4gICAgQ2x1c3Rlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIHJhZGl1czogNjAsXG4gICAgICAgIG1pblpvb206IDAsXG4gICAgICAgIG1heFpvb206IDE2LFxuICAgICAgICBleHRlbnQ6IDUxMixcbiAgICAgICAgbm9kZVNpemU6IDY0LFxuICAgICAgICBsb2c6IGZhbHNlLFxuICAgICAgICB6b29tT25DbGljazogZmFsc2UsXG4gICAgICAgIHpvb21PbkNsaWNrUGFkZGluZzogMjBcbiAgICB9O1xuICAgIHJldHVybiBDbHVzdGVyO1xufShSZWFjdC5Db21wb25lbnQpKTtcbmV4cG9ydCB7IENsdXN0ZXIgfTtcbmV4cG9ydCBkZWZhdWx0IHdpdGhNYXAoQ2x1c3Rlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbHVzdGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/lib-esm/cluster.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/lib-esm/context.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib-esm/context.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MapContext: () => (/* binding */ MapContext),\n/* harmony export */   withMap: () => (/* binding */ withMap)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\nvar MapContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(undefined);\nfunction withMap(Component) {\n    return function MappedComponent(props) {\n        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(MapContext.Consumer, null, function (map) { return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, __assign({ map: map }, props)); }));\n    };\n}\n//# sourceMappingURL=context.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vY29udGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsZ0JBQWdCLFNBQUksSUFBSSxTQUFJO0FBQzVCO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMrQjtBQUN4QixpQkFBaUIsZ0RBQW1CO0FBQ3BDO0FBQ1A7QUFDQSxnQkFBZ0IsZ0RBQW1CLDZDQUE2QyxPQUFPLGdEQUFtQix1QkFBdUIsVUFBVSxZQUFZO0FBQ3ZKO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpdG5lc3MtZW1waXJlLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcGJveC1nbC9saWItZXNtL2NvbnRleHQuanM/ZTQwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuZXhwb3J0IHZhciBNYXBDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCh1bmRlZmluZWQpO1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhNYXAoQ29tcG9uZW50KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIE1hcHBlZENvbXBvbmVudChwcm9wcykge1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWFwQ29udGV4dC5Db25zdW1lciwgbnVsbCwgZnVuY3Rpb24gKG1hcCkgeyByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIF9fYXNzaWduKHsgbWFwOiBtYXAgfSwgcHJvcHMpKTsgfSkpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250ZXh0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/lib-esm/context.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/lib-esm/feature.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib-esm/feature.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Feature: () => (/* binding */ Feature),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar Feature = (function (_super) {\n    __extends(Feature, _super);\n    function Feature() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Feature.prototype.render = function () {\n        return null;\n    };\n    return Feature;\n}(react__WEBPACK_IMPORTED_MODULE_0__.Component));\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Feature);\n//# sourceMappingURL=feature.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vZmVhdHVyZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsQ0FBQztBQUNpQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLENBQUMsNENBQVM7QUFDUTtBQUNuQixpRUFBZSxPQUFPLEVBQUM7QUFDdkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXRuZXNzLWVtcGlyZS8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXBib3gtZ2wvbGliLWVzbS9mZWF0dXJlLmpzP2ZhNjYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbnZhciBGZWF0dXJlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRmVhdHVyZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBGZWF0dXJlKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIEZlYXR1cmUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gRmVhdHVyZTtcbn0oQ29tcG9uZW50KSk7XG5leHBvcnQgeyBGZWF0dXJlIH07XG5leHBvcnQgZGVmYXVsdCBGZWF0dXJlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmVhdHVyZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/lib-esm/feature.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/lib-esm/geojson-layer.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib-esm/geojson-layer.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GeoJSONLayer: () => (/* binding */ GeoJSONLayer),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _util_diff__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/diff */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/util/diff.js\");\n/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/uid */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/util/uid.js\");\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./context */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/context.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\nvar isEqual = __webpack_require__(/*! deep-equal */ \"(ssr)/./node_modules/deep-equal/index.js\");\n\n\n\nvar types = ['symbol', 'line', 'fill', 'fill-extrusion', 'circle'];\nvar toCamelCase = function (str) {\n    return str\n        .replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function (letter, index) {\n        return index === 0 ? letter.toLowerCase() : letter.toUpperCase();\n    })\n        .replace(/[\\s+]|-/g, '');\n};\nvar eventToHandler = {\n    mousemove: 'OnMouseMove',\n    mouseenter: 'OnMouseEnter',\n    mouseleave: 'OnMouseLeave',\n    mousedown: 'OnMouseDown',\n    mouseup: 'OnMouseUp',\n    click: 'OnClick'\n};\nvar GeoJSONLayer = (function (_super) {\n    __extends(GeoJSONLayer, _super);\n    function GeoJSONLayer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.id = _this.props.id || \"geojson-\" + (0,_util_uid__WEBPACK_IMPORTED_MODULE_2__.generateID)();\n        _this.source = __assign({ type: 'geojson' }, _this.props.sourceOptions, { data: _this.props.data });\n        _this.layerIds = [];\n        _this.buildLayerId = function (type) {\n            return _this.id + \"-\" + type;\n        };\n        _this.createLayer = function (type) {\n            var _a = _this.props, before = _a.before, layerOptions = _a.layerOptions, map = _a.map;\n            var layerId = _this.buildLayerId(type);\n            _this.layerIds.push(layerId);\n            var paint = _this.props[toCamelCase(type) + \"Paint\"] || {};\n            var visibility = Object.keys(paint).length ? 'visible' : 'none';\n            var layout = _this.props[toCamelCase(type) + \"Layout\"] || {\n                visibility: visibility\n            };\n            var layer = __assign({ id: layerId, source: _this.id, type: type, paint: paint, layout: layout }, layerOptions);\n            map.addLayer(layer, before);\n            _this.mapLayerMouseHandlers(type);\n        };\n        _this.mapLayerMouseHandlers = function (type) {\n            var map = _this.props.map;\n            var layerId = _this.buildLayerId(type);\n            var events = Object.keys(eventToHandler);\n            events.forEach(function (event) {\n                var handler = _this.props[\"\" + toCamelCase(type) + eventToHandler[event]] || null;\n                if (handler) {\n                    map.on(event, layerId, handler);\n                }\n            });\n        };\n        _this.onStyleDataChange = function () {\n            if (!_this.props.map.getSource(_this.id)) {\n                _this.unbind();\n                _this.initialize();\n                _this.forceUpdate();\n            }\n        };\n        _this.isGeoJSONSource = function (source) {\n            return !!source &&\n                typeof source.setData === 'function';\n        };\n        return _this;\n    }\n    GeoJSONLayer.prototype.initialize = function () {\n        var map = this.props.map;\n        map.addSource(this.id, this.source);\n        this.createLayer('symbol');\n        this.createLayer('line');\n        this.createLayer('fill');\n        this.createLayer('fill-extrusion');\n        this.createLayer('circle');\n    };\n    GeoJSONLayer.prototype.unbind = function () {\n        var _this = this;\n        var map = this.props.map;\n        if (map.getSource(this.id)) {\n            var layers = map.getStyle().layers;\n            if (layers) {\n                layers\n                    .filter(function (layer) { return layer.source === _this.id; })\n                    .forEach(function (layer) { return map.removeLayer(layer.id); });\n            }\n            map.removeSource(this.id);\n        }\n        types.forEach(function (type) {\n            var events = Object.keys(eventToHandler);\n            events.forEach(function (event) {\n                var prop = toCamelCase(type) + eventToHandler[event];\n                if (_this.props[prop]) {\n                    map.off(event, _this.buildLayerId(type), _this.props[prop]);\n                }\n            });\n        });\n        this.layerIds.forEach(function (lId) {\n            if (map.getLayer(lId)) {\n                map.removeLayer(lId);\n            }\n        });\n    };\n    GeoJSONLayer.prototype.componentDidMount = function () {\n        var map = this.props.map;\n        this.initialize();\n        map.on('styledata', this.onStyleDataChange);\n    };\n    GeoJSONLayer.prototype.componentWillUnmount = function () {\n        var map = this.props.map;\n        if (!map || !map.getStyle()) {\n            return;\n        }\n        map.off('styledata', this.onStyleDataChange);\n        this.unbind();\n    };\n    GeoJSONLayer.prototype.componentDidUpdate = function (prevProps) {\n        var _this = this;\n        var data = prevProps.data, before = prevProps.before, layerOptions = prevProps.layerOptions, map = prevProps.map;\n        var source = map.getSource(this.id);\n        if (!this.isGeoJSONSource(source)) {\n            return;\n        }\n        if (this.props.data !== data) {\n            source.setData(this.props.data);\n            this.source = __assign({ type: 'geojson' }, this.props.sourceOptions, { data: this.props.data });\n        }\n        var layerFilterChanged = this.props.layerOptions &&\n            layerOptions &&\n            !isEqual(this.props.layerOptions.filter, layerOptions.filter);\n        types.forEach(function (type) {\n            var layerId = _this.buildLayerId(type);\n            if (_this.props.layerOptions && layerFilterChanged) {\n                map.setFilter(layerId, _this.props.layerOptions.filter || []);\n            }\n            var paintProp = toCamelCase(type) + 'Paint';\n            if (!isEqual(prevProps[paintProp], _this.props[paintProp])) {\n                var paintDiff_1 = (0,_util_diff__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(prevProps[paintProp], _this.props[paintProp]);\n                Object.keys(paintDiff_1).forEach(function (key) {\n                    map.setPaintProperty(layerId, key, paintDiff_1[key]);\n                });\n            }\n            var layoutProp = toCamelCase(type) + 'Layout';\n            if (!isEqual(prevProps[layoutProp], _this.props[layoutProp])) {\n                var layoutDiff_1 = (0,_util_diff__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(prevProps[layoutProp], _this.props[layoutProp]);\n                Object.keys(layoutDiff_1).forEach(function (key) {\n                    map.setLayoutProperty(layerId, key, layoutDiff_1[key]);\n                });\n            }\n            var events = Object.keys(eventToHandler);\n            events.forEach(function (event) {\n                var prop = toCamelCase(type) + eventToHandler[event];\n                if (prevProps[prop] !== _this.props[prop]) {\n                    if (prevProps[prop]) {\n                        map.off(event, layerId, prevProps[prop]);\n                    }\n                    if (_this.props[prop]) {\n                        map.on(event, layerId, _this.props[prop]);\n                    }\n                }\n            });\n            if (before !== _this.props.before) {\n                map.moveLayer(layerId, _this.props.before);\n            }\n        });\n    };\n    GeoJSONLayer.prototype.render = function () {\n        return null;\n    };\n    return GeoJSONLayer;\n}(react__WEBPACK_IMPORTED_MODULE_0__.Component));\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_context__WEBPACK_IMPORTED_MODULE_3__.withMap)(GeoJSONLayer));\n//# sourceMappingURL=geojson-layer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vZ2VvanNvbi1sYXllci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsQ0FBQztBQUNELGdCQUFnQixTQUFJLElBQUksU0FBSTtBQUM1QjtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDK0I7QUFDL0IsY0FBYyxtQkFBTyxDQUFDLDREQUFZO0FBQ0g7QUFDUztBQUNKO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxxREFBVTtBQUM1RCxrQ0FBa0MsaUJBQWlCLCtCQUErQix3QkFBd0I7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMseUVBQXlFO0FBQzVHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsbUNBQW1DO0FBQ2xGLGdEQUFnRCxtQ0FBbUM7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsaUJBQWlCLDhCQUE4Qix1QkFBdUI7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxzREFBSTtBQUN0QztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxzREFBSTtBQUN2QztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsQ0FBQyw0Q0FBZTtBQUNPO0FBQ3hCLGlFQUFlLGlEQUFPLGNBQWMsRUFBQztBQUNyQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpdG5lc3MtZW1waXJlLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcGJveC1nbC9saWItZXNtL2dlb2pzb24tbGF5ZXIuanM/ZTEzNCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbnZhciBpc0VxdWFsID0gcmVxdWlyZSgnZGVlcC1lcXVhbCcpO1xuaW1wb3J0IGRpZmYgZnJvbSAnLi91dGlsL2RpZmYnO1xuaW1wb3J0IHsgZ2VuZXJhdGVJRCB9IGZyb20gJy4vdXRpbC91aWQnO1xuaW1wb3J0IHsgd2l0aE1hcCB9IGZyb20gJy4vY29udGV4dCc7XG52YXIgdHlwZXMgPSBbJ3N5bWJvbCcsICdsaW5lJywgJ2ZpbGwnLCAnZmlsbC1leHRydXNpb24nLCAnY2lyY2xlJ107XG52YXIgdG9DYW1lbENhc2UgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgcmV0dXJuIHN0clxuICAgICAgICAucmVwbGFjZSgvKD86Xlxcd3xbQS1aXXxcXGJcXHcpL2csIGZ1bmN0aW9uIChsZXR0ZXIsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpbmRleCA9PT0gMCA/IGxldHRlci50b0xvd2VyQ2FzZSgpIDogbGV0dGVyLnRvVXBwZXJDYXNlKCk7XG4gICAgfSlcbiAgICAgICAgLnJlcGxhY2UoL1tcXHMrXXwtL2csICcnKTtcbn07XG52YXIgZXZlbnRUb0hhbmRsZXIgPSB7XG4gICAgbW91c2Vtb3ZlOiAnT25Nb3VzZU1vdmUnLFxuICAgIG1vdXNlZW50ZXI6ICdPbk1vdXNlRW50ZXInLFxuICAgIG1vdXNlbGVhdmU6ICdPbk1vdXNlTGVhdmUnLFxuICAgIG1vdXNlZG93bjogJ09uTW91c2VEb3duJyxcbiAgICBtb3VzZXVwOiAnT25Nb3VzZVVwJyxcbiAgICBjbGljazogJ09uQ2xpY2snXG59O1xudmFyIEdlb0pTT05MYXllciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEdlb0pTT05MYXllciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBHZW9KU09OTGF5ZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5pZCA9IF90aGlzLnByb3BzLmlkIHx8IFwiZ2VvanNvbi1cIiArIGdlbmVyYXRlSUQoKTtcbiAgICAgICAgX3RoaXMuc291cmNlID0gX19hc3NpZ24oeyB0eXBlOiAnZ2VvanNvbicgfSwgX3RoaXMucHJvcHMuc291cmNlT3B0aW9ucywgeyBkYXRhOiBfdGhpcy5wcm9wcy5kYXRhIH0pO1xuICAgICAgICBfdGhpcy5sYXllcklkcyA9IFtdO1xuICAgICAgICBfdGhpcy5idWlsZExheWVySWQgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmlkICsgXCItXCIgKyB0eXBlO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5jcmVhdGVMYXllciA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcywgYmVmb3JlID0gX2EuYmVmb3JlLCBsYXllck9wdGlvbnMgPSBfYS5sYXllck9wdGlvbnMsIG1hcCA9IF9hLm1hcDtcbiAgICAgICAgICAgIHZhciBsYXllcklkID0gX3RoaXMuYnVpbGRMYXllcklkKHR5cGUpO1xuICAgICAgICAgICAgX3RoaXMubGF5ZXJJZHMucHVzaChsYXllcklkKTtcbiAgICAgICAgICAgIHZhciBwYWludCA9IF90aGlzLnByb3BzW3RvQ2FtZWxDYXNlKHR5cGUpICsgXCJQYWludFwiXSB8fCB7fTtcbiAgICAgICAgICAgIHZhciB2aXNpYmlsaXR5ID0gT2JqZWN0LmtleXMocGFpbnQpLmxlbmd0aCA/ICd2aXNpYmxlJyA6ICdub25lJztcbiAgICAgICAgICAgIHZhciBsYXlvdXQgPSBfdGhpcy5wcm9wc1t0b0NhbWVsQ2FzZSh0eXBlKSArIFwiTGF5b3V0XCJdIHx8IHtcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmlsaXR5XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGxheWVyID0gX19hc3NpZ24oeyBpZDogbGF5ZXJJZCwgc291cmNlOiBfdGhpcy5pZCwgdHlwZTogdHlwZSwgcGFpbnQ6IHBhaW50LCBsYXlvdXQ6IGxheW91dCB9LCBsYXllck9wdGlvbnMpO1xuICAgICAgICAgICAgbWFwLmFkZExheWVyKGxheWVyLCBiZWZvcmUpO1xuICAgICAgICAgICAgX3RoaXMubWFwTGF5ZXJNb3VzZUhhbmRsZXJzKHR5cGUpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5tYXBMYXllck1vdXNlSGFuZGxlcnMgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgdmFyIG1hcCA9IF90aGlzLnByb3BzLm1hcDtcbiAgICAgICAgICAgIHZhciBsYXllcklkID0gX3RoaXMuYnVpbGRMYXllcklkKHR5cGUpO1xuICAgICAgICAgICAgdmFyIGV2ZW50cyA9IE9iamVjdC5rZXlzKGV2ZW50VG9IYW5kbGVyKTtcbiAgICAgICAgICAgIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVyID0gX3RoaXMucHJvcHNbXCJcIiArIHRvQ2FtZWxDYXNlKHR5cGUpICsgZXZlbnRUb0hhbmRsZXJbZXZlbnRdXSB8fCBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5vbihldmVudCwgbGF5ZXJJZCwgaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uU3R5bGVEYXRhQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5wcm9wcy5tYXAuZ2V0U291cmNlKF90aGlzLmlkKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnVuYmluZCgpO1xuICAgICAgICAgICAgICAgIF90aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5pc0dlb0pTT05Tb3VyY2UgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gISFzb3VyY2UgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2Ygc291cmNlLnNldERhdGEgPT09ICdmdW5jdGlvbic7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgR2VvSlNPTkxheWVyLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWFwID0gdGhpcy5wcm9wcy5tYXA7XG4gICAgICAgIG1hcC5hZGRTb3VyY2UodGhpcy5pZCwgdGhpcy5zb3VyY2UpO1xuICAgICAgICB0aGlzLmNyZWF0ZUxheWVyKCdzeW1ib2wnKTtcbiAgICAgICAgdGhpcy5jcmVhdGVMYXllcignbGluZScpO1xuICAgICAgICB0aGlzLmNyZWF0ZUxheWVyKCdmaWxsJyk7XG4gICAgICAgIHRoaXMuY3JlYXRlTGF5ZXIoJ2ZpbGwtZXh0cnVzaW9uJyk7XG4gICAgICAgIHRoaXMuY3JlYXRlTGF5ZXIoJ2NpcmNsZScpO1xuICAgIH07XG4gICAgR2VvSlNPTkxheWVyLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLnByb3BzLm1hcDtcbiAgICAgICAgaWYgKG1hcC5nZXRTb3VyY2UodGhpcy5pZCkpIHtcbiAgICAgICAgICAgIHZhciBsYXllcnMgPSBtYXAuZ2V0U3R5bGUoKS5sYXllcnM7XG4gICAgICAgICAgICBpZiAobGF5ZXJzKSB7XG4gICAgICAgICAgICAgICAgbGF5ZXJzXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGxheWVyKSB7IHJldHVybiBsYXllci5zb3VyY2UgPT09IF90aGlzLmlkOyB9KVxuICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAobGF5ZXIpIHsgcmV0dXJuIG1hcC5yZW1vdmVMYXllcihsYXllci5pZCk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWFwLnJlbW92ZVNvdXJjZSh0aGlzLmlkKTtcbiAgICAgICAgfVxuICAgICAgICB0eXBlcy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnRzID0gT2JqZWN0LmtleXMoZXZlbnRUb0hhbmRsZXIpO1xuICAgICAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb3AgPSB0b0NhbWVsQ2FzZSh0eXBlKSArIGV2ZW50VG9IYW5kbGVyW2V2ZW50XTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMucHJvcHNbcHJvcF0pIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwLm9mZihldmVudCwgX3RoaXMuYnVpbGRMYXllcklkKHR5cGUpLCBfdGhpcy5wcm9wc1twcm9wXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxheWVySWRzLmZvckVhY2goZnVuY3Rpb24gKGxJZCkge1xuICAgICAgICAgICAgaWYgKG1hcC5nZXRMYXllcihsSWQpKSB7XG4gICAgICAgICAgICAgICAgbWFwLnJlbW92ZUxheWVyKGxJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgR2VvSlNPTkxheWVyLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMucHJvcHMubWFwO1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgbWFwLm9uKCdzdHlsZWRhdGEnLCB0aGlzLm9uU3R5bGVEYXRhQ2hhbmdlKTtcbiAgICB9O1xuICAgIEdlb0pTT05MYXllci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLnByb3BzLm1hcDtcbiAgICAgICAgaWYgKCFtYXAgfHwgIW1hcC5nZXRTdHlsZSgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbWFwLm9mZignc3R5bGVkYXRhJywgdGhpcy5vblN0eWxlRGF0YUNoYW5nZSk7XG4gICAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgfTtcbiAgICBHZW9KU09OTGF5ZXIucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIChwcmV2UHJvcHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGRhdGEgPSBwcmV2UHJvcHMuZGF0YSwgYmVmb3JlID0gcHJldlByb3BzLmJlZm9yZSwgbGF5ZXJPcHRpb25zID0gcHJldlByb3BzLmxheWVyT3B0aW9ucywgbWFwID0gcHJldlByb3BzLm1hcDtcbiAgICAgICAgdmFyIHNvdXJjZSA9IG1hcC5nZXRTb3VyY2UodGhpcy5pZCk7XG4gICAgICAgIGlmICghdGhpcy5pc0dlb0pTT05Tb3VyY2Uoc291cmNlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmRhdGEgIT09IGRhdGEpIHtcbiAgICAgICAgICAgIHNvdXJjZS5zZXREYXRhKHRoaXMucHJvcHMuZGF0YSk7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZSA9IF9fYXNzaWduKHsgdHlwZTogJ2dlb2pzb24nIH0sIHRoaXMucHJvcHMuc291cmNlT3B0aW9ucywgeyBkYXRhOiB0aGlzLnByb3BzLmRhdGEgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxheWVyRmlsdGVyQ2hhbmdlZCA9IHRoaXMucHJvcHMubGF5ZXJPcHRpb25zICYmXG4gICAgICAgICAgICBsYXllck9wdGlvbnMgJiZcbiAgICAgICAgICAgICFpc0VxdWFsKHRoaXMucHJvcHMubGF5ZXJPcHRpb25zLmZpbHRlciwgbGF5ZXJPcHRpb25zLmZpbHRlcik7XG4gICAgICAgIHR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgIHZhciBsYXllcklkID0gX3RoaXMuYnVpbGRMYXllcklkKHR5cGUpO1xuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLmxheWVyT3B0aW9ucyAmJiBsYXllckZpbHRlckNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICBtYXAuc2V0RmlsdGVyKGxheWVySWQsIF90aGlzLnByb3BzLmxheWVyT3B0aW9ucy5maWx0ZXIgfHwgW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHBhaW50UHJvcCA9IHRvQ2FtZWxDYXNlKHR5cGUpICsgJ1BhaW50JztcbiAgICAgICAgICAgIGlmICghaXNFcXVhbChwcmV2UHJvcHNbcGFpbnRQcm9wXSwgX3RoaXMucHJvcHNbcGFpbnRQcm9wXSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFpbnREaWZmXzEgPSBkaWZmKHByZXZQcm9wc1twYWludFByb3BdLCBfdGhpcy5wcm9wc1twYWludFByb3BdKTtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhwYWludERpZmZfMSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5zZXRQYWludFByb3BlcnR5KGxheWVySWQsIGtleSwgcGFpbnREaWZmXzFba2V5XSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbGF5b3V0UHJvcCA9IHRvQ2FtZWxDYXNlKHR5cGUpICsgJ0xheW91dCc7XG4gICAgICAgICAgICBpZiAoIWlzRXF1YWwocHJldlByb3BzW2xheW91dFByb3BdLCBfdGhpcy5wcm9wc1tsYXlvdXRQcm9wXSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGF5b3V0RGlmZl8xID0gZGlmZihwcmV2UHJvcHNbbGF5b3V0UHJvcF0sIF90aGlzLnByb3BzW2xheW91dFByb3BdKTtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhsYXlvdXREaWZmXzEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkobGF5ZXJJZCwga2V5LCBsYXlvdXREaWZmXzFba2V5XSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZXZlbnRzID0gT2JqZWN0LmtleXMoZXZlbnRUb0hhbmRsZXIpO1xuICAgICAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb3AgPSB0b0NhbWVsQ2FzZSh0eXBlKSArIGV2ZW50VG9IYW5kbGVyW2V2ZW50XTtcbiAgICAgICAgICAgICAgICBpZiAocHJldlByb3BzW3Byb3BdICE9PSBfdGhpcy5wcm9wc1twcm9wXSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJldlByb3BzW3Byb3BdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAub2ZmKGV2ZW50LCBsYXllcklkLCBwcmV2UHJvcHNbcHJvcF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wc1twcm9wXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLm9uKGV2ZW50LCBsYXllcklkLCBfdGhpcy5wcm9wc1twcm9wXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChiZWZvcmUgIT09IF90aGlzLnByb3BzLmJlZm9yZSkge1xuICAgICAgICAgICAgICAgIG1hcC5tb3ZlTGF5ZXIobGF5ZXJJZCwgX3RoaXMucHJvcHMuYmVmb3JlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBHZW9KU09OTGF5ZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gR2VvSlNPTkxheWVyO1xufShSZWFjdC5Db21wb25lbnQpKTtcbmV4cG9ydCB7IEdlb0pTT05MYXllciB9O1xuZXhwb3J0IGRlZmF1bHQgd2l0aE1hcChHZW9KU09OTGF5ZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VvanNvbi1sYXllci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/lib-esm/geojson-layer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/lib-esm/image.js":
/*!*******************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib-esm/image.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/context.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar Image = (function (_super) {\n    __extends(Image, _super);\n    function Image() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Image.prototype.componentDidMount = function () {\n        this.loadImage(this.props);\n    };\n    Image.prototype.componentWillUnmount = function () {\n        Image.removeImage(this.props);\n    };\n    Image.prototype.componentDidUpdate = function (prevProps) {\n        var id = prevProps.id;\n        if (prevProps.map !== this.props.map) {\n            Image.removeImage(this.props);\n        }\n        if (this.props.map && !this.props.map.hasImage(id)) {\n            this.loadImage(this.props);\n        }\n    };\n    Image.prototype.render = function () {\n        return null;\n    };\n    Image.prototype.loadImage = function (props) {\n        var _this = this;\n        var map = props.map, id = props.id, url = props.url, data = props.data, options = props.options, onError = props.onError;\n        if (data) {\n            map.addImage(id, data, options);\n            this.loaded();\n        }\n        else if (url) {\n            map.loadImage(url, function (error, image) {\n                if (error) {\n                    if (onError) {\n                        onError(error);\n                    }\n                    return;\n                }\n                map.addImage(id, image, options);\n                _this.loaded();\n            });\n        }\n    };\n    Image.removeImage = function (props) {\n        var id = props.id, map = props.map;\n        if (map && map.getStyle()) {\n            map.removeImage(id);\n        }\n    };\n    Image.prototype.loaded = function () {\n        var onLoaded = this.props.onLoaded;\n        if (onLoaded) {\n            onLoaded();\n        }\n    };\n    return Image;\n}(react__WEBPACK_IMPORTED_MODULE_0__.Component));\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_context__WEBPACK_IMPORTED_MODULE_1__.withMap)(Image));\n//# sourceMappingURL=image.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vaW1hZ2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QjtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDOEI7QUFDSztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLENBQUMsNENBQWU7QUFDakIsaUVBQWUsaURBQU8sT0FBTyxFQUFDO0FBQzlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZml0bmVzcy1lbXBpcmUvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vaW1hZ2UuanM/ZmFkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgd2l0aE1hcCB9IGZyb20gJy4vY29udGV4dCc7XG52YXIgSW1hZ2UgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbWFnZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJbWFnZSgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBJbWFnZS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9hZEltYWdlKHRoaXMucHJvcHMpO1xuICAgIH07XG4gICAgSW1hZ2UucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBJbWFnZS5yZW1vdmVJbWFnZSh0aGlzLnByb3BzKTtcbiAgICB9O1xuICAgIEltYWdlLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAocHJldlByb3BzKSB7XG4gICAgICAgIHZhciBpZCA9IHByZXZQcm9wcy5pZDtcbiAgICAgICAgaWYgKHByZXZQcm9wcy5tYXAgIT09IHRoaXMucHJvcHMubWFwKSB7XG4gICAgICAgICAgICBJbWFnZS5yZW1vdmVJbWFnZSh0aGlzLnByb3BzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wcm9wcy5tYXAgJiYgIXRoaXMucHJvcHMubWFwLmhhc0ltYWdlKGlkKSkge1xuICAgICAgICAgICAgdGhpcy5sb2FkSW1hZ2UodGhpcy5wcm9wcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEltYWdlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgSW1hZ2UucHJvdG90eXBlLmxvYWRJbWFnZSA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbWFwID0gcHJvcHMubWFwLCBpZCA9IHByb3BzLmlkLCB1cmwgPSBwcm9wcy51cmwsIGRhdGEgPSBwcm9wcy5kYXRhLCBvcHRpb25zID0gcHJvcHMub3B0aW9ucywgb25FcnJvciA9IHByb3BzLm9uRXJyb3I7XG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICBtYXAuYWRkSW1hZ2UoaWQsIGRhdGEsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5sb2FkZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh1cmwpIHtcbiAgICAgICAgICAgIG1hcC5sb2FkSW1hZ2UodXJsLCBmdW5jdGlvbiAoZXJyb3IsIGltYWdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1hcC5hZGRJbWFnZShpZCwgaW1hZ2UsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIF90aGlzLmxvYWRlZCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEltYWdlLnJlbW92ZUltYWdlID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHZhciBpZCA9IHByb3BzLmlkLCBtYXAgPSBwcm9wcy5tYXA7XG4gICAgICAgIGlmIChtYXAgJiYgbWFwLmdldFN0eWxlKCkpIHtcbiAgICAgICAgICAgIG1hcC5yZW1vdmVJbWFnZShpZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEltYWdlLnByb3RvdHlwZS5sb2FkZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvbkxvYWRlZCA9IHRoaXMucHJvcHMub25Mb2FkZWQ7XG4gICAgICAgIGlmIChvbkxvYWRlZCkge1xuICAgICAgICAgICAgb25Mb2FkZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEltYWdlO1xufShSZWFjdC5Db21wb25lbnQpKTtcbmV4cG9ydCBkZWZhdWx0IHdpdGhNYXAoSW1hZ2UpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1hZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/lib-esm/image.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/lib-esm/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib-esm/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cluster: () => (/* reexport safe */ _cluster__WEBPACK_IMPORTED_MODULE_10__[\"default\"]),\n/* harmony export */   Feature: () => (/* reexport safe */ _feature__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   GeoJSONLayer: () => (/* reexport safe */ _geojson_layer__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   Image: () => (/* reexport safe */ _image__WEBPACK_IMPORTED_MODULE_12__[\"default\"]),\n/* harmony export */   Layer: () => (/* binding */ Layer),\n/* harmony export */   Map: () => (/* reexport safe */ _map__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   MapContext: () => (/* reexport safe */ _context__WEBPACK_IMPORTED_MODULE_13__.MapContext),\n/* harmony export */   Marker: () => (/* reexport safe */ _marker__WEBPACK_IMPORTED_MODULE_8__[\"default\"]),\n/* harmony export */   Popup: () => (/* reexport safe */ _popup__WEBPACK_IMPORTED_MODULE_6__[\"default\"]),\n/* harmony export */   RotationControl: () => (/* reexport safe */ _rotation_control__WEBPACK_IMPORTED_MODULE_11__[\"default\"]),\n/* harmony export */   ScaleControl: () => (/* reexport safe */ _scale_control__WEBPACK_IMPORTED_MODULE_7__[\"default\"]),\n/* harmony export */   Source: () => (/* reexport safe */ _source__WEBPACK_IMPORTED_MODULE_9__[\"default\"]),\n/* harmony export */   ZoomControl: () => (/* reexport safe */ _zoom_control__WEBPACK_IMPORTED_MODULE_5__[\"default\"]),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./map */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/map.js\");\n/* harmony import */ var _layer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./layer */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/layer.js\");\n/* harmony import */ var _layer_events_hoc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./layer-events-hoc */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/layer-events-hoc.js\");\n/* harmony import */ var _geojson_layer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./geojson-layer */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/geojson-layer.js\");\n/* harmony import */ var _feature__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./feature */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/feature.js\");\n/* harmony import */ var _zoom_control__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./zoom-control */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/zoom-control.js\");\n/* harmony import */ var _popup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./popup */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/popup.js\");\n/* harmony import */ var _scale_control__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./scale-control */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/scale-control.js\");\n/* harmony import */ var _marker__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./marker */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/marker.js\");\n/* harmony import */ var _source__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./source */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/source.js\");\n/* harmony import */ var _cluster__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./cluster */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/cluster.js\");\n/* harmony import */ var _rotation_control__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./rotation-control */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/rotation-control.js\");\n/* harmony import */ var _image__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./image */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/image.js\");\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./context */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/context.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Layer = (0,_context__WEBPACK_IMPORTED_MODULE_13__.withMap)((0,_layer_events_hoc__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_layer__WEBPACK_IMPORTED_MODULE_1__[\"default\"]));\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_map__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3QjtBQUNRO0FBQ3VCO0FBQ1o7QUFDWDtBQUNTO0FBQ2I7QUFDZTtBQUNiO0FBQ0E7QUFDRTtBQUNpQjtBQUNyQjtBQUNvQjtBQUNoRCxZQUFZLGtEQUFPLENBQUMsNkRBQXFCLENBQUMsOENBQVM7QUFDeUY7QUFDNUksaUVBQWUsNENBQUcsRUFBQztBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpdG5lc3MtZW1waXJlLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcGJveC1nbC9saWItZXNtL2luZGV4LmpzPzg5MmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1hcCBmcm9tICcuL21hcCc7XG5pbXBvcnQgQmFzZUxheWVyIGZyb20gJy4vbGF5ZXInO1xuaW1wb3J0IGxheWVyTW91c2VUb3VjaEV2ZW50cyBmcm9tICcuL2xheWVyLWV2ZW50cy1ob2MnO1xuaW1wb3J0IEdlb0pTT05MYXllciBmcm9tICcuL2dlb2pzb24tbGF5ZXInO1xuaW1wb3J0IEZlYXR1cmUgZnJvbSAnLi9mZWF0dXJlJztcbmltcG9ydCBab29tQ29udHJvbCBmcm9tICcuL3pvb20tY29udHJvbCc7XG5pbXBvcnQgUG9wdXAgZnJvbSAnLi9wb3B1cCc7XG5pbXBvcnQgU2NhbGVDb250cm9sIGZyb20gJy4vc2NhbGUtY29udHJvbCc7XG5pbXBvcnQgTWFya2VyIGZyb20gJy4vbWFya2VyJztcbmltcG9ydCBTb3VyY2UgZnJvbSAnLi9zb3VyY2UnO1xuaW1wb3J0IENsdXN0ZXIgZnJvbSAnLi9jbHVzdGVyJztcbmltcG9ydCBSb3RhdGlvbkNvbnRyb2wgZnJvbSAnLi9yb3RhdGlvbi1jb250cm9sJztcbmltcG9ydCBJbWFnZSBmcm9tICcuL2ltYWdlJztcbmltcG9ydCB7IHdpdGhNYXAsIE1hcENvbnRleHQgfSBmcm9tICcuL2NvbnRleHQnO1xudmFyIExheWVyID0gd2l0aE1hcChsYXllck1vdXNlVG91Y2hFdmVudHMoQmFzZUxheWVyKSk7XG5leHBvcnQgeyBGZWF0dXJlLCBMYXllciwgR2VvSlNPTkxheWVyLCBNYXAsIFBvcHVwLCBab29tQ29udHJvbCwgU2NhbGVDb250cm9sLCBNYXJrZXIsIFNvdXJjZSwgQ2x1c3RlciwgUm90YXRpb25Db250cm9sLCBJbWFnZSwgTWFwQ29udGV4dCB9O1xuZXhwb3J0IGRlZmF1bHQgTWFwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/lib-esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/lib-esm/layer-events-hoc.js":
/*!******************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib-esm/layer-events-hoc.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   layerMouseTouchEvents: () => (/* binding */ layerMouseTouchEvents)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/uid */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/util/uid.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n\nfunction layerMouseTouchEvents(WrappedComponent) {\n    return (function (_super) {\n        __extends(EnhancedLayer, _super);\n        function EnhancedLayer() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.hover = [];\n            _this.draggedChildren = undefined;\n            _this.id = _this.props.id || \"layer-\" + (0,_util_uid__WEBPACK_IMPORTED_MODULE_1__.generateID)();\n            _this.getChildren = function () {\n                return []\n                    .concat(_this.props.children)\n                    .filter(function (el) {\n                    return typeof el !== 'undefined';\n                });\n            };\n            _this.getChildFromId = function (children, id) { return children[id]; };\n            _this.areFeaturesDraggable = function (children, featureIds) {\n                if (featureIds === void 0) { featureIds = _this.hover; }\n                return !!featureIds\n                    .map(function (id) {\n                    return _this.getChildFromId(children, id)\n                        ? _this.getChildFromId(children, id).props.draggable\n                        : false;\n                })\n                    .filter(Boolean).length;\n            };\n            _this.onClick = function (evt) {\n                var features = evt.features;\n                var children = _this.getChildren();\n                var map = _this.props.map;\n                if (features) {\n                    features.forEach(function (feature) {\n                        var id = feature.properties.id;\n                        if (children) {\n                            var child = _this.getChildFromId(children, id);\n                            var onClick = child && child.props.onClick;\n                            if (onClick) {\n                                onClick(__assign({}, evt, { feature: feature, map: map }));\n                            }\n                        }\n                    });\n                }\n            };\n            _this.onMouseEnter = function (evt) {\n                var children = _this.getChildren();\n                var map = _this.props.map;\n                _this.hover = [];\n                evt.features.forEach(function (feature) {\n                    var id = feature.properties.id;\n                    var child = _this.getChildFromId(children, id);\n                    _this.hover.push(id);\n                    var onMouseEnter = child && child.props.onMouseEnter;\n                    if (onMouseEnter) {\n                        onMouseEnter(__assign({}, evt, { feature: feature, map: map }));\n                    }\n                });\n                if (_this.areFeaturesDraggable(children)) {\n                    map.dragPan.disable();\n                }\n            };\n            _this.onMouseLeave = function (evt) {\n                var children = _this.getChildren();\n                var map = _this.props.map;\n                if (_this.areFeaturesDraggable(children)) {\n                    map.dragPan.enable();\n                }\n                _this.hover.forEach(function (id) {\n                    var child = _this.getChildFromId(children, id);\n                    var onMouseLeave = child && child.props.onMouseLeave;\n                    if (onMouseLeave) {\n                        onMouseLeave(__assign({}, evt, { map: map }));\n                    }\n                });\n                if (!_this.draggedChildren) {\n                    _this.hover = [];\n                }\n            };\n            _this.onMouseDown = function () {\n                if (_this.hover.length) {\n                    _this.onFeatureDown('mousedown');\n                }\n            };\n            _this.onTouchStart = function (evt) {\n                _this.hover = evt.features.map(function (feature) { return feature.properties.id; });\n                if (_this.hover.length) {\n                    _this.onFeatureDown('touchstart');\n                }\n            };\n            _this.onFeatureDown = function (startEvent) {\n                var moveEvent = startEvent === 'mousedown' ? 'mousemove' : 'touchmove';\n                var endEvent = startEvent === 'mousedown' ? 'mouseup' : 'touchend';\n                var map = _this.props.map;\n                map.once(moveEvent, _this.onFeatureDragStart);\n                map.on(moveEvent, _this.onFeatureDrag);\n                map.once(endEvent, function (evt) {\n                    map.off(moveEvent, _this.onFeatureDragStart);\n                    map.off(moveEvent, _this.onFeatureDrag);\n                    _this.onFeatureDragEnd(evt);\n                });\n            };\n            _this.onFeatureDragStart = function (evt) {\n                var map = _this.props.map;\n                var children = _this.getChildren();\n                _this.hover.forEach(function (id) {\n                    var child = _this.getChildFromId(children, id);\n                    if (child && !child.props.draggable) {\n                        return;\n                    }\n                    var onDragStart = child && child.props.onDragStart;\n                    if (onDragStart) {\n                        onDragStart(__assign({}, evt, { map: map }));\n                    }\n                });\n            };\n            _this.onFeatureDrag = function (evt) {\n                var children = _this.getChildren();\n                var map = _this.props.map;\n                var _a = evt.lngLat, lng = _a.lng, lat = _a.lat;\n                _this.draggedChildren = [];\n                _this.hover.forEach(function (id) {\n                    var child = _this.getChildFromId(children, id);\n                    var onDrag = child && child.props.onDrag;\n                    if (child && child.props.draggable) {\n                        _this.draggedChildren.push(react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child, {\n                            coordinates: [lng, lat]\n                        }));\n                        if (onDrag) {\n                            onDrag(__assign({}, evt, { map: map }));\n                        }\n                    }\n                });\n                _this.forceUpdate();\n            };\n            _this.onFeatureDragEnd = function (evt) {\n                var map = _this.props.map;\n                var children = _this.getChildren();\n                _this.hover.forEach(function (id) {\n                    var child = _this.getChildFromId(children, id);\n                    var onDragEnd = child && child.props.onDragEnd;\n                    if (onDragEnd && child.props.draggable && _this.draggedChildren) {\n                        onDragEnd(__assign({}, evt, { map: map }));\n                    }\n                });\n                _this.draggedChildren = undefined;\n            };\n            return _this;\n        }\n        EnhancedLayer.prototype.componentDidMount = function () {\n            var map = this.props.map;\n            map.on('click', this.id, this.onClick);\n            map.on('mouseenter', this.id, this.onMouseEnter);\n            map.on('mouseleave', this.id, this.onMouseLeave);\n            map.on('mousedown', this.id, this.onMouseDown);\n            map.on('touchstart', this.id, this.onTouchStart);\n        };\n        EnhancedLayer.prototype.componentWillUnmount = function () {\n            var map = this.props.map;\n            map.off('click', this.onClick);\n            map.off('mouseenter', this.onMouseEnter);\n            map.off('mouseleave', this.onMouseLeave);\n            map.off('mousedown', this.onMouseDown);\n            map.off('touchstart', this.onTouchStart);\n        };\n        EnhancedLayer.prototype.render = function () {\n            return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent, __assign({}, this.props, { id: this.id, map: this.props.map, draggedChildren: this.draggedChildren })));\n        };\n        return EnhancedLayer;\n    }(react__WEBPACK_IMPORTED_MODULE_0__.Component));\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (layerMouseTouchEvents);\n//# sourceMappingURL=layer-events-hoc.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vbGF5ZXItZXZlbnRzLWhvYy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QjtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRCxnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQytCO0FBQ1M7QUFDakM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QscURBQVU7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELFNBQVMsNEJBQTRCO0FBQ3hGO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELFNBQVMsNEJBQTRCO0FBQ3JGO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsU0FBUyxVQUFVO0FBQ25FO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLCtCQUErQjtBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsU0FBUyxVQUFVO0FBQ2xFO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELCtDQUFrQjtBQUNyRTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLDhDQUE4QyxTQUFTLFVBQVU7QUFDakU7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsU0FBUyxVQUFVO0FBQ2hFO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnREFBbUIsOEJBQThCLGdCQUFnQix5RUFBeUU7QUFDOUo7QUFDQTtBQUNBLEtBQUssQ0FBQyw0Q0FBZTtBQUNyQjtBQUNBLGlFQUFlLHFCQUFxQixFQUFDO0FBQ3JDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZml0bmVzcy1lbXBpcmUvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vbGF5ZXItZXZlbnRzLWhvYy5qcz83YTIxIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZ2VuZXJhdGVJRCB9IGZyb20gJy4vdXRpbC91aWQnO1xuZXhwb3J0IGZ1bmN0aW9uIGxheWVyTW91c2VUb3VjaEV2ZW50cyhXcmFwcGVkQ29tcG9uZW50KSB7XG4gICAgcmV0dXJuIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIF9fZXh0ZW5kcyhFbmhhbmNlZExheWVyLCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBFbmhhbmNlZExheWVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgICAgICBfdGhpcy5ob3ZlciA9IFtdO1xuICAgICAgICAgICAgX3RoaXMuZHJhZ2dlZENoaWxkcmVuID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgX3RoaXMuaWQgPSBfdGhpcy5wcm9wcy5pZCB8fCBcImxheWVyLVwiICsgZ2VuZXJhdGVJRCgpO1xuICAgICAgICAgICAgX3RoaXMuZ2V0Q2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgICAgICAgICAgICAgIC5jb25jYXQoX3RoaXMucHJvcHMuY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZWwgIT09ICd1bmRlZmluZWQnO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLmdldENoaWxkRnJvbUlkID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBpZCkgeyByZXR1cm4gY2hpbGRyZW5baWRdOyB9O1xuICAgICAgICAgICAgX3RoaXMuYXJlRmVhdHVyZXNEcmFnZ2FibGUgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIGZlYXR1cmVJZHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZUlkcyA9PT0gdm9pZCAwKSB7IGZlYXR1cmVJZHMgPSBfdGhpcy5ob3ZlcjsgfVxuICAgICAgICAgICAgICAgIHJldHVybiAhIWZlYXR1cmVJZHNcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldENoaWxkRnJvbUlkKGNoaWxkcmVuLCBpZClcbiAgICAgICAgICAgICAgICAgICAgICAgID8gX3RoaXMuZ2V0Q2hpbGRGcm9tSWQoY2hpbGRyZW4sIGlkKS5wcm9wcy5kcmFnZ2FibGVcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKS5sZW5ndGg7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMub25DbGljayA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmVhdHVyZXMgPSBldnQuZmVhdHVyZXM7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gX3RoaXMuZ2V0Q2hpbGRyZW4oKTtcbiAgICAgICAgICAgICAgICB2YXIgbWFwID0gX3RoaXMucHJvcHMubWFwO1xuICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlcykge1xuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBmZWF0dXJlLnByb3BlcnRpZXMuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBfdGhpcy5nZXRDaGlsZEZyb21JZChjaGlsZHJlbiwgaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbkNsaWNrID0gY2hpbGQgJiYgY2hpbGQucHJvcHMub25DbGljaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob25DbGljaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrKF9fYXNzaWduKHt9LCBldnQsIHsgZmVhdHVyZTogZmVhdHVyZSwgbWFwOiBtYXAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLm9uTW91c2VFbnRlciA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBfdGhpcy5nZXRDaGlsZHJlbigpO1xuICAgICAgICAgICAgICAgIHZhciBtYXAgPSBfdGhpcy5wcm9wcy5tYXA7XG4gICAgICAgICAgICAgICAgX3RoaXMuaG92ZXIgPSBbXTtcbiAgICAgICAgICAgICAgICBldnQuZmVhdHVyZXMuZm9yRWFjaChmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBmZWF0dXJlLnByb3BlcnRpZXMuaWQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IF90aGlzLmdldENoaWxkRnJvbUlkKGNoaWxkcmVuLCBpZCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhvdmVyLnB1c2goaWQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb25Nb3VzZUVudGVyID0gY2hpbGQgJiYgY2hpbGQucHJvcHMub25Nb3VzZUVudGVyO1xuICAgICAgICAgICAgICAgICAgICBpZiAob25Nb3VzZUVudGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXIoX19hc3NpZ24oe30sIGV2dCwgeyBmZWF0dXJlOiBmZWF0dXJlLCBtYXA6IG1hcCB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuYXJlRmVhdHVyZXNEcmFnZ2FibGUoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5kcmFnUGFuLmRpc2FibGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMub25Nb3VzZUxlYXZlID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IF90aGlzLmdldENoaWxkcmVuKCk7XG4gICAgICAgICAgICAgICAgdmFyIG1hcCA9IF90aGlzLnByb3BzLm1hcDtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuYXJlRmVhdHVyZXNEcmFnZ2FibGUoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5kcmFnUGFuLmVuYWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5ob3Zlci5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBfdGhpcy5nZXRDaGlsZEZyb21JZChjaGlsZHJlbiwgaWQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb25Nb3VzZUxlYXZlID0gY2hpbGQgJiYgY2hpbGQucHJvcHMub25Nb3VzZUxlYXZlO1xuICAgICAgICAgICAgICAgICAgICBpZiAob25Nb3VzZUxlYXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmUoX19hc3NpZ24oe30sIGV2dCwgeyBtYXA6IG1hcCB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmRyYWdnZWRDaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ob3ZlciA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5vbk1vdXNlRG93biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaG92ZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uRmVhdHVyZURvd24oJ21vdXNlZG93bicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5vblRvdWNoU3RhcnQgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaG92ZXIgPSBldnQuZmVhdHVyZXMubWFwKGZ1bmN0aW9uIChmZWF0dXJlKSB7IHJldHVybiBmZWF0dXJlLnByb3BlcnRpZXMuaWQ7IH0pO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5ob3Zlci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub25GZWF0dXJlRG93bigndG91Y2hzdGFydCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5vbkZlYXR1cmVEb3duID0gZnVuY3Rpb24gKHN0YXJ0RXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbW92ZUV2ZW50ID0gc3RhcnRFdmVudCA9PT0gJ21vdXNlZG93bicgPyAnbW91c2Vtb3ZlJyA6ICd0b3VjaG1vdmUnO1xuICAgICAgICAgICAgICAgIHZhciBlbmRFdmVudCA9IHN0YXJ0RXZlbnQgPT09ICdtb3VzZWRvd24nID8gJ21vdXNldXAnIDogJ3RvdWNoZW5kJztcbiAgICAgICAgICAgICAgICB2YXIgbWFwID0gX3RoaXMucHJvcHMubWFwO1xuICAgICAgICAgICAgICAgIG1hcC5vbmNlKG1vdmVFdmVudCwgX3RoaXMub25GZWF0dXJlRHJhZ1N0YXJ0KTtcbiAgICAgICAgICAgICAgICBtYXAub24obW92ZUV2ZW50LCBfdGhpcy5vbkZlYXR1cmVEcmFnKTtcbiAgICAgICAgICAgICAgICBtYXAub25jZShlbmRFdmVudCwgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgICAgICAgICBtYXAub2ZmKG1vdmVFdmVudCwgX3RoaXMub25GZWF0dXJlRHJhZ1N0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgbWFwLm9mZihtb3ZlRXZlbnQsIF90aGlzLm9uRmVhdHVyZURyYWcpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbkZlYXR1cmVEcmFnRW5kKGV2dCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMub25GZWF0dXJlRHJhZ1N0YXJ0ID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgICAgIHZhciBtYXAgPSBfdGhpcy5wcm9wcy5tYXA7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gX3RoaXMuZ2V0Q2hpbGRyZW4oKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5ob3Zlci5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBfdGhpcy5nZXRDaGlsZEZyb21JZChjaGlsZHJlbiwgaWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQgJiYgIWNoaWxkLnByb3BzLmRyYWdnYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBvbkRyYWdTdGFydCA9IGNoaWxkICYmIGNoaWxkLnByb3BzLm9uRHJhZ1N0YXJ0O1xuICAgICAgICAgICAgICAgICAgICBpZiAob25EcmFnU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ1N0YXJ0KF9fYXNzaWduKHt9LCBldnQsIHsgbWFwOiBtYXAgfSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMub25GZWF0dXJlRHJhZyA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBfdGhpcy5nZXRDaGlsZHJlbigpO1xuICAgICAgICAgICAgICAgIHZhciBtYXAgPSBfdGhpcy5wcm9wcy5tYXA7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gZXZ0LmxuZ0xhdCwgbG5nID0gX2EubG5nLCBsYXQgPSBfYS5sYXQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuZHJhZ2dlZENoaWxkcmVuID0gW107XG4gICAgICAgICAgICAgICAgX3RoaXMuaG92ZXIuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gX3RoaXMuZ2V0Q2hpbGRGcm9tSWQoY2hpbGRyZW4sIGlkKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9uRHJhZyA9IGNoaWxkICYmIGNoaWxkLnByb3BzLm9uRHJhZztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkICYmIGNoaWxkLnByb3BzLmRyYWdnYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZHJhZ2dlZENoaWxkcmVuLnB1c2goUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IFtsbmcsIGxhdF1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbkRyYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWcoX19hc3NpZ24oe30sIGV2dCwgeyBtYXA6IG1hcCB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLm9uRmVhdHVyZURyYWdFbmQgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hcCA9IF90aGlzLnByb3BzLm1hcDtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBfdGhpcy5nZXRDaGlsZHJlbigpO1xuICAgICAgICAgICAgICAgIF90aGlzLmhvdmVyLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IF90aGlzLmdldENoaWxkRnJvbUlkKGNoaWxkcmVuLCBpZCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvbkRyYWdFbmQgPSBjaGlsZCAmJiBjaGlsZC5wcm9wcy5vbkRyYWdFbmQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbkRyYWdFbmQgJiYgY2hpbGQucHJvcHMuZHJhZ2dhYmxlICYmIF90aGlzLmRyYWdnZWRDaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnRW5kKF9fYXNzaWduKHt9LCBldnQsIHsgbWFwOiBtYXAgfSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuZHJhZ2dlZENoaWxkcmVuID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICBFbmhhbmNlZExheWVyLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBtYXAgPSB0aGlzLnByb3BzLm1hcDtcbiAgICAgICAgICAgIG1hcC5vbignY2xpY2snLCB0aGlzLmlkLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgICAgICAgbWFwLm9uKCdtb3VzZWVudGVyJywgdGhpcy5pZCwgdGhpcy5vbk1vdXNlRW50ZXIpO1xuICAgICAgICAgICAgbWFwLm9uKCdtb3VzZWxlYXZlJywgdGhpcy5pZCwgdGhpcy5vbk1vdXNlTGVhdmUpO1xuICAgICAgICAgICAgbWFwLm9uKCdtb3VzZWRvd24nLCB0aGlzLmlkLCB0aGlzLm9uTW91c2VEb3duKTtcbiAgICAgICAgICAgIG1hcC5vbigndG91Y2hzdGFydCcsIHRoaXMuaWQsIHRoaXMub25Ub3VjaFN0YXJ0KTtcbiAgICAgICAgfTtcbiAgICAgICAgRW5oYW5jZWRMYXllci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbWFwID0gdGhpcy5wcm9wcy5tYXA7XG4gICAgICAgICAgICBtYXAub2ZmKCdjbGljaycsIHRoaXMub25DbGljayk7XG4gICAgICAgICAgICBtYXAub2ZmKCdtb3VzZWVudGVyJywgdGhpcy5vbk1vdXNlRW50ZXIpO1xuICAgICAgICAgICAgbWFwLm9mZignbW91c2VsZWF2ZScsIHRoaXMub25Nb3VzZUxlYXZlKTtcbiAgICAgICAgICAgIG1hcC5vZmYoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd24pO1xuICAgICAgICAgICAgbWFwLm9mZigndG91Y2hzdGFydCcsIHRoaXMub25Ub3VjaFN0YXJ0KTtcbiAgICAgICAgfTtcbiAgICAgICAgRW5oYW5jZWRMYXllci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFdyYXBwZWRDb21wb25lbnQsIF9fYXNzaWduKHt9LCB0aGlzLnByb3BzLCB7IGlkOiB0aGlzLmlkLCBtYXA6IHRoaXMucHJvcHMubWFwLCBkcmFnZ2VkQ2hpbGRyZW46IHRoaXMuZHJhZ2dlZENoaWxkcmVuIH0pKSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBFbmhhbmNlZExheWVyO1xuICAgIH0oUmVhY3QuQ29tcG9uZW50KSk7XG59XG5leHBvcnQgZGVmYXVsdCBsYXllck1vdXNlVG91Y2hFdmVudHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sYXllci1ldmVudHMtaG9jLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/lib-esm/layer-events-hoc.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/lib-esm/layer.js":
/*!*******************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib-esm/layer.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _util_diff__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/diff */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/util/diff.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\nvar isEqual = __webpack_require__(/*! deep-equal */ \"(ssr)/./node_modules/deep-equal/index.js\");\n\nvar eventToHandler = {\n    touchstart: 'onTouchStart',\n    touchend: 'onTouchEnd',\n    touchcancel: 'onTouchCancel',\n    mousemove: 'onMouseMove',\n    mouseenter: 'onMouseEnter',\n    mouseleave: 'onMouseLeave',\n    mousedown: 'onMouseDown',\n    mouseup: 'onMouseUp',\n    click: 'onClick'\n};\nvar Layer = (function (_super) {\n    __extends(Layer, _super);\n    function Layer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.source = __assign({ type: 'geojson' }, _this.props.geoJSONSourceOptions, { data: {\n                type: 'FeatureCollection',\n                features: []\n            } });\n        _this.geometry = function (coordinates) {\n            switch (_this.props.type) {\n                case 'symbol':\n                case 'circle':\n                    return {\n                        type: 'Point',\n                        coordinates: coordinates\n                    };\n                case 'fill':\n                    if (Array.isArray(coordinates[0][0][0])) {\n                        return {\n                            type: 'MultiPolygon',\n                            coordinates: coordinates\n                        };\n                    }\n                    return {\n                        type: 'Polygon',\n                        coordinates: coordinates\n                    };\n                case 'line':\n                    return {\n                        type: 'LineString',\n                        coordinates: coordinates\n                    };\n                default:\n                    return {\n                        type: 'Point',\n                        coordinates: coordinates\n                    };\n            }\n        };\n        _this.makeFeature = function (props, id) { return ({\n            type: 'Feature',\n            geometry: _this.geometry(props.coordinates),\n            properties: __assign({}, props.properties, { id: id })\n        }); };\n        _this.initialize = function () {\n            var _a = _this.props, type = _a.type, layout = _a.layout, paint = _a.paint, sourceId = _a.sourceId, before = _a.before, images = _a.images, id = _a.id, metadata = _a.metadata, sourceLayer = _a.sourceLayer, minZoom = _a.minZoom, maxZoom = _a.maxZoom, filter = _a.filter;\n            var map = _this.props.map;\n            var layer = {\n                id: id,\n                source: sourceId || id,\n                type: type,\n                layout: layout,\n                paint: paint,\n                metadata: metadata\n            };\n            if (sourceLayer) {\n                layer['source-layer'] = sourceLayer;\n            }\n            if (minZoom) {\n                layer.minzoom = minZoom;\n            }\n            if (maxZoom) {\n                layer.maxzoom = maxZoom;\n            }\n            if (filter) {\n                layer.filter = filter;\n            }\n            if (images) {\n                var normalizedImages = !Array.isArray(images[0]) ? [images] : images;\n                normalizedImages\n                    .filter(function (image) { return !map.hasImage(image[0]); })\n                    .forEach(function (image) {\n                    map.addImage(image[0], image[1], image[2]);\n                });\n            }\n            if (!sourceId && !map.getSource(id)) {\n                map.addSource(id, _this.source);\n            }\n            if (!map.getLayer(id)) {\n                map.addLayer(layer, before);\n            }\n            Object.entries(eventToHandler).forEach(function (_a) {\n                var event = _a[0], propName = _a[1];\n                var handler = _this.props[propName];\n                if (handler) {\n                    map.on(event, id, handler);\n                }\n            });\n        };\n        _this.onStyleDataChange = function () {\n            if (!_this.props.map.getLayer(_this.props.id)) {\n                _this.initialize();\n                _this.forceUpdate();\n            }\n        };\n        _this.getChildren = function () {\n            var children = _this.props.children;\n            if (!children) {\n                return [];\n            }\n            if (Array.isArray(children)) {\n                return children.reduce(function (arr, next) { return arr.concat(next); }, []);\n            }\n            return [children];\n        };\n        return _this;\n    }\n    Layer.prototype.componentDidMount = function () {\n        var map = this.props.map;\n        this.initialize();\n        map.on('styledata', this.onStyleDataChange);\n    };\n    Layer.prototype.componentWillUnmount = function () {\n        var _this = this;\n        var map = this.props.map;\n        var _a = this.props, images = _a.images, id = _a.id;\n        if (!map || !map.getStyle()) {\n            return;\n        }\n        map.off('styledata', this.onStyleDataChange);\n        Object.entries(eventToHandler).forEach(function (_a) {\n            var event = _a[0], propName = _a[1];\n            var handler = _this.props[propName];\n            if (handler) {\n                map.off(event, id, handler);\n            }\n        });\n        if (map.getLayer(id)) {\n            map.removeLayer(id);\n        }\n        if (!this.props.sourceId) {\n            map.removeSource(id);\n        }\n        if (images) {\n            var normalizedImages = !Array.isArray(images[0]) ? [images] : images;\n            normalizedImages\n                .map(function (_a) {\n                var key = _a[0], rest = _a.slice(1);\n                return key;\n            })\n                .forEach(map.removeImage.bind(map));\n        }\n    };\n    Layer.prototype.componentDidUpdate = function (prevProps) {\n        var _this = this;\n        var paint = prevProps.paint, layout = prevProps.layout, before = prevProps.before, filter = prevProps.filter, id = prevProps.id, minZoom = prevProps.minZoom, maxZoom = prevProps.maxZoom, map = prevProps.map;\n        if (!isEqual(this.props.paint, paint)) {\n            var paintDiff_1 = (0,_util_diff__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(paint, this.props.paint);\n            Object.keys(paintDiff_1).forEach(function (key) {\n                map.setPaintProperty(id, key, paintDiff_1[key]);\n            });\n        }\n        if (!isEqual(this.props.layout, layout)) {\n            var layoutDiff_1 = (0,_util_diff__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(layout, this.props.layout);\n            Object.keys(layoutDiff_1).forEach(function (key) {\n                map.setLayoutProperty(id, key, layoutDiff_1[key]);\n            });\n        }\n        if (!isEqual(this.props.filter, filter)) {\n            map.setFilter(id, this.props.filter);\n        }\n        if (before !== this.props.before) {\n            map.moveLayer(id, this.props.before);\n        }\n        if (minZoom !== this.props.minZoom || maxZoom !== this.props.maxZoom) {\n            map.setLayerZoomRange(id, this.props.minZoom, this.props.maxZoom);\n        }\n        Object.entries(eventToHandler).forEach(function (_a) {\n            var event = _a[0], propName = _a[1];\n            var oldHandler = prevProps[propName];\n            var newHandler = _this.props[propName];\n            if (oldHandler !== newHandler) {\n                if (oldHandler) {\n                    map.off(event, id, oldHandler);\n                }\n                if (newHandler) {\n                    map.on(event, id, newHandler);\n                }\n            }\n        });\n    };\n    Layer.prototype.render = function () {\n        var _this = this;\n        var map = this.props.map;\n        var _a = this.props, sourceId = _a.sourceId, draggedChildren = _a.draggedChildren;\n        var children = this.getChildren();\n        if (draggedChildren) {\n            var draggableChildrenIds_1 = draggedChildren.map(function (child) { return child.key; });\n            children = children.map(function (child) {\n                var indexChildren = draggableChildrenIds_1.indexOf(child.key);\n                if (indexChildren !== -1) {\n                    return draggedChildren[indexChildren];\n                }\n                return child;\n            });\n        }\n        var features = children\n            .map(function (_a, id) {\n            var props = _a.props;\n            return _this.makeFeature(props, id);\n        })\n            .filter(Boolean);\n        var source = map.getSource(sourceId || this.props.id);\n        if (source && !sourceId && source.setData) {\n            source.setData({\n                type: 'FeatureCollection',\n                features: features\n            });\n        }\n        return null;\n    };\n    Layer.defaultProps = {\n        type: 'symbol',\n        layout: {},\n        paint: {}\n    };\n    return Layer;\n}(react__WEBPACK_IMPORTED_MODULE_0__.Component));\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Layer);\n//# sourceMappingURL=layer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vbGF5ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QjtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRCxnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQytCO0FBQy9CLGNBQWMsbUJBQU8sQ0FBQyw0REFBWTtBQUNIO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxpQkFBaUIsc0NBQXNDO0FBQ3pGO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBLG1DQUFtQyxzQkFBc0IsUUFBUTtBQUNqRSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxpQ0FBaUM7QUFDaEY7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCwwQkFBMEI7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixzREFBSTtBQUNsQztBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSwrQkFBK0Isc0RBQUk7QUFDbkM7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRixtQkFBbUI7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxDQUFDLDRDQUFlO0FBQ2pCLGlFQUFlLEtBQUssRUFBQztBQUNyQiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpdG5lc3MtZW1waXJlLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcGJveC1nbC9saWItZXNtL2xheWVyLmpzPzA0MGIiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG52YXIgaXNFcXVhbCA9IHJlcXVpcmUoJ2RlZXAtZXF1YWwnKTtcbmltcG9ydCBkaWZmIGZyb20gJy4vdXRpbC9kaWZmJztcbnZhciBldmVudFRvSGFuZGxlciA9IHtcbiAgICB0b3VjaHN0YXJ0OiAnb25Ub3VjaFN0YXJ0JyxcbiAgICB0b3VjaGVuZDogJ29uVG91Y2hFbmQnLFxuICAgIHRvdWNoY2FuY2VsOiAnb25Ub3VjaENhbmNlbCcsXG4gICAgbW91c2Vtb3ZlOiAnb25Nb3VzZU1vdmUnLFxuICAgIG1vdXNlZW50ZXI6ICdvbk1vdXNlRW50ZXInLFxuICAgIG1vdXNlbGVhdmU6ICdvbk1vdXNlTGVhdmUnLFxuICAgIG1vdXNlZG93bjogJ29uTW91c2VEb3duJyxcbiAgICBtb3VzZXVwOiAnb25Nb3VzZVVwJyxcbiAgICBjbGljazogJ29uQ2xpY2snXG59O1xudmFyIExheWVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTGF5ZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTGF5ZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBfX2Fzc2lnbih7IHR5cGU6ICdnZW9qc29uJyB9LCBfdGhpcy5wcm9wcy5nZW9KU09OU291cmNlT3B0aW9ucywgeyBkYXRhOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ0ZlYXR1cmVDb2xsZWN0aW9uJyxcbiAgICAgICAgICAgICAgICBmZWF0dXJlczogW11cbiAgICAgICAgICAgIH0gfSk7XG4gICAgICAgIF90aGlzLmdlb21ldHJ5ID0gZnVuY3Rpb24gKGNvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF90aGlzLnByb3BzLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzeW1ib2wnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2NpcmNsZSc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUG9pbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVzXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2FzZSAnZmlsbCc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvb3JkaW5hdGVzWzBdWzBdWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnTXVsdGlQb2x5Z29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQb2x5Z29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlc1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNhc2UgJ2xpbmUnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0xpbmVTdHJpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVzXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQb2ludCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXNcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMubWFrZUZlYXR1cmUgPSBmdW5jdGlvbiAocHJvcHMsIGlkKSB7IHJldHVybiAoe1xuICAgICAgICAgICAgdHlwZTogJ0ZlYXR1cmUnLFxuICAgICAgICAgICAgZ2VvbWV0cnk6IF90aGlzLmdlb21ldHJ5KHByb3BzLmNvb3JkaW5hdGVzKSxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IF9fYXNzaWduKHt9LCBwcm9wcy5wcm9wZXJ0aWVzLCB7IGlkOiBpZCB9KVxuICAgICAgICB9KTsgfTtcbiAgICAgICAgX3RoaXMuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCB0eXBlID0gX2EudHlwZSwgbGF5b3V0ID0gX2EubGF5b3V0LCBwYWludCA9IF9hLnBhaW50LCBzb3VyY2VJZCA9IF9hLnNvdXJjZUlkLCBiZWZvcmUgPSBfYS5iZWZvcmUsIGltYWdlcyA9IF9hLmltYWdlcywgaWQgPSBfYS5pZCwgbWV0YWRhdGEgPSBfYS5tZXRhZGF0YSwgc291cmNlTGF5ZXIgPSBfYS5zb3VyY2VMYXllciwgbWluWm9vbSA9IF9hLm1pblpvb20sIG1heFpvb20gPSBfYS5tYXhab29tLCBmaWx0ZXIgPSBfYS5maWx0ZXI7XG4gICAgICAgICAgICB2YXIgbWFwID0gX3RoaXMucHJvcHMubWFwO1xuICAgICAgICAgICAgdmFyIGxheWVyID0ge1xuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICBzb3VyY2U6IHNvdXJjZUlkIHx8IGlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgbGF5b3V0OiBsYXlvdXQsXG4gICAgICAgICAgICAgICAgcGFpbnQ6IHBhaW50LFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBtZXRhZGF0YVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChzb3VyY2VMYXllcikge1xuICAgICAgICAgICAgICAgIGxheWVyWydzb3VyY2UtbGF5ZXInXSA9IHNvdXJjZUxheWVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1pblpvb20pIHtcbiAgICAgICAgICAgICAgICBsYXllci5taW56b29tID0gbWluWm9vbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtYXhab29tKSB7XG4gICAgICAgICAgICAgICAgbGF5ZXIubWF4em9vbSA9IG1heFpvb207XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgbGF5ZXIuZmlsdGVyID0gZmlsdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGltYWdlcykge1xuICAgICAgICAgICAgICAgIHZhciBub3JtYWxpemVkSW1hZ2VzID0gIUFycmF5LmlzQXJyYXkoaW1hZ2VzWzBdKSA/IFtpbWFnZXNdIDogaW1hZ2VzO1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRJbWFnZXNcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoaW1hZ2UpIHsgcmV0dXJuICFtYXAuaGFzSW1hZ2UoaW1hZ2VbMF0pOyB9KVxuICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwLmFkZEltYWdlKGltYWdlWzBdLCBpbWFnZVsxXSwgaW1hZ2VbMl0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzb3VyY2VJZCAmJiAhbWFwLmdldFNvdXJjZShpZCkpIHtcbiAgICAgICAgICAgICAgICBtYXAuYWRkU291cmNlKGlkLCBfdGhpcy5zb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFtYXAuZ2V0TGF5ZXIoaWQpKSB7XG4gICAgICAgICAgICAgICAgbWFwLmFkZExheWVyKGxheWVyLCBiZWZvcmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoZXZlbnRUb0hhbmRsZXIpLmZvckVhY2goZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gX2FbMF0sIHByb3BOYW1lID0gX2FbMV07XG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBfdGhpcy5wcm9wc1twcm9wTmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwLm9uKGV2ZW50LCBpZCwgaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uU3R5bGVEYXRhQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5wcm9wcy5tYXAuZ2V0TGF5ZXIoX3RoaXMucHJvcHMuaWQpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICAgICAgICAgIF90aGlzLmZvcmNlVXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmdldENoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gX3RoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgICAgICAgICBpZiAoIWNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuLnJlZHVjZShmdW5jdGlvbiAoYXJyLCBuZXh0KSB7IHJldHVybiBhcnIuY29uY2F0KG5leHQpOyB9LCBbXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW2NoaWxkcmVuXTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBMYXllci5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLnByb3BzLm1hcDtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgIG1hcC5vbignc3R5bGVkYXRhJywgdGhpcy5vblN0eWxlRGF0YUNoYW5nZSk7XG4gICAgfTtcbiAgICBMYXllci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLnByb3BzLm1hcDtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgaW1hZ2VzID0gX2EuaW1hZ2VzLCBpZCA9IF9hLmlkO1xuICAgICAgICBpZiAoIW1hcCB8fCAhbWFwLmdldFN0eWxlKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBtYXAub2ZmKCdzdHlsZWRhdGEnLCB0aGlzLm9uU3R5bGVEYXRhQ2hhbmdlKTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoZXZlbnRUb0hhbmRsZXIpLmZvckVhY2goZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBfYVswXSwgcHJvcE5hbWUgPSBfYVsxXTtcbiAgICAgICAgICAgIHZhciBoYW5kbGVyID0gX3RoaXMucHJvcHNbcHJvcE5hbWVdO1xuICAgICAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBtYXAub2ZmKGV2ZW50LCBpZCwgaGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobWFwLmdldExheWVyKGlkKSkge1xuICAgICAgICAgICAgbWFwLnJlbW92ZUxheWVyKGlkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMucHJvcHMuc291cmNlSWQpIHtcbiAgICAgICAgICAgIG1hcC5yZW1vdmVTb3VyY2UoaWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbWFnZXMpIHtcbiAgICAgICAgICAgIHZhciBub3JtYWxpemVkSW1hZ2VzID0gIUFycmF5LmlzQXJyYXkoaW1hZ2VzWzBdKSA/IFtpbWFnZXNdIDogaW1hZ2VzO1xuICAgICAgICAgICAgbm9ybWFsaXplZEltYWdlc1xuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IF9hWzBdLCByZXN0ID0gX2Euc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZvckVhY2gobWFwLnJlbW92ZUltYWdlLmJpbmQobWFwKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExheWVyLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAocHJldlByb3BzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBwYWludCA9IHByZXZQcm9wcy5wYWludCwgbGF5b3V0ID0gcHJldlByb3BzLmxheW91dCwgYmVmb3JlID0gcHJldlByb3BzLmJlZm9yZSwgZmlsdGVyID0gcHJldlByb3BzLmZpbHRlciwgaWQgPSBwcmV2UHJvcHMuaWQsIG1pblpvb20gPSBwcmV2UHJvcHMubWluWm9vbSwgbWF4Wm9vbSA9IHByZXZQcm9wcy5tYXhab29tLCBtYXAgPSBwcmV2UHJvcHMubWFwO1xuICAgICAgICBpZiAoIWlzRXF1YWwodGhpcy5wcm9wcy5wYWludCwgcGFpbnQpKSB7XG4gICAgICAgICAgICB2YXIgcGFpbnREaWZmXzEgPSBkaWZmKHBhaW50LCB0aGlzLnByb3BzLnBhaW50KTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHBhaW50RGlmZl8xKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICBtYXAuc2V0UGFpbnRQcm9wZXJ0eShpZCwga2V5LCBwYWludERpZmZfMVtrZXldKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFcXVhbCh0aGlzLnByb3BzLmxheW91dCwgbGF5b3V0KSkge1xuICAgICAgICAgICAgdmFyIGxheW91dERpZmZfMSA9IGRpZmYobGF5b3V0LCB0aGlzLnByb3BzLmxheW91dCk7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhsYXlvdXREaWZmXzEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eShpZCwga2V5LCBsYXlvdXREaWZmXzFba2V5XSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwodGhpcy5wcm9wcy5maWx0ZXIsIGZpbHRlcikpIHtcbiAgICAgICAgICAgIG1hcC5zZXRGaWx0ZXIoaWQsIHRoaXMucHJvcHMuZmlsdGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmVmb3JlICE9PSB0aGlzLnByb3BzLmJlZm9yZSkge1xuICAgICAgICAgICAgbWFwLm1vdmVMYXllcihpZCwgdGhpcy5wcm9wcy5iZWZvcmUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtaW5ab29tICE9PSB0aGlzLnByb3BzLm1pblpvb20gfHwgbWF4Wm9vbSAhPT0gdGhpcy5wcm9wcy5tYXhab29tKSB7XG4gICAgICAgICAgICBtYXAuc2V0TGF5ZXJab29tUmFuZ2UoaWQsIHRoaXMucHJvcHMubWluWm9vbSwgdGhpcy5wcm9wcy5tYXhab29tKTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhldmVudFRvSGFuZGxlcikuZm9yRWFjaChmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IF9hWzBdLCBwcm9wTmFtZSA9IF9hWzFdO1xuICAgICAgICAgICAgdmFyIG9sZEhhbmRsZXIgPSBwcmV2UHJvcHNbcHJvcE5hbWVdO1xuICAgICAgICAgICAgdmFyIG5ld0hhbmRsZXIgPSBfdGhpcy5wcm9wc1twcm9wTmFtZV07XG4gICAgICAgICAgICBpZiAob2xkSGFuZGxlciAhPT0gbmV3SGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGlmIChvbGRIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5vZmYoZXZlbnQsIGlkLCBvbGRIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5ld0hhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwLm9uKGV2ZW50LCBpZCwgbmV3SGFuZGxlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExheWVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLnByb3BzLm1hcDtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgc291cmNlSWQgPSBfYS5zb3VyY2VJZCwgZHJhZ2dlZENoaWxkcmVuID0gX2EuZHJhZ2dlZENoaWxkcmVuO1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLmdldENoaWxkcmVuKCk7XG4gICAgICAgIGlmIChkcmFnZ2VkQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHZhciBkcmFnZ2FibGVDaGlsZHJlbklkc18xID0gZHJhZ2dlZENoaWxkcmVuLm1hcChmdW5jdGlvbiAoY2hpbGQpIHsgcmV0dXJuIGNoaWxkLmtleTsgfSk7XG4gICAgICAgICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLm1hcChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXhDaGlsZHJlbiA9IGRyYWdnYWJsZUNoaWxkcmVuSWRzXzEuaW5kZXhPZihjaGlsZC5rZXkpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleENoaWxkcmVuICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHJhZ2dlZENoaWxkcmVuW2luZGV4Q2hpbGRyZW5dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmVhdHVyZXMgPSBjaGlsZHJlblxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoX2EsIGlkKSB7XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSBfYS5wcm9wcztcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5tYWtlRmVhdHVyZShwcm9wcywgaWQpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgdmFyIHNvdXJjZSA9IG1hcC5nZXRTb3VyY2Uoc291cmNlSWQgfHwgdGhpcy5wcm9wcy5pZCk7XG4gICAgICAgIGlmIChzb3VyY2UgJiYgIXNvdXJjZUlkICYmIHNvdXJjZS5zZXREYXRhKSB7XG4gICAgICAgICAgICBzb3VyY2Uuc2V0RGF0YSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ0ZlYXR1cmVDb2xsZWN0aW9uJyxcbiAgICAgICAgICAgICAgICBmZWF0dXJlczogZmVhdHVyZXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgTGF5ZXIuZGVmYXVsdFByb3BzID0ge1xuICAgICAgICB0eXBlOiAnc3ltYm9sJyxcbiAgICAgICAgbGF5b3V0OiB7fSxcbiAgICAgICAgcGFpbnQ6IHt9XG4gICAgfTtcbiAgICByZXR1cm4gTGF5ZXI7XG59KFJlYWN0LkNvbXBvbmVudCkpO1xuZXhwb3J0IGRlZmF1bHQgTGF5ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sYXllci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/lib-esm/layer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/lib-esm/map-events.js":
/*!************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib-esm/map-events.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   events: () => (/* binding */ events),\n/* harmony export */   listenEvents: () => (/* binding */ listenEvents),\n/* harmony export */   updateEvents: () => (/* binding */ updateEvents)\n/* harmony export */ });\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar events = {\n    onResize: 'resize',\n    onDblClick: 'dblclick',\n    onClick: 'click',\n    onMouseMove: 'mousemove',\n    onMouseOut: 'mouseout',\n    onMoveStart: 'movestart',\n    onMove: 'move',\n    onMoveEnd: 'moveend',\n    onMouseUp: 'mouseup',\n    onMouseDown: 'mousedown',\n    onDragStart: 'dragstart',\n    onDrag: 'drag',\n    onDragEnd: 'dragend',\n    onZoomStart: 'zoomstart',\n    onZoom: 'zoom',\n    onZoomEnd: 'zoomend',\n    onPitch: 'pitch',\n    onPitchStart: 'pitchstart',\n    onPitchEnd: 'pitchend',\n    onWebGlContextLost: 'webglcontextlost',\n    onWebGlContextRestored: 'webglcontextrestored',\n    onRemove: 'remove',\n    onContextMenu: 'contextmenu',\n    onRender: 'render',\n    onError: 'error',\n    onSourceData: 'sourcedata',\n    onDataLoading: 'dataloading',\n    onStyleDataLoading: 'styledataloading',\n    onStyleImageMissing: 'styleimagemissing',\n    onTouchCancel: 'touchcancel',\n    onData: 'data',\n    onSourceDataLoading: 'sourcedataloading',\n    onTouchMove: 'touchmove',\n    onTouchEnd: 'touchend',\n    onTouchStart: 'touchstart',\n    onStyleData: 'styledata',\n    onBoxZoomStart: 'boxzoomstart',\n    onBoxZoomEnd: 'boxzoomend',\n    onBoxZoomCancel: 'boxzoomcancel',\n    onRotateStart: 'rotatestart',\n    onRotate: 'rotate',\n    onRotateEnd: 'rotateend'\n};\nvar listenEvents = function (partialEvents, props, map) {\n    return Object.keys(partialEvents).reduce(function (listeners, event) {\n        var propEvent = props[event];\n        if (propEvent) {\n            var listener = function (evt) {\n                propEvent(map, evt);\n            };\n            map.on(partialEvents[event], listener);\n            listeners[event] = listener;\n        }\n        return listeners;\n    }, {});\n};\nvar updateEvents = function (listeners, currentProps, map) {\n    var toListenOff = Object.keys(events).filter(function (eventKey) {\n        return listeners[eventKey] && typeof currentProps[eventKey] !== 'function';\n    });\n    toListenOff.forEach(function (key) {\n        map.off(events[key], listeners[key]);\n        delete listeners[key];\n    });\n    var toListenOn = Object.keys(events)\n        .filter(function (key) { return !listeners[key] && typeof currentProps[key] === 'function'; })\n        .reduce(function (acc, next) { return ((acc[next] = events[next]), acc); }, {});\n    var newListeners = listenEvents(toListenOn, currentProps, map);\n    return __assign({}, listeners, newListeners);\n};\n//# sourceMappingURL=map-events.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vbWFwLWV2ZW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7QUFDVDtBQUNPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxpQ0FBaUMsb0VBQW9FO0FBQ3JHLHVDQUF1QywyQ0FBMkMsSUFBSTtBQUN0RjtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZml0bmVzcy1lbXBpcmUvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vbWFwLWV2ZW50cy5qcz9mYjcxIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5leHBvcnQgdmFyIGV2ZW50cyA9IHtcbiAgICBvblJlc2l6ZTogJ3Jlc2l6ZScsXG4gICAgb25EYmxDbGljazogJ2RibGNsaWNrJyxcbiAgICBvbkNsaWNrOiAnY2xpY2snLFxuICAgIG9uTW91c2VNb3ZlOiAnbW91c2Vtb3ZlJyxcbiAgICBvbk1vdXNlT3V0OiAnbW91c2VvdXQnLFxuICAgIG9uTW92ZVN0YXJ0OiAnbW92ZXN0YXJ0JyxcbiAgICBvbk1vdmU6ICdtb3ZlJyxcbiAgICBvbk1vdmVFbmQ6ICdtb3ZlZW5kJyxcbiAgICBvbk1vdXNlVXA6ICdtb3VzZXVwJyxcbiAgICBvbk1vdXNlRG93bjogJ21vdXNlZG93bicsXG4gICAgb25EcmFnU3RhcnQ6ICdkcmFnc3RhcnQnLFxuICAgIG9uRHJhZzogJ2RyYWcnLFxuICAgIG9uRHJhZ0VuZDogJ2RyYWdlbmQnLFxuICAgIG9uWm9vbVN0YXJ0OiAnem9vbXN0YXJ0JyxcbiAgICBvblpvb206ICd6b29tJyxcbiAgICBvblpvb21FbmQ6ICd6b29tZW5kJyxcbiAgICBvblBpdGNoOiAncGl0Y2gnLFxuICAgIG9uUGl0Y2hTdGFydDogJ3BpdGNoc3RhcnQnLFxuICAgIG9uUGl0Y2hFbmQ6ICdwaXRjaGVuZCcsXG4gICAgb25XZWJHbENvbnRleHRMb3N0OiAnd2ViZ2xjb250ZXh0bG9zdCcsXG4gICAgb25XZWJHbENvbnRleHRSZXN0b3JlZDogJ3dlYmdsY29udGV4dHJlc3RvcmVkJyxcbiAgICBvblJlbW92ZTogJ3JlbW92ZScsXG4gICAgb25Db250ZXh0TWVudTogJ2NvbnRleHRtZW51JyxcbiAgICBvblJlbmRlcjogJ3JlbmRlcicsXG4gICAgb25FcnJvcjogJ2Vycm9yJyxcbiAgICBvblNvdXJjZURhdGE6ICdzb3VyY2VkYXRhJyxcbiAgICBvbkRhdGFMb2FkaW5nOiAnZGF0YWxvYWRpbmcnLFxuICAgIG9uU3R5bGVEYXRhTG9hZGluZzogJ3N0eWxlZGF0YWxvYWRpbmcnLFxuICAgIG9uU3R5bGVJbWFnZU1pc3Npbmc6ICdzdHlsZWltYWdlbWlzc2luZycsXG4gICAgb25Ub3VjaENhbmNlbDogJ3RvdWNoY2FuY2VsJyxcbiAgICBvbkRhdGE6ICdkYXRhJyxcbiAgICBvblNvdXJjZURhdGFMb2FkaW5nOiAnc291cmNlZGF0YWxvYWRpbmcnLFxuICAgIG9uVG91Y2hNb3ZlOiAndG91Y2htb3ZlJyxcbiAgICBvblRvdWNoRW5kOiAndG91Y2hlbmQnLFxuICAgIG9uVG91Y2hTdGFydDogJ3RvdWNoc3RhcnQnLFxuICAgIG9uU3R5bGVEYXRhOiAnc3R5bGVkYXRhJyxcbiAgICBvbkJveFpvb21TdGFydDogJ2JveHpvb21zdGFydCcsXG4gICAgb25Cb3hab29tRW5kOiAnYm94em9vbWVuZCcsXG4gICAgb25Cb3hab29tQ2FuY2VsOiAnYm94em9vbWNhbmNlbCcsXG4gICAgb25Sb3RhdGVTdGFydDogJ3JvdGF0ZXN0YXJ0JyxcbiAgICBvblJvdGF0ZTogJ3JvdGF0ZScsXG4gICAgb25Sb3RhdGVFbmQ6ICdyb3RhdGVlbmQnXG59O1xuZXhwb3J0IHZhciBsaXN0ZW5FdmVudHMgPSBmdW5jdGlvbiAocGFydGlhbEV2ZW50cywgcHJvcHMsIG1hcCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhwYXJ0aWFsRXZlbnRzKS5yZWR1Y2UoZnVuY3Rpb24gKGxpc3RlbmVycywgZXZlbnQpIHtcbiAgICAgICAgdmFyIHByb3BFdmVudCA9IHByb3BzW2V2ZW50XTtcbiAgICAgICAgaWYgKHByb3BFdmVudCkge1xuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgICAgIHByb3BFdmVudChtYXAsIGV2dCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbWFwLm9uKHBhcnRpYWxFdmVudHNbZXZlbnRdLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICBsaXN0ZW5lcnNbZXZlbnRdID0gbGlzdGVuZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3RlbmVycztcbiAgICB9LCB7fSk7XG59O1xuZXhwb3J0IHZhciB1cGRhdGVFdmVudHMgPSBmdW5jdGlvbiAobGlzdGVuZXJzLCBjdXJyZW50UHJvcHMsIG1hcCkge1xuICAgIHZhciB0b0xpc3Rlbk9mZiA9IE9iamVjdC5rZXlzKGV2ZW50cykuZmlsdGVyKGZ1bmN0aW9uIChldmVudEtleSkge1xuICAgICAgICByZXR1cm4gbGlzdGVuZXJzW2V2ZW50S2V5XSAmJiB0eXBlb2YgY3VycmVudFByb3BzW2V2ZW50S2V5XSAhPT0gJ2Z1bmN0aW9uJztcbiAgICB9KTtcbiAgICB0b0xpc3Rlbk9mZi5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgbWFwLm9mZihldmVudHNba2V5XSwgbGlzdGVuZXJzW2tleV0pO1xuICAgICAgICBkZWxldGUgbGlzdGVuZXJzW2tleV07XG4gICAgfSk7XG4gICAgdmFyIHRvTGlzdGVuT24gPSBPYmplY3Qua2V5cyhldmVudHMpXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gIWxpc3RlbmVyc1trZXldICYmIHR5cGVvZiBjdXJyZW50UHJvcHNba2V5XSA9PT0gJ2Z1bmN0aW9uJzsgfSlcbiAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBuZXh0KSB7IHJldHVybiAoKGFjY1tuZXh0XSA9IGV2ZW50c1tuZXh0XSksIGFjYyk7IH0sIHt9KTtcbiAgICB2YXIgbmV3TGlzdGVuZXJzID0gbGlzdGVuRXZlbnRzKHRvTGlzdGVuT24sIGN1cnJlbnRQcm9wcywgbWFwKTtcbiAgICByZXR1cm4gX19hc3NpZ24oe30sIGxpc3RlbmVycywgbmV3TGlzdGVuZXJzKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAtZXZlbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/lib-esm/map-events.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/lib-esm/map.js":
/*!*****************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib-esm/map.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mapbox-gl */ \"(ssr)/./node_modules/mapbox-gl/dist/mapbox-gl.js\");\n/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mapbox_gl__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _map_events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./map-events */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/map-events.js\");\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./context */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/context.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_4__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n\n\n\n\nvar isEqual = __webpack_require__(/*! deep-equal */ \"(ssr)/./node_modules/deep-equal/index.js\");\nvar defaultZoom = [11];\nvar defaultMovingMethod = 'flyTo';\nvar defaultCenter = [-0.2416815, 51.5285582];\nvar ReactMapboxFactory = function (_a) {\n    var accessToken = _a.accessToken, apiUrl = _a.apiUrl, _b = _a.minZoom, minZoom = _b === void 0 ? 0 : _b, _c = _a.maxZoom, maxZoom = _c === void 0 ? 20 : _c, _d = _a.hash, hash = _d === void 0 ? false : _d, _e = _a.preserveDrawingBuffer, preserveDrawingBuffer = _e === void 0 ? false : _e, _f = _a.scrollZoom, scrollZoom = _f === void 0 ? true : _f, _g = _a.interactive, interactive = _g === void 0 ? true : _g, _h = _a.dragRotate, dragRotate = _h === void 0 ? true : _h, _j = _a.pitchWithRotate, pitchWithRotate = _j === void 0 ? true : _j, _k = _a.attributionControl, attributionControl = _k === void 0 ? true : _k, customAttribution = _a.customAttribution, _l = _a.logoPosition, logoPosition = _l === void 0 ? 'bottom-left' : _l, _m = _a.renderWorldCopies, renderWorldCopies = _m === void 0 ? true : _m, _o = _a.trackResize, trackResize = _o === void 0 ? true : _o, _p = _a.touchZoomRotate, touchZoomRotate = _p === void 0 ? true : _p, _q = _a.doubleClickZoom, doubleClickZoom = _q === void 0 ? true : _q, _r = _a.keyboard, keyboard = _r === void 0 ? true : _r, _s = _a.dragPan, dragPan = _s === void 0 ? true : _s, _t = _a.boxZoom, boxZoom = _t === void 0 ? true : _t, _u = _a.refreshExpiredTiles, refreshExpiredTiles = _u === void 0 ? true : _u, _v = _a.failIfMajorPerformanceCaveat, failIfMajorPerformanceCaveat = _v === void 0 ? false : _v, _w = _a.bearingSnap, bearingSnap = _w === void 0 ? 7 : _w, _x = _a.antialias, antialias = _x === void 0 ? false : _x, mapInstance = _a.mapInstance, transformRequest = _a.transformRequest;\n    var _y;\n    return _y = (function (_super) {\n            __extends(ReactMapboxGl, _super);\n            function ReactMapboxGl() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.state = {\n                    map: mapInstance,\n                    ready: false\n                };\n                _this.listeners = {};\n                _this._isMounted = true;\n                _this.calcCenter = function (bounds) { return [\n                    (bounds[0][0] + bounds[1][0]) / 2,\n                    (bounds[0][1] + bounds[1][1]) / 2\n                ]; };\n                _this.setRef = function (x) {\n                    _this.container = x;\n                };\n                return _this;\n            }\n            ReactMapboxGl.prototype.componentDidMount = function () {\n                var _this = this;\n                var _a = this.props, style = _a.style, onStyleLoad = _a.onStyleLoad, center = _a.center, pitch = _a.pitch, zoom = _a.zoom, fitBounds = _a.fitBounds, fitBoundsOptions = _a.fitBoundsOptions, bearing = _a.bearing, maxBounds = _a.maxBounds;\n                mapbox_gl__WEBPACK_IMPORTED_MODULE_0__.accessToken = accessToken;\n                if (apiUrl) {\n                    mapbox_gl__WEBPACK_IMPORTED_MODULE_0__.config.API_URL = apiUrl;\n                }\n                if (!Array.isArray(zoom)) {\n                    throw new Error('zoom need to be an array type of length 1 for reliable update');\n                }\n                var opts = {\n                    preserveDrawingBuffer: preserveDrawingBuffer,\n                    hash: hash,\n                    zoom: zoom[0],\n                    minZoom: minZoom,\n                    maxZoom: maxZoom,\n                    maxBounds: maxBounds,\n                    container: this.container,\n                    center: fitBounds && center === defaultCenter\n                        ? this.calcCenter(fitBounds)\n                        : center,\n                    style: style,\n                    scrollZoom: scrollZoom,\n                    attributionControl: attributionControl,\n                    customAttribution: customAttribution,\n                    interactive: interactive,\n                    dragRotate: dragRotate,\n                    pitchWithRotate: pitchWithRotate,\n                    renderWorldCopies: renderWorldCopies,\n                    trackResize: trackResize,\n                    touchZoomRotate: touchZoomRotate,\n                    doubleClickZoom: doubleClickZoom,\n                    keyboard: keyboard,\n                    dragPan: dragPan,\n                    boxZoom: boxZoom,\n                    refreshExpiredTiles: refreshExpiredTiles,\n                    logoPosition: logoPosition,\n                    bearingSnap: bearingSnap,\n                    failIfMajorPerformanceCaveat: failIfMajorPerformanceCaveat,\n                    antialias: antialias,\n                    transformRequest: transformRequest\n                };\n                if (bearing) {\n                    if (!Array.isArray(bearing)) {\n                        throw new Error('bearing need to be an array type of length 1 for reliable update');\n                    }\n                    opts.bearing = bearing[0];\n                }\n                if (pitch) {\n                    if (!Array.isArray(pitch)) {\n                        throw new Error('pitch need to be an array type of length 1 for reliable update');\n                    }\n                    opts.pitch = pitch[0];\n                }\n                var map = this.state.map;\n                if (!map) {\n                    map = new mapbox_gl__WEBPACK_IMPORTED_MODULE_0__.Map(opts);\n                    this.setState({ map: map });\n                }\n                if (fitBounds) {\n                    map.fitBounds(fitBounds, fitBoundsOptions, { fitboundUpdate: true });\n                }\n                map.on('load', function (evt) {\n                    if (_this._isMounted) {\n                        _this.setState({ ready: true });\n                    }\n                    if (onStyleLoad) {\n                        onStyleLoad(map, evt);\n                    }\n                });\n                this.listeners = (0,_map_events__WEBPACK_IMPORTED_MODULE_2__.listenEvents)(_map_events__WEBPACK_IMPORTED_MODULE_2__.events, this.props, map);\n            };\n            ReactMapboxGl.prototype.componentWillUnmount = function () {\n                var map = this.state.map;\n                this._isMounted = false;\n                if (map) {\n                    map.remove();\n                }\n            };\n            ReactMapboxGl.prototype.componentDidUpdate = function (prevProps) {\n                var _this = this;\n                var map = this.state.map;\n                if (!map) {\n                    return null;\n                }\n                this.listeners = (0,_map_events__WEBPACK_IMPORTED_MODULE_2__.updateEvents)(this.listeners, this.props, map);\n                var center = map.getCenter();\n                var zoom = map.getZoom();\n                var bearing = map.getBearing();\n                var pitch = map.getPitch();\n                var didZoomUpdate = prevProps.zoom !== this.props.zoom &&\n                    (this.props.zoom && this.props.zoom[0]) !== zoom;\n                var didCenterUpdate = prevProps.center !== this.props.center &&\n                    ((this.props.center && this.props.center[0]) !== center.lng ||\n                        (this.props.center && this.props.center[1]) !== center.lat);\n                var didBearingUpdate = prevProps.bearing !== this.props.bearing &&\n                    (this.props.bearing && this.props.bearing[0]) !== bearing;\n                var didPitchUpdate = prevProps.pitch !== this.props.pitch &&\n                    (this.props.pitch && this.props.pitch[0]) !== pitch;\n                if (this.props.maxBounds) {\n                    var didMaxBoundsUpdate = prevProps.maxBounds !== this.props.maxBounds;\n                    if (didMaxBoundsUpdate) {\n                        map.setMaxBounds(this.props.maxBounds);\n                    }\n                }\n                if (this.props.fitBounds) {\n                    var fitBounds = prevProps.fitBounds;\n                    var didFitBoundsUpdate = fitBounds !== this.props.fitBounds ||\n                        this.props.fitBounds.length !== (fitBounds && fitBounds.length) ||\n                        !!fitBounds.filter(function (c, i) {\n                            var nc = _this.props.fitBounds && _this.props.fitBounds[i];\n                            return c[0] !== (nc && nc[0]) || c[1] !== (nc && nc[1]);\n                        })[0];\n                    if (didFitBoundsUpdate ||\n                        !isEqual(prevProps.fitBoundsOptions, this.props.fitBoundsOptions)) {\n                        map.fitBounds(this.props.fitBounds, this.props.fitBoundsOptions, {\n                            fitboundUpdate: true\n                        });\n                    }\n                }\n                if (didZoomUpdate ||\n                    didCenterUpdate ||\n                    didBearingUpdate ||\n                    didPitchUpdate) {\n                    var mm = this.props.movingMethod || defaultMovingMethod;\n                    var _a = this.props, flyToOptions = _a.flyToOptions, animationOptions = _a.animationOptions;\n                    map[mm](__assign({}, animationOptions, flyToOptions, { zoom: didZoomUpdate && this.props.zoom ? this.props.zoom[0] : zoom, center: didCenterUpdate ? this.props.center : center, bearing: didBearingUpdate ? this.props.bearing : bearing, pitch: didPitchUpdate ? this.props.pitch : pitch }));\n                }\n                if (!isEqual(prevProps.style, this.props.style)) {\n                    map.setStyle(this.props.style);\n                }\n                return null;\n            };\n            ReactMapboxGl.prototype.render = function () {\n                var _a = this.props, containerStyle = _a.containerStyle, className = _a.className, children = _a.children, renderChildrenInPortal = _a.renderChildrenInPortal;\n                var _b = this.state, ready = _b.ready, map = _b.map;\n                if (renderChildrenInPortal) {\n                    var container = ready && map && typeof map.getCanvasContainer === 'function'\n                        ? map.getCanvasContainer()\n                        : undefined;\n                    return (react__WEBPACK_IMPORTED_MODULE_1__.createElement(_context__WEBPACK_IMPORTED_MODULE_3__.MapContext.Provider, { value: map },\n                        react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", { ref: this.setRef, className: className, style: __assign({}, containerStyle) }, ready && container && (0,react_dom__WEBPACK_IMPORTED_MODULE_4__.createPortal)(children, container))));\n                }\n                return (react__WEBPACK_IMPORTED_MODULE_1__.createElement(_context__WEBPACK_IMPORTED_MODULE_3__.MapContext.Provider, { value: map },\n                    react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", { ref: this.setRef, className: className, style: __assign({}, containerStyle) }, ready && children)));\n            };\n            return ReactMapboxGl;\n        }(react__WEBPACK_IMPORTED_MODULE_1__.Component)),\n        _y.defaultProps = {\n            onStyleLoad: function (map, evt) { return null; },\n            center: defaultCenter,\n            zoom: defaultZoom,\n            bearing: 0,\n            movingMethod: defaultMovingMethod,\n            pitch: 0,\n            containerStyle: {\n                textAlign: 'left'\n            }\n        },\n        _y;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ReactMapboxFactory);\n//# sourceMappingURL=map.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vbWFwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QjtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRCxnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ3NDO0FBQ1A7QUFDbUM7QUFDM0I7QUFDRTtBQUN6QyxjQUFjLG1CQUFPLENBQUMsNERBQVk7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrREFBb0I7QUFDcEM7QUFDQSxvQkFBb0IsNkNBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwwQ0FBWTtBQUMxQyxvQ0FBb0MsVUFBVTtBQUM5QztBQUNBO0FBQ0EsaUVBQWlFLHNCQUFzQjtBQUN2RjtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsYUFBYTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixpQ0FBaUMseURBQVksQ0FBQywrQ0FBTTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHlEQUFZO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxvQ0FBb0Msc09BQXNPO0FBQ2pUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGdEQUFtQixDQUFDLGdEQUFVLGFBQWEsWUFBWTtBQUNuRix3QkFBd0IsZ0RBQW1CLFVBQVUsMERBQTBELG1CQUFtQix3QkFBd0IsdURBQVk7QUFDdEs7QUFDQSx3QkFBd0IsZ0RBQW1CLENBQUMsZ0RBQVUsYUFBYSxZQUFZO0FBQy9FLG9CQUFvQixnREFBbUIsVUFBVSwwREFBMEQsbUJBQW1CO0FBQzlIO0FBQ0E7QUFDQSxTQUFTLENBQUMsNENBQWU7QUFDekI7QUFDQSwrQ0FBK0MsY0FBYztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxpRUFBZSxrQkFBa0IsRUFBQztBQUNsQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpdG5lc3MtZW1waXJlLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcGJveC1nbC9saWItZXNtL21hcC5qcz9iYzA0Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuaW1wb3J0ICogYXMgTWFwYm94R2wgZnJvbSAnbWFwYm94LWdsJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGxpc3RlbkV2ZW50cywgZXZlbnRzLCB1cGRhdGVFdmVudHMgfSBmcm9tICcuL21hcC1ldmVudHMnO1xuaW1wb3J0IHsgTWFwQ29udGV4dCB9IGZyb20gJy4vY29udGV4dCc7XG5pbXBvcnQgeyBjcmVhdGVQb3J0YWwgfSBmcm9tICdyZWFjdC1kb20nO1xudmFyIGlzRXF1YWwgPSByZXF1aXJlKCdkZWVwLWVxdWFsJyk7XG52YXIgZGVmYXVsdFpvb20gPSBbMTFdO1xudmFyIGRlZmF1bHRNb3ZpbmdNZXRob2QgPSAnZmx5VG8nO1xudmFyIGRlZmF1bHRDZW50ZXIgPSBbLTAuMjQxNjgxNSwgNTEuNTI4NTU4Ml07XG52YXIgUmVhY3RNYXBib3hGYWN0b3J5ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGFjY2Vzc1Rva2VuID0gX2EuYWNjZXNzVG9rZW4sIGFwaVVybCA9IF9hLmFwaVVybCwgX2IgPSBfYS5taW5ab29tLCBtaW5ab29tID0gX2IgPT09IHZvaWQgMCA/IDAgOiBfYiwgX2MgPSBfYS5tYXhab29tLCBtYXhab29tID0gX2MgPT09IHZvaWQgMCA/IDIwIDogX2MsIF9kID0gX2EuaGFzaCwgaGFzaCA9IF9kID09PSB2b2lkIDAgPyBmYWxzZSA6IF9kLCBfZSA9IF9hLnByZXNlcnZlRHJhd2luZ0J1ZmZlciwgcHJlc2VydmVEcmF3aW5nQnVmZmVyID0gX2UgPT09IHZvaWQgMCA/IGZhbHNlIDogX2UsIF9mID0gX2Euc2Nyb2xsWm9vbSwgc2Nyb2xsWm9vbSA9IF9mID09PSB2b2lkIDAgPyB0cnVlIDogX2YsIF9nID0gX2EuaW50ZXJhY3RpdmUsIGludGVyYWN0aXZlID0gX2cgPT09IHZvaWQgMCA/IHRydWUgOiBfZywgX2ggPSBfYS5kcmFnUm90YXRlLCBkcmFnUm90YXRlID0gX2ggPT09IHZvaWQgMCA/IHRydWUgOiBfaCwgX2ogPSBfYS5waXRjaFdpdGhSb3RhdGUsIHBpdGNoV2l0aFJvdGF0ZSA9IF9qID09PSB2b2lkIDAgPyB0cnVlIDogX2osIF9rID0gX2EuYXR0cmlidXRpb25Db250cm9sLCBhdHRyaWJ1dGlvbkNvbnRyb2wgPSBfayA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9rLCBjdXN0b21BdHRyaWJ1dGlvbiA9IF9hLmN1c3RvbUF0dHJpYnV0aW9uLCBfbCA9IF9hLmxvZ29Qb3NpdGlvbiwgbG9nb1Bvc2l0aW9uID0gX2wgPT09IHZvaWQgMCA/ICdib3R0b20tbGVmdCcgOiBfbCwgX20gPSBfYS5yZW5kZXJXb3JsZENvcGllcywgcmVuZGVyV29ybGRDb3BpZXMgPSBfbSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9tLCBfbyA9IF9hLnRyYWNrUmVzaXplLCB0cmFja1Jlc2l6ZSA9IF9vID09PSB2b2lkIDAgPyB0cnVlIDogX28sIF9wID0gX2EudG91Y2hab29tUm90YXRlLCB0b3VjaFpvb21Sb3RhdGUgPSBfcCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9wLCBfcSA9IF9hLmRvdWJsZUNsaWNrWm9vbSwgZG91YmxlQ2xpY2tab29tID0gX3EgPT09IHZvaWQgMCA/IHRydWUgOiBfcSwgX3IgPSBfYS5rZXlib2FyZCwga2V5Ym9hcmQgPSBfciA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yLCBfcyA9IF9hLmRyYWdQYW4sIGRyYWdQYW4gPSBfcyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9zLCBfdCA9IF9hLmJveFpvb20sIGJveFpvb20gPSBfdCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF90LCBfdSA9IF9hLnJlZnJlc2hFeHBpcmVkVGlsZXMsIHJlZnJlc2hFeHBpcmVkVGlsZXMgPSBfdSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF91LCBfdiA9IF9hLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQsIGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQgPSBfdiA9PT0gdm9pZCAwID8gZmFsc2UgOiBfdiwgX3cgPSBfYS5iZWFyaW5nU25hcCwgYmVhcmluZ1NuYXAgPSBfdyA9PT0gdm9pZCAwID8gNyA6IF93LCBfeCA9IF9hLmFudGlhbGlhcywgYW50aWFsaWFzID0gX3ggPT09IHZvaWQgMCA/IGZhbHNlIDogX3gsIG1hcEluc3RhbmNlID0gX2EubWFwSW5zdGFuY2UsIHRyYW5zZm9ybVJlcXVlc3QgPSBfYS50cmFuc2Zvcm1SZXF1ZXN0O1xuICAgIHZhciBfeTtcbiAgICByZXR1cm4gX3kgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICAgICAgX19leHRlbmRzKFJlYWN0TWFwYm94R2wsIF9zdXBlcik7XG4gICAgICAgICAgICBmdW5jdGlvbiBSZWFjdE1hcGJveEdsKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICAgICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgICAgICAgICBtYXA6IG1hcEluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICByZWFkeTogZmFsc2VcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF90aGlzLmxpc3RlbmVycyA9IHt9O1xuICAgICAgICAgICAgICAgIF90aGlzLl9pc01vdW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF90aGlzLmNhbGNDZW50ZXIgPSBmdW5jdGlvbiAoYm91bmRzKSB7IHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIChib3VuZHNbMF1bMF0gKyBib3VuZHNbMV1bMF0pIC8gMixcbiAgICAgICAgICAgICAgICAgICAgKGJvdW5kc1swXVsxXSArIGJvdW5kc1sxXVsxXSkgLyAyXG4gICAgICAgICAgICAgICAgXTsgfTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRSZWYgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb250YWluZXIgPSB4O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgUmVhY3RNYXBib3hHbC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBzdHlsZSA9IF9hLnN0eWxlLCBvblN0eWxlTG9hZCA9IF9hLm9uU3R5bGVMb2FkLCBjZW50ZXIgPSBfYS5jZW50ZXIsIHBpdGNoID0gX2EucGl0Y2gsIHpvb20gPSBfYS56b29tLCBmaXRCb3VuZHMgPSBfYS5maXRCb3VuZHMsIGZpdEJvdW5kc09wdGlvbnMgPSBfYS5maXRCb3VuZHNPcHRpb25zLCBiZWFyaW5nID0gX2EuYmVhcmluZywgbWF4Qm91bmRzID0gX2EubWF4Qm91bmRzO1xuICAgICAgICAgICAgICAgIE1hcGJveEdsLmFjY2Vzc1Rva2VuID0gYWNjZXNzVG9rZW47XG4gICAgICAgICAgICAgICAgaWYgKGFwaVVybCkge1xuICAgICAgICAgICAgICAgICAgICBNYXBib3hHbC5jb25maWcuQVBJX1VSTCA9IGFwaVVybDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHpvb20pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignem9vbSBuZWVkIHRvIGJlIGFuIGFycmF5IHR5cGUgb2YgbGVuZ3RoIDEgZm9yIHJlbGlhYmxlIHVwZGF0ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiBwcmVzZXJ2ZURyYXdpbmdCdWZmZXIsXG4gICAgICAgICAgICAgICAgICAgIGhhc2g6IGhhc2gsXG4gICAgICAgICAgICAgICAgICAgIHpvb206IHpvb21bMF0sXG4gICAgICAgICAgICAgICAgICAgIG1pblpvb206IG1pblpvb20sXG4gICAgICAgICAgICAgICAgICAgIG1heFpvb206IG1heFpvb20sXG4gICAgICAgICAgICAgICAgICAgIG1heEJvdW5kczogbWF4Qm91bmRzLFxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IGZpdEJvdW5kcyAmJiBjZW50ZXIgPT09IGRlZmF1bHRDZW50ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5jYWxjQ2VudGVyKGZpdEJvdW5kcylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY2VudGVyLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZTogc3R5bGUsXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFpvb206IHNjcm9sbFpvb20sXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0aW9uQ29udHJvbDogYXR0cmlidXRpb25Db250cm9sLFxuICAgICAgICAgICAgICAgICAgICBjdXN0b21BdHRyaWJ1dGlvbjogY3VzdG9tQXR0cmlidXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aXZlOiBpbnRlcmFjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgZHJhZ1JvdGF0ZTogZHJhZ1JvdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgcGl0Y2hXaXRoUm90YXRlOiBwaXRjaFdpdGhSb3RhdGUsXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcldvcmxkQ29waWVzOiByZW5kZXJXb3JsZENvcGllcyxcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tSZXNpemU6IHRyYWNrUmVzaXplLFxuICAgICAgICAgICAgICAgICAgICB0b3VjaFpvb21Sb3RhdGU6IHRvdWNoWm9vbVJvdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgZG91YmxlQ2xpY2tab29tOiBkb3VibGVDbGlja1pvb20sXG4gICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBrZXlib2FyZCxcbiAgICAgICAgICAgICAgICAgICAgZHJhZ1BhbjogZHJhZ1BhbixcbiAgICAgICAgICAgICAgICAgICAgYm94Wm9vbTogYm94Wm9vbSxcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEV4cGlyZWRUaWxlczogcmVmcmVzaEV4cGlyZWRUaWxlcyxcbiAgICAgICAgICAgICAgICAgICAgbG9nb1Bvc2l0aW9uOiBsb2dvUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGJlYXJpbmdTbmFwOiBiZWFyaW5nU25hcCxcbiAgICAgICAgICAgICAgICAgICAgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDogZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCxcbiAgICAgICAgICAgICAgICAgICAgYW50aWFsaWFzOiBhbnRpYWxpYXMsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IHRyYW5zZm9ybVJlcXVlc3RcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChiZWFyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShiZWFyaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiZWFyaW5nIG5lZWQgdG8gYmUgYW4gYXJyYXkgdHlwZSBvZiBsZW5ndGggMSBmb3IgcmVsaWFibGUgdXBkYXRlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3B0cy5iZWFyaW5nID0gYmVhcmluZ1swXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBpdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShwaXRjaCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncGl0Y2ggbmVlZCB0byBiZSBhbiBhcnJheSB0eXBlIG9mIGxlbmd0aCAxIGZvciByZWxpYWJsZSB1cGRhdGUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvcHRzLnBpdGNoID0gcGl0Y2hbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBtYXAgPSB0aGlzLnN0YXRlLm1hcDtcbiAgICAgICAgICAgICAgICBpZiAoIW1hcCkge1xuICAgICAgICAgICAgICAgICAgICBtYXAgPSBuZXcgTWFwYm94R2wuTWFwKG9wdHMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgbWFwOiBtYXAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmaXRCb3VuZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwLmZpdEJvdW5kcyhmaXRCb3VuZHMsIGZpdEJvdW5kc09wdGlvbnMsIHsgZml0Ym91bmRVcGRhdGU6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1hcC5vbignbG9hZCcsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9pc01vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgcmVhZHk6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9uU3R5bGVMb2FkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblN0eWxlTG9hZChtYXAsIGV2dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVycyA9IGxpc3RlbkV2ZW50cyhldmVudHMsIHRoaXMucHJvcHMsIG1hcCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgUmVhY3RNYXBib3hHbC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hcCA9IHRoaXMuc3RhdGUubWFwO1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzTW91bnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChtYXApIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBSZWFjdE1hcGJveEdsLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAocHJldlByb3BzKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgICAgICB2YXIgbWFwID0gdGhpcy5zdGF0ZS5tYXA7XG4gICAgICAgICAgICAgICAgaWYgKCFtYXApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzID0gdXBkYXRlRXZlbnRzKHRoaXMubGlzdGVuZXJzLCB0aGlzLnByb3BzLCBtYXApO1xuICAgICAgICAgICAgICAgIHZhciBjZW50ZXIgPSBtYXAuZ2V0Q2VudGVyKCk7XG4gICAgICAgICAgICAgICAgdmFyIHpvb20gPSBtYXAuZ2V0Wm9vbSgpO1xuICAgICAgICAgICAgICAgIHZhciBiZWFyaW5nID0gbWFwLmdldEJlYXJpbmcoKTtcbiAgICAgICAgICAgICAgICB2YXIgcGl0Y2ggPSBtYXAuZ2V0UGl0Y2goKTtcbiAgICAgICAgICAgICAgICB2YXIgZGlkWm9vbVVwZGF0ZSA9IHByZXZQcm9wcy56b29tICE9PSB0aGlzLnByb3BzLnpvb20gJiZcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMucHJvcHMuem9vbSAmJiB0aGlzLnByb3BzLnpvb21bMF0pICE9PSB6b29tO1xuICAgICAgICAgICAgICAgIHZhciBkaWRDZW50ZXJVcGRhdGUgPSBwcmV2UHJvcHMuY2VudGVyICE9PSB0aGlzLnByb3BzLmNlbnRlciAmJlxuICAgICAgICAgICAgICAgICAgICAoKHRoaXMucHJvcHMuY2VudGVyICYmIHRoaXMucHJvcHMuY2VudGVyWzBdKSAhPT0gY2VudGVyLmxuZyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMucHJvcHMuY2VudGVyICYmIHRoaXMucHJvcHMuY2VudGVyWzFdKSAhPT0gY2VudGVyLmxhdCk7XG4gICAgICAgICAgICAgICAgdmFyIGRpZEJlYXJpbmdVcGRhdGUgPSBwcmV2UHJvcHMuYmVhcmluZyAhPT0gdGhpcy5wcm9wcy5iZWFyaW5nICYmXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLnByb3BzLmJlYXJpbmcgJiYgdGhpcy5wcm9wcy5iZWFyaW5nWzBdKSAhPT0gYmVhcmluZztcbiAgICAgICAgICAgICAgICB2YXIgZGlkUGl0Y2hVcGRhdGUgPSBwcmV2UHJvcHMucGl0Y2ggIT09IHRoaXMucHJvcHMucGl0Y2ggJiZcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMucHJvcHMucGl0Y2ggJiYgdGhpcy5wcm9wcy5waXRjaFswXSkgIT09IHBpdGNoO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm1heEJvdW5kcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGlkTWF4Qm91bmRzVXBkYXRlID0gcHJldlByb3BzLm1heEJvdW5kcyAhPT0gdGhpcy5wcm9wcy5tYXhCb3VuZHM7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWRNYXhCb3VuZHNVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5zZXRNYXhCb3VuZHModGhpcy5wcm9wcy5tYXhCb3VuZHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmZpdEJvdW5kcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZml0Qm91bmRzID0gcHJldlByb3BzLmZpdEJvdW5kcztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpZEZpdEJvdW5kc1VwZGF0ZSA9IGZpdEJvdW5kcyAhPT0gdGhpcy5wcm9wcy5maXRCb3VuZHMgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZml0Qm91bmRzLmxlbmd0aCAhPT0gKGZpdEJvdW5kcyAmJiBmaXRCb3VuZHMubGVuZ3RoKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgISFmaXRCb3VuZHMuZmlsdGVyKGZ1bmN0aW9uIChjLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5jID0gX3RoaXMucHJvcHMuZml0Qm91bmRzICYmIF90aGlzLnByb3BzLmZpdEJvdW5kc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY1swXSAhPT0gKG5jICYmIG5jWzBdKSB8fCBjWzFdICE9PSAobmMgJiYgbmNbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlbMF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWRGaXRCb3VuZHNVcGRhdGUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFpc0VxdWFsKHByZXZQcm9wcy5maXRCb3VuZHNPcHRpb25zLCB0aGlzLnByb3BzLmZpdEJvdW5kc09wdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuZml0Qm91bmRzKHRoaXMucHJvcHMuZml0Qm91bmRzLCB0aGlzLnByb3BzLmZpdEJvdW5kc09wdGlvbnMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXRib3VuZFVwZGF0ZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRpZFpvb21VcGRhdGUgfHxcbiAgICAgICAgICAgICAgICAgICAgZGlkQ2VudGVyVXBkYXRlIHx8XG4gICAgICAgICAgICAgICAgICAgIGRpZEJlYXJpbmdVcGRhdGUgfHxcbiAgICAgICAgICAgICAgICAgICAgZGlkUGl0Y2hVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1tID0gdGhpcy5wcm9wcy5tb3ZpbmdNZXRob2QgfHwgZGVmYXVsdE1vdmluZ01ldGhvZDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgZmx5VG9PcHRpb25zID0gX2EuZmx5VG9PcHRpb25zLCBhbmltYXRpb25PcHRpb25zID0gX2EuYW5pbWF0aW9uT3B0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgbWFwW21tXShfX2Fzc2lnbih7fSwgYW5pbWF0aW9uT3B0aW9ucywgZmx5VG9PcHRpb25zLCB7IHpvb206IGRpZFpvb21VcGRhdGUgJiYgdGhpcy5wcm9wcy56b29tID8gdGhpcy5wcm9wcy56b29tWzBdIDogem9vbSwgY2VudGVyOiBkaWRDZW50ZXJVcGRhdGUgPyB0aGlzLnByb3BzLmNlbnRlciA6IGNlbnRlciwgYmVhcmluZzogZGlkQmVhcmluZ1VwZGF0ZSA/IHRoaXMucHJvcHMuYmVhcmluZyA6IGJlYXJpbmcsIHBpdGNoOiBkaWRQaXRjaFVwZGF0ZSA/IHRoaXMucHJvcHMucGl0Y2ggOiBwaXRjaCB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghaXNFcXVhbChwcmV2UHJvcHMuc3R5bGUsIHRoaXMucHJvcHMuc3R5bGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5zZXRTdHlsZSh0aGlzLnByb3BzLnN0eWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgUmVhY3RNYXBib3hHbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIGNvbnRhaW5lclN0eWxlID0gX2EuY29udGFpbmVyU3R5bGUsIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSwgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgcmVuZGVyQ2hpbGRyZW5JblBvcnRhbCA9IF9hLnJlbmRlckNoaWxkcmVuSW5Qb3J0YWw7XG4gICAgICAgICAgICAgICAgdmFyIF9iID0gdGhpcy5zdGF0ZSwgcmVhZHkgPSBfYi5yZWFkeSwgbWFwID0gX2IubWFwO1xuICAgICAgICAgICAgICAgIGlmIChyZW5kZXJDaGlsZHJlbkluUG9ydGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSByZWFkeSAmJiBtYXAgJiYgdHlwZW9mIG1hcC5nZXRDYW52YXNDb250YWluZXIgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgID8gbWFwLmdldENhbnZhc0NvbnRhaW5lcigpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KE1hcENvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IG1hcCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogdGhpcy5zZXRSZWYsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBzdHlsZTogX19hc3NpZ24oe30sIGNvbnRhaW5lclN0eWxlKSB9LCByZWFkeSAmJiBjb250YWluZXIgJiYgY3JlYXRlUG9ydGFsKGNoaWxkcmVuLCBjb250YWluZXIpKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWFwQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogbWFwIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IHRoaXMuc2V0UmVmLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IF9fYXNzaWduKHt9LCBjb250YWluZXJTdHlsZSkgfSwgcmVhZHkgJiYgY2hpbGRyZW4pKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0TWFwYm94R2w7XG4gICAgICAgIH0oUmVhY3QuQ29tcG9uZW50KSksXG4gICAgICAgIF95LmRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgICAgIG9uU3R5bGVMb2FkOiBmdW5jdGlvbiAobWFwLCBldnQpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICAgICAgICBjZW50ZXI6IGRlZmF1bHRDZW50ZXIsXG4gICAgICAgICAgICB6b29tOiBkZWZhdWx0Wm9vbSxcbiAgICAgICAgICAgIGJlYXJpbmc6IDAsXG4gICAgICAgICAgICBtb3ZpbmdNZXRob2Q6IGRlZmF1bHRNb3ZpbmdNZXRob2QsXG4gICAgICAgICAgICBwaXRjaDogMCxcbiAgICAgICAgICAgIGNvbnRhaW5lclN0eWxlOiB7XG4gICAgICAgICAgICAgICAgdGV4dEFsaWduOiAnbGVmdCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgX3k7XG59O1xuZXhwb3J0IGRlZmF1bHQgUmVhY3RNYXBib3hGYWN0b3J5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/lib-esm/map.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/lib-esm/marker.js":
/*!********************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib-esm/marker.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Marker: () => (/* binding */ Marker),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _projected_layer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./projected-layer */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/projected-layer.js\");\n/* harmony import */ var _util_classname__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/classname */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/util/classname.js\");\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n\n\nvar defaultClassName = ['mapboxgl-marker'];\nvar Marker = function (props) { return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_projected_layer__WEBPACK_IMPORTED_MODULE_1__[\"default\"], __assign({}, __assign({}, props), { type: \"marker\", className: (0,_util_classname__WEBPACK_IMPORTED_MODULE_2__.getClassName)(defaultClassName, props.className) }))); };\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Marker);\n//# sourceMappingURL=marker.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vbWFya2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLGdCQUFnQixTQUFJLElBQUksU0FBSTtBQUM1QjtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDK0I7QUFDZ0I7QUFDQztBQUNoRDtBQUNPLGdDQUFnQyxRQUFRLGdEQUFtQixDQUFDLHdEQUFjLGFBQWEsYUFBYSxZQUFZLDJCQUEyQiw2REFBWSxxQ0FBcUM7QUFDbk0saUVBQWUsTUFBTSxFQUFDO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZml0bmVzcy1lbXBpcmUvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vbWFya2VyLmpzPzAzMjUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9qZWN0ZWRMYXllciBmcm9tICcuL3Byb2plY3RlZC1sYXllcic7XG5pbXBvcnQgeyBnZXRDbGFzc05hbWUgfSBmcm9tICcuL3V0aWwvY2xhc3NuYW1lJztcbnZhciBkZWZhdWx0Q2xhc3NOYW1lID0gWydtYXBib3hnbC1tYXJrZXInXTtcbmV4cG9ydCB2YXIgTWFya2VyID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChQcm9qZWN0ZWRMYXllciwgX19hc3NpZ24oe30sIF9fYXNzaWduKHt9LCBwcm9wcyksIHsgdHlwZTogXCJtYXJrZXJcIiwgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUoZGVmYXVsdENsYXNzTmFtZSwgcHJvcHMuY2xhc3NOYW1lKSB9KSkpOyB9O1xuZXhwb3J0IGRlZmF1bHQgTWFya2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFya2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/lib-esm/marker.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/lib-esm/popup.js":
/*!*******************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib-esm/popup.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   defaultClassName: () => (/* binding */ defaultClassName)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _projected_layer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./projected-layer */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/projected-layer.js\");\n/* harmony import */ var _util_classname__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/classname */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/util/classname.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n\n\nvar defaultClassName = ['mapboxgl-popup'];\nvar Popup = (function (_super) {\n    __extends(Popup, _super);\n    function Popup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Popup.prototype.render = function () {\n        var _a = this.props, children = _a.children, className = _a.className;\n        var props = __assign({}, this.props, { children: undefined });\n        var childrenClassName = (0,_util_classname__WEBPACK_IMPORTED_MODULE_2__.getClassName)(defaultClassName, className);\n        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_projected_layer__WEBPACK_IMPORTED_MODULE_1__[\"default\"], __assign({}, props, { type: \"popup\", className: childrenClassName }),\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"mapboxgl-popup-tip\" }),\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"mapboxgl-popup-content\" }, children)));\n    };\n    return Popup;\n}(react__WEBPACK_IMPORTED_MODULE_0__.Component));\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Popup);\n//# sourceMappingURL=popup.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vcG9wdXAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsQ0FBQztBQUNELGdCQUFnQixTQUFJLElBQUksU0FBSTtBQUM1QjtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDK0I7QUFDZ0I7QUFDQztBQUN6QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdCQUFnQixxQkFBcUI7QUFDcEUsZ0NBQWdDLDZEQUFZO0FBQzVDLGdCQUFnQixnREFBbUIsQ0FBQyx3REFBYyxhQUFhLFdBQVcsNkNBQTZDO0FBQ3ZILFlBQVksZ0RBQW1CLFVBQVUsaUNBQWlDO0FBQzFFLFlBQVksZ0RBQW1CLFVBQVUscUNBQXFDO0FBQzlFO0FBQ0E7QUFDQSxDQUFDLENBQUMsNENBQWU7QUFDakIsaUVBQWUsS0FBSyxFQUFDO0FBQ3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZml0bmVzcy1lbXBpcmUvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vcG9wdXAuanM/OTU0YyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9qZWN0ZWRMYXllciBmcm9tICcuL3Byb2plY3RlZC1sYXllcic7XG5pbXBvcnQgeyBnZXRDbGFzc05hbWUgfSBmcm9tICcuL3V0aWwvY2xhc3NuYW1lJztcbmV4cG9ydCB2YXIgZGVmYXVsdENsYXNzTmFtZSA9IFsnbWFwYm94Z2wtcG9wdXAnXTtcbnZhciBQb3B1cCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBvcHVwLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFBvcHVwKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIFBvcHVwLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZTtcbiAgICAgICAgdmFyIHByb3BzID0gX19hc3NpZ24oe30sIHRoaXMucHJvcHMsIHsgY2hpbGRyZW46IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgdmFyIGNoaWxkcmVuQ2xhc3NOYW1lID0gZ2V0Q2xhc3NOYW1lKGRlZmF1bHRDbGFzc05hbWUsIGNsYXNzTmFtZSk7XG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChQcm9qZWN0ZWRMYXllciwgX19hc3NpZ24oe30sIHByb3BzLCB7IHR5cGU6IFwicG9wdXBcIiwgY2xhc3NOYW1lOiBjaGlsZHJlbkNsYXNzTmFtZSB9KSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibWFwYm94Z2wtcG9wdXAtdGlwXCIgfSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1hcGJveGdsLXBvcHVwLWNvbnRlbnRcIiB9LCBjaGlsZHJlbikpKTtcbiAgICB9O1xuICAgIHJldHVybiBQb3B1cDtcbn0oUmVhY3QuQ29tcG9uZW50KSk7XG5leHBvcnQgZGVmYXVsdCBQb3B1cDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBvcHVwLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/lib-esm/popup.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/lib-esm/projected-layer.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib-esm/projected-layer.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ProjectedLayer: () => (/* binding */ ProjectedLayer),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _util_overlays__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/overlays */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/util/overlays.js\");\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./context */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/context.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n\n\nvar defaultStyle = {\n    zIndex: 3\n};\nvar ProjectedLayer = (function (_super) {\n    __extends(ProjectedLayer, _super);\n    function ProjectedLayer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.container = undefined;\n        _this.prevent = false;\n        _this.state = {};\n        _this.setContainer = function (el) {\n            if (el) {\n                _this.container = el;\n            }\n        };\n        _this.handleMapMove = function () {\n            if (!_this.prevent) {\n                _this.setState((0,_util_overlays__WEBPACK_IMPORTED_MODULE_1__.overlayState)(_this.props, _this.props.map, _this.container));\n            }\n        };\n        return _this;\n    }\n    ProjectedLayer.prototype.componentDidMount = function () {\n        var map = this.props.map;\n        map.on('move', this.handleMapMove);\n        this.handleMapMove();\n    };\n    ProjectedLayer.prototype.havePropsChanged = function (props, prevProps) {\n        return (props.coordinates[0] !== prevProps.coordinates[0] ||\n            props.coordinates[1] !== prevProps.coordinates[1] ||\n            props.offset !== prevProps.offset ||\n            props.anchor !== prevProps.anchor);\n    };\n    ProjectedLayer.prototype.componentDidUpdate = function (prevProps) {\n        if (this.havePropsChanged(this.props, prevProps)) {\n            this.setState((0,_util_overlays__WEBPACK_IMPORTED_MODULE_1__.overlayState)(this.props, this.props.map, this.container));\n        }\n    };\n    ProjectedLayer.prototype.componentWillUnmount = function () {\n        var map = this.props.map;\n        this.prevent = true;\n        map.off('move', this.handleMapMove);\n    };\n    ProjectedLayer.prototype.render = function () {\n        var _a = this.props, style = _a.style, children = _a.children, className = _a.className, onClick = _a.onClick, onDoubleClick = _a.onDoubleClick, onMouseEnter = _a.onMouseEnter, onMouseLeave = _a.onMouseLeave, onScroll = _a.onScroll, onWheel = _a.onWheel, type = _a.type, tabIndex = _a.tabIndex;\n        var anchor = this.state.anchor;\n        var finalStyle = __assign({}, defaultStyle, style, { transform: (0,_util_overlays__WEBPACK_IMPORTED_MODULE_1__.overlayTransform)(this.state).join(' ') });\n        var anchorClassname = anchor && type === 'popup' ? \"mapboxgl-popup-anchor-\" + anchor : '';\n        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: className + \" \" + anchorClassname, onClick: onClick, onDoubleClick: onDoubleClick, onMouseEnter: onMouseEnter, onMouseLeave: onMouseLeave, onScroll: onScroll, onWheel: onWheel, style: finalStyle, ref: this.setContainer, tabIndex: tabIndex }, children));\n    };\n    ProjectedLayer.defaultProps = {\n        offset: 0,\n        onClick: function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return args;\n        }\n    };\n    return ProjectedLayer;\n}(react__WEBPACK_IMPORTED_MODULE_0__.Component));\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_context__WEBPACK_IMPORTED_MODULE_2__.withMap)(ProjectedLayer));\n//# sourceMappingURL=projected-layer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vcHJvamVjdGVkLWxheWVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QjtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRCxnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQytCO0FBQ2tDO0FBQzdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsNERBQVk7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw0REFBWTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx5QkFBeUIsV0FBVyxnRUFBZ0Isd0JBQXdCO0FBQ2hIO0FBQ0EsZ0JBQWdCLGdEQUFtQixVQUFVLDJQQUEyUDtBQUN4UztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHVCQUF1QjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLENBQUMsNENBQWU7QUFDUztBQUMxQixpRUFBZSxpREFBTyxnQkFBZ0IsRUFBQztBQUN2QyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpdG5lc3MtZW1waXJlLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcGJveC1nbC9saWItZXNtL3Byb2plY3RlZC1sYXllci5qcz8xODQwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgb3ZlcmxheVN0YXRlLCBvdmVybGF5VHJhbnNmb3JtIH0gZnJvbSAnLi91dGlsL292ZXJsYXlzJztcbmltcG9ydCB7IHdpdGhNYXAgfSBmcm9tICcuL2NvbnRleHQnO1xudmFyIGRlZmF1bHRTdHlsZSA9IHtcbiAgICB6SW5kZXg6IDNcbn07XG52YXIgUHJvamVjdGVkTGF5ZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQcm9qZWN0ZWRMYXllciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQcm9qZWN0ZWRMYXllcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNvbnRhaW5lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgX3RoaXMucHJldmVudCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHt9O1xuICAgICAgICBfdGhpcy5zZXRDb250YWluZXIgPSBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbnRhaW5lciA9IGVsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5oYW5kbGVNYXBNb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5wcmV2ZW50KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUob3ZlcmxheVN0YXRlKF90aGlzLnByb3BzLCBfdGhpcy5wcm9wcy5tYXAsIF90aGlzLmNvbnRhaW5lcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFByb2plY3RlZExheWVyLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMucHJvcHMubWFwO1xuICAgICAgICBtYXAub24oJ21vdmUnLCB0aGlzLmhhbmRsZU1hcE1vdmUpO1xuICAgICAgICB0aGlzLmhhbmRsZU1hcE1vdmUoKTtcbiAgICB9O1xuICAgIFByb2plY3RlZExheWVyLnByb3RvdHlwZS5oYXZlUHJvcHNDaGFuZ2VkID0gZnVuY3Rpb24gKHByb3BzLCBwcmV2UHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIChwcm9wcy5jb29yZGluYXRlc1swXSAhPT0gcHJldlByb3BzLmNvb3JkaW5hdGVzWzBdIHx8XG4gICAgICAgICAgICBwcm9wcy5jb29yZGluYXRlc1sxXSAhPT0gcHJldlByb3BzLmNvb3JkaW5hdGVzWzFdIHx8XG4gICAgICAgICAgICBwcm9wcy5vZmZzZXQgIT09IHByZXZQcm9wcy5vZmZzZXQgfHxcbiAgICAgICAgICAgIHByb3BzLmFuY2hvciAhPT0gcHJldlByb3BzLmFuY2hvcik7XG4gICAgfTtcbiAgICBQcm9qZWN0ZWRMYXllci5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKHByZXZQcm9wcykge1xuICAgICAgICBpZiAodGhpcy5oYXZlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMsIHByZXZQcm9wcykpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUob3ZlcmxheVN0YXRlKHRoaXMucHJvcHMsIHRoaXMucHJvcHMubWFwLCB0aGlzLmNvbnRhaW5lcikpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQcm9qZWN0ZWRMYXllci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLnByb3BzLm1hcDtcbiAgICAgICAgdGhpcy5wcmV2ZW50ID0gdHJ1ZTtcbiAgICAgICAgbWFwLm9mZignbW92ZScsIHRoaXMuaGFuZGxlTWFwTW92ZSk7XG4gICAgfTtcbiAgICBQcm9qZWN0ZWRMYXllci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBzdHlsZSA9IF9hLnN0eWxlLCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsIG9uQ2xpY2sgPSBfYS5vbkNsaWNrLCBvbkRvdWJsZUNsaWNrID0gX2Eub25Eb3VibGVDbGljaywgb25Nb3VzZUVudGVyID0gX2Eub25Nb3VzZUVudGVyLCBvbk1vdXNlTGVhdmUgPSBfYS5vbk1vdXNlTGVhdmUsIG9uU2Nyb2xsID0gX2Eub25TY3JvbGwsIG9uV2hlZWwgPSBfYS5vbldoZWVsLCB0eXBlID0gX2EudHlwZSwgdGFiSW5kZXggPSBfYS50YWJJbmRleDtcbiAgICAgICAgdmFyIGFuY2hvciA9IHRoaXMuc3RhdGUuYW5jaG9yO1xuICAgICAgICB2YXIgZmluYWxTdHlsZSA9IF9fYXNzaWduKHt9LCBkZWZhdWx0U3R5bGUsIHN0eWxlLCB7IHRyYW5zZm9ybTogb3ZlcmxheVRyYW5zZm9ybSh0aGlzLnN0YXRlKS5qb2luKCcgJykgfSk7XG4gICAgICAgIHZhciBhbmNob3JDbGFzc25hbWUgPSBhbmNob3IgJiYgdHlwZSA9PT0gJ3BvcHVwJyA/IFwibWFwYm94Z2wtcG9wdXAtYW5jaG9yLVwiICsgYW5jaG9yIDogJyc7XG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xhc3NOYW1lICsgXCIgXCIgKyBhbmNob3JDbGFzc25hbWUsIG9uQ2xpY2s6IG9uQ2xpY2ssIG9uRG91YmxlQ2xpY2s6IG9uRG91YmxlQ2xpY2ssIG9uTW91c2VFbnRlcjogb25Nb3VzZUVudGVyLCBvbk1vdXNlTGVhdmU6IG9uTW91c2VMZWF2ZSwgb25TY3JvbGw6IG9uU2Nyb2xsLCBvbldoZWVsOiBvbldoZWVsLCBzdHlsZTogZmluYWxTdHlsZSwgcmVmOiB0aGlzLnNldENvbnRhaW5lciwgdGFiSW5kZXg6IHRhYkluZGV4IH0sIGNoaWxkcmVuKSk7XG4gICAgfTtcbiAgICBQcm9qZWN0ZWRMYXllci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBQcm9qZWN0ZWRMYXllcjtcbn0oUmVhY3QuQ29tcG9uZW50KSk7XG5leHBvcnQgeyBQcm9qZWN0ZWRMYXllciB9O1xuZXhwb3J0IGRlZmF1bHQgd2l0aE1hcChQcm9qZWN0ZWRMYXllcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9qZWN0ZWQtbGF5ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/lib-esm/projected-layer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/lib-esm/rotation-control.js":
/*!******************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib-esm/rotation-control.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RotationControl: () => (/* binding */ RotationControl),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/context.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n\nvar containerStyle = {\n    position: 'absolute',\n    zIndex: 10,\n    display: 'flex',\n    flexDirection: 'column',\n    boxShadow: '0px 1px 4px rgba(0, 0, 0, .3)',\n    border: '1px solid rgba(0, 0, 0, 0.1)'\n};\nvar positions = {\n    'top-right': { top: 62, right: 10, bottom: 'auto', left: 'auto' },\n    'top-left': { top: 62, left: 10, bottom: 'auto', right: 'auto' },\n    'bottom-right': { bottom: 63, right: 10, top: 'auto', left: 'auto' },\n    'bottom-left': { bottom: 63, left: 10, top: 'auto', right: 'auto' }\n};\nvar buttonStyle = {\n    backgroundColor: '#f9f9f9',\n    opacity: 0.95,\n    transition: 'background-color 0.16s ease-out',\n    cursor: 'pointer',\n    border: 0,\n    height: 26,\n    width: 26,\n    outline: 0,\n    padding: 3\n};\nvar buttonStyleHovered = {\n    backgroundColor: '#fff',\n    opacity: 1\n};\nvar buttonStyleCompass = {\n    borderBottom: '1px solid rgba(0, 0, 0, 0.1)',\n    borderTopLeftRadius: 2,\n    borderTopRightRadius: 2,\n    borderBottomLeftRadius: 2,\n    borderBottomRightRadius: 2\n};\nvar Icon = function () { return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { viewBox: \"0 0 20 20\" },\n    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"polygon\", { fill: \"#333333\", points: \"6,9 10,1 14,9\" }),\n    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"polygon\", { fill: \"#CCCCCC\", points: \"6,11 10,19 14,11\" }))); };\nvar compassSpan = {\n    width: 20,\n    height: 20,\n    display: 'inline-block'\n};\nvar COMPASS = [0][0];\nvar POSITIONS = Object.keys(positions);\nvar RotationControl = (function (_super) {\n    __extends(RotationControl, _super);\n    function RotationControl() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            hover: undefined\n        };\n        _this.compassIcon = null;\n        _this.onMouseOut = function () {\n            if (!_this.state.hover) {\n                _this.setState({ hover: undefined });\n            }\n        };\n        _this.onMouseIn = function () {\n            if (COMPASS !== _this.state.hover) {\n                _this.setState({ hover: COMPASS });\n            }\n        };\n        _this.onClickCompass = function () {\n            _this.props.map.resetNorth();\n        };\n        _this.onMapRotate = function () {\n            var map = _this.props.map;\n            var rotate = \"rotate(\" + map.transform.angle *\n                (180 / Math.PI) + \"deg)\";\n            if (_this.compassIcon) {\n                _this.compassIcon.style.transform = rotate;\n            }\n        };\n        _this.assignRef = function (icon) {\n            _this.compassIcon = icon;\n        };\n        return _this;\n    }\n    RotationControl.prototype.componentDidMount = function () {\n        this.props.map.on('rotate', this.onMapRotate);\n    };\n    RotationControl.prototype.componentWillUnmount = function () {\n        this.props.map.off('rotate', this.onMapRotate);\n    };\n    RotationControl.prototype.render = function () {\n        var _a = this.props, position = _a.position, style = _a.style, className = _a.className, tabIndex = _a.tabIndex;\n        var hover = this.state.hover;\n        var controlStyle = __assign({}, buttonStyle, buttonStyleCompass, (hover === COMPASS ? buttonStyleHovered : {}));\n        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: className, tabIndex: tabIndex, style: __assign({}, containerStyle, positions[position], style) },\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { style: controlStyle, onMouseOver: this.onMouseIn, onMouseOut: this.onMouseOut, onClick: this.onClickCompass },\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { ref: this.assignRef, style: compassSpan },\n                    react__WEBPACK_IMPORTED_MODULE_0__.createElement(Icon, null)))));\n    };\n    RotationControl.defaultProps = {\n        position: POSITIONS[0]\n    };\n    return RotationControl;\n}(react__WEBPACK_IMPORTED_MODULE_0__.Component));\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_context__WEBPACK_IMPORTED_MODULE_1__.withMap)(RotationControl));\n//# sourceMappingURL=rotation-control.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vcm90YXRpb24tY29udHJvbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QjtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRCxnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQytCO0FBQ0s7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtEQUFrRDtBQUNyRSxrQkFBa0Isa0RBQWtEO0FBQ3BFLHNCQUFzQixrREFBa0Q7QUFDeEUscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsUUFBUSxnREFBbUIsVUFBVSxzQkFBc0I7QUFDcEYsSUFBSSxnREFBbUIsY0FBYywwQ0FBMEM7QUFDL0UsSUFBSSxnREFBbUIsY0FBYyw2Q0FBNkM7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxrQkFBa0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsZ0JBQWdCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQywrRUFBK0U7QUFDckgsZ0JBQWdCLGdEQUFtQixVQUFVLDREQUE0RCwrQ0FBK0M7QUFDeEosWUFBWSxnREFBbUIsYUFBYSw2R0FBNkc7QUFDekosZ0JBQWdCLGdEQUFtQixXQUFXLHlDQUF5QztBQUN2RixvQkFBb0IsZ0RBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLENBQUMsNENBQWU7QUFDVTtBQUMzQixpRUFBZSxpREFBTyxpQkFBaUIsRUFBQztBQUN4QyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpdG5lc3MtZW1waXJlLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcGJveC1nbC9saWItZXNtL3JvdGF0aW9uLWNvbnRyb2wuanM/NTFhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHdpdGhNYXAgfSBmcm9tICcuL2NvbnRleHQnO1xudmFyIGNvbnRhaW5lclN0eWxlID0ge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHpJbmRleDogMTAsXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgIGJveFNoYWRvdzogJzBweCAxcHggNHB4IHJnYmEoMCwgMCwgMCwgLjMpJyxcbiAgICBib3JkZXI6ICcxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEpJ1xufTtcbnZhciBwb3NpdGlvbnMgPSB7XG4gICAgJ3RvcC1yaWdodCc6IHsgdG9wOiA2MiwgcmlnaHQ6IDEwLCBib3R0b206ICdhdXRvJywgbGVmdDogJ2F1dG8nIH0sXG4gICAgJ3RvcC1sZWZ0JzogeyB0b3A6IDYyLCBsZWZ0OiAxMCwgYm90dG9tOiAnYXV0bycsIHJpZ2h0OiAnYXV0bycgfSxcbiAgICAnYm90dG9tLXJpZ2h0JzogeyBib3R0b206IDYzLCByaWdodDogMTAsIHRvcDogJ2F1dG8nLCBsZWZ0OiAnYXV0bycgfSxcbiAgICAnYm90dG9tLWxlZnQnOiB7IGJvdHRvbTogNjMsIGxlZnQ6IDEwLCB0b3A6ICdhdXRvJywgcmlnaHQ6ICdhdXRvJyB9XG59O1xudmFyIGJ1dHRvblN0eWxlID0ge1xuICAgIGJhY2tncm91bmRDb2xvcjogJyNmOWY5ZjknLFxuICAgIG9wYWNpdHk6IDAuOTUsXG4gICAgdHJhbnNpdGlvbjogJ2JhY2tncm91bmQtY29sb3IgMC4xNnMgZWFzZS1vdXQnLFxuICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIGJvcmRlcjogMCxcbiAgICBoZWlnaHQ6IDI2LFxuICAgIHdpZHRoOiAyNixcbiAgICBvdXRsaW5lOiAwLFxuICAgIHBhZGRpbmc6IDNcbn07XG52YXIgYnV0dG9uU3R5bGVIb3ZlcmVkID0ge1xuICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmYnLFxuICAgIG9wYWNpdHk6IDFcbn07XG52YXIgYnV0dG9uU3R5bGVDb21wYXNzID0ge1xuICAgIGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMSknLFxuICAgIGJvcmRlclRvcExlZnRSYWRpdXM6IDIsXG4gICAgYm9yZGVyVG9wUmlnaHRSYWRpdXM6IDIsXG4gICAgYm9yZGVyQm90dG9tTGVmdFJhZGl1czogMixcbiAgICBib3JkZXJCb3R0b21SaWdodFJhZGl1czogMlxufTtcbnZhciBJY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyB2aWV3Qm94OiBcIjAgMCAyMCAyMFwiIH0sXG4gICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInBvbHlnb25cIiwgeyBmaWxsOiBcIiMzMzMzMzNcIiwgcG9pbnRzOiBcIjYsOSAxMCwxIDE0LDlcIiB9KSxcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicG9seWdvblwiLCB7IGZpbGw6IFwiI0NDQ0NDQ1wiLCBwb2ludHM6IFwiNiwxMSAxMCwxOSAxNCwxMVwiIH0pKSk7IH07XG52YXIgY29tcGFzc1NwYW4gPSB7XG4gICAgd2lkdGg6IDIwLFxuICAgIGhlaWdodDogMjAsXG4gICAgZGlzcGxheTogJ2lubGluZS1ibG9jaydcbn07XG52YXIgQ09NUEFTUyA9IFswXVswXTtcbnZhciBQT1NJVElPTlMgPSBPYmplY3Qua2V5cyhwb3NpdGlvbnMpO1xudmFyIFJvdGF0aW9uQ29udHJvbCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJvdGF0aW9uQ29udHJvbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSb3RhdGlvbkNvbnRyb2woKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGhvdmVyOiB1bmRlZmluZWRcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuY29tcGFzc0ljb24gPSBudWxsO1xuICAgICAgICBfdGhpcy5vbk1vdXNlT3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5zdGF0ZS5ob3Zlcikge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgaG92ZXI6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25Nb3VzZUluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKENPTVBBU1MgIT09IF90aGlzLnN0YXRlLmhvdmVyKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBob3ZlcjogQ09NUEFTUyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25DbGlja0NvbXBhc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5tYXAucmVzZXROb3J0aCgpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vbk1hcFJvdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBtYXAgPSBfdGhpcy5wcm9wcy5tYXA7XG4gICAgICAgICAgICB2YXIgcm90YXRlID0gXCJyb3RhdGUoXCIgKyBtYXAudHJhbnNmb3JtLmFuZ2xlICpcbiAgICAgICAgICAgICAgICAoMTgwIC8gTWF0aC5QSSkgKyBcImRlZylcIjtcbiAgICAgICAgICAgIGlmIChfdGhpcy5jb21wYXNzSWNvbikge1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbXBhc3NJY29uLnN0eWxlLnRyYW5zZm9ybSA9IHJvdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuYXNzaWduUmVmID0gZnVuY3Rpb24gKGljb24pIHtcbiAgICAgICAgICAgIF90aGlzLmNvbXBhc3NJY29uID0gaWNvbjtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSb3RhdGlvbkNvbnRyb2wucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnByb3BzLm1hcC5vbigncm90YXRlJywgdGhpcy5vbk1hcFJvdGF0ZSk7XG4gICAgfTtcbiAgICBSb3RhdGlvbkNvbnRyb2wucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnByb3BzLm1hcC5vZmYoJ3JvdGF0ZScsIHRoaXMub25NYXBSb3RhdGUpO1xuICAgIH07XG4gICAgUm90YXRpb25Db250cm9sLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIHBvc2l0aW9uID0gX2EucG9zaXRpb24sIHN0eWxlID0gX2Euc3R5bGUsIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSwgdGFiSW5kZXggPSBfYS50YWJJbmRleDtcbiAgICAgICAgdmFyIGhvdmVyID0gdGhpcy5zdGF0ZS5ob3ZlcjtcbiAgICAgICAgdmFyIGNvbnRyb2xTdHlsZSA9IF9fYXNzaWduKHt9LCBidXR0b25TdHlsZSwgYnV0dG9uU3R5bGVDb21wYXNzLCAoaG92ZXIgPT09IENPTVBBU1MgPyBidXR0b25TdHlsZUhvdmVyZWQgOiB7fSkpO1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSwgdGFiSW5kZXg6IHRhYkluZGV4LCBzdHlsZTogX19hc3NpZ24oe30sIGNvbnRhaW5lclN0eWxlLCBwb3NpdGlvbnNbcG9zaXRpb25dLCBzdHlsZSkgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyBzdHlsZTogY29udHJvbFN0eWxlLCBvbk1vdXNlT3ZlcjogdGhpcy5vbk1vdXNlSW4sIG9uTW91c2VPdXQ6IHRoaXMub25Nb3VzZU91dCwgb25DbGljazogdGhpcy5vbkNsaWNrQ29tcGFzcyB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgcmVmOiB0aGlzLmFzc2lnblJlZiwgc3R5bGU6IGNvbXBhc3NTcGFuIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbiwgbnVsbCkpKSkpO1xuICAgIH07XG4gICAgUm90YXRpb25Db250cm9sLmRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgcG9zaXRpb246IFBPU0lUSU9OU1swXVxuICAgIH07XG4gICAgcmV0dXJuIFJvdGF0aW9uQ29udHJvbDtcbn0oUmVhY3QuQ29tcG9uZW50KSk7XG5leHBvcnQgeyBSb3RhdGlvbkNvbnRyb2wgfTtcbmV4cG9ydCBkZWZhdWx0IHdpdGhNYXAoUm90YXRpb25Db250cm9sKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJvdGF0aW9uLWNvbnRyb2wuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/lib-esm/rotation-control.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/lib-esm/scale-control.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib-esm/scale-control.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScaleControl: () => (/* binding */ ScaleControl),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/context.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n\nvar triggerEvents = ['moveend', 'touchend', 'zoomend'];\nvar scales = [\n    0.01,\n    0.02,\n    0.05,\n    0.1,\n    0.2,\n    0.5,\n    1,\n    2,\n    5,\n    10,\n    20,\n    50,\n    100,\n    200,\n    500,\n    1000,\n    2 * 1000,\n    5 * 1000,\n    10 * 1000\n];\nvar positions = {\n    'top-right': { top: 10, right: 10, bottom: 'auto', left: 'auto' },\n    'top-left': { top: 10, left: 10, bottom: 'auto', right: 'auto' },\n    'bottom-right': { bottom: 10, right: 10, top: 'auto', left: 'auto' },\n    'bottom-left': { bottom: 10, left: 10, top: 'auto', right: 'auto' }\n};\nvar containerStyle = {\n    position: 'absolute',\n    zIndex: 10,\n    boxShadow: '0px 1px 4px rgba(0, 0, 0, .3)',\n    border: '1px solid rgba(0, 0, 0, 0.1)',\n    right: 50,\n    backgroundColor: '#fff',\n    opacity: 0.85,\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'baseline',\n    padding: '3px 7px'\n};\nvar scaleStyle = {\n    border: '2px solid #7e8490',\n    boxShadow: '0px 1px 4px rgba(0, 0, 0, .3)',\n    borderTop: 'none',\n    height: 7,\n    borderBottomLeftRadius: 1,\n    borderBottomRightRadius: 1\n};\nvar POSITIONS = Object.keys(positions);\nvar MEASUREMENTS = ['km', 'mi'];\nvar MILE_IN_KILOMETERS = 1.60934;\nvar MILE_IN_FEET = 5280;\nvar KILOMETER_IN_METERS = 1000;\nvar MIN_WIDTH_SCALE = 60;\nvar ScaleControl = (function (_super) {\n    __extends(ScaleControl, _super);\n    function ScaleControl() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            chosenScale: 0,\n            scaleWidth: MIN_WIDTH_SCALE\n        };\n        _this.setScale = function () {\n            var _a = _this.props, measurement = _a.measurement, map = _a.map;\n            var clientWidth = map._canvas.clientWidth;\n            var _b = map.getBounds(), _ne = _b._ne, _sw = _b._sw;\n            var totalWidth = _this._getDistanceTwoPoints([_sw.lng, _ne.lat], [_ne.lng, _ne.lat], measurement);\n            var relativeWidth = totalWidth / clientWidth * MIN_WIDTH_SCALE;\n            var chosenScale = scales.reduce(function (acc, curr) {\n                if (!acc && curr > relativeWidth) {\n                    return curr;\n                }\n                return acc;\n            }, 0);\n            var scaleWidth = chosenScale / totalWidth * clientWidth;\n            _this.setState({\n                chosenScale: chosenScale,\n                scaleWidth: scaleWidth\n            });\n        };\n        return _this;\n    }\n    ScaleControl.prototype.componentDidMount = function () {\n        var _this = this;\n        this.setScale();\n        triggerEvents.forEach(function (event) {\n            _this.props.map.on(event, _this.setScale);\n        });\n    };\n    ScaleControl.prototype.componentWillUnmount = function () {\n        var _this = this;\n        if (this.props.map) {\n            triggerEvents.forEach(function (event) {\n                _this.props.map.off(event, _this.setScale);\n            });\n        }\n    };\n    ScaleControl.prototype._getDistanceTwoPoints = function (x, y, measurement) {\n        if (measurement === void 0) { measurement = 'km'; }\n        var lng1 = x[0], lat1 = x[1];\n        var lng2 = y[0], lat2 = y[1];\n        var R = measurement === 'km' ? 6371 : 6371 / MILE_IN_KILOMETERS;\n        var dLat = this._deg2rad(lat2 - lat1);\n        var dLng = this._deg2rad(lng2 - lng1);\n        var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n            Math.cos(this._deg2rad(lat1)) *\n                Math.cos(this._deg2rad(lat2)) *\n                Math.sin(dLng / 2) *\n                Math.sin(dLng / 2);\n        var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n        var d = R * c;\n        return d;\n    };\n    ScaleControl.prototype._deg2rad = function (deg) {\n        return deg * (Math.PI / 180);\n    };\n    ScaleControl.prototype._displayMeasurement = function (measurement, chosenScale) {\n        if (chosenScale >= 1) {\n            return chosenScale + \" \" + measurement;\n        }\n        if (measurement === 'mi') {\n            return Math.floor(chosenScale * MILE_IN_FEET) + \" ft\";\n        }\n        return Math.floor(chosenScale * KILOMETER_IN_METERS) + \" m\";\n    };\n    ScaleControl.prototype.render = function () {\n        var _a = this.props, measurement = _a.measurement, style = _a.style, position = _a.position, className = _a.className, tabIndex = _a.tabIndex;\n        var _b = this.state, chosenScale = _b.chosenScale, scaleWidth = _b.scaleWidth;\n        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { tabIndex: tabIndex, style: __assign({}, containerStyle, positions[position], style), className: className },\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: __assign({}, scaleStyle, { width: scaleWidth }) }),\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: { paddingLeft: 10 } }, this._displayMeasurement(measurement, chosenScale))));\n    };\n    ScaleControl.defaultProps = {\n        measurement: MEASUREMENTS[0],\n        position: POSITIONS[2]\n    };\n    return ScaleControl;\n}(react__WEBPACK_IMPORTED_MODULE_0__.Component));\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_context__WEBPACK_IMPORTED_MODULE_1__.withMap)(ScaleControl));\n//# sourceMappingURL=scale-control.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vc2NhbGUtY29udHJvbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QjtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRCxnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQytCO0FBQ0s7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixrREFBa0Q7QUFDckUsa0JBQWtCLGtEQUFrRDtBQUNwRSxzQkFBc0Isa0RBQWtEO0FBQ3hFLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFtQixVQUFVLHNDQUFzQyxxRUFBcUU7QUFDeEosWUFBWSxnREFBbUIsVUFBVSxrQkFBa0IsZ0JBQWdCLG1CQUFtQixHQUFHO0FBQ2pHLFlBQVksZ0RBQW1CLFVBQVUsU0FBUyxtQkFBbUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxDQUFDLDRDQUFlO0FBQ087QUFDeEIsaUVBQWUsaURBQU8sY0FBYyxFQUFDO0FBQ3JDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZml0bmVzcy1lbXBpcmUvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vc2NhbGUtY29udHJvbC5qcz9iZGY3Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgd2l0aE1hcCB9IGZyb20gJy4vY29udGV4dCc7XG52YXIgdHJpZ2dlckV2ZW50cyA9IFsnbW92ZWVuZCcsICd0b3VjaGVuZCcsICd6b29tZW5kJ107XG52YXIgc2NhbGVzID0gW1xuICAgIDAuMDEsXG4gICAgMC4wMixcbiAgICAwLjA1LFxuICAgIDAuMSxcbiAgICAwLjIsXG4gICAgMC41LFxuICAgIDEsXG4gICAgMixcbiAgICA1LFxuICAgIDEwLFxuICAgIDIwLFxuICAgIDUwLFxuICAgIDEwMCxcbiAgICAyMDAsXG4gICAgNTAwLFxuICAgIDEwMDAsXG4gICAgMiAqIDEwMDAsXG4gICAgNSAqIDEwMDAsXG4gICAgMTAgKiAxMDAwXG5dO1xudmFyIHBvc2l0aW9ucyA9IHtcbiAgICAndG9wLXJpZ2h0JzogeyB0b3A6IDEwLCByaWdodDogMTAsIGJvdHRvbTogJ2F1dG8nLCBsZWZ0OiAnYXV0bycgfSxcbiAgICAndG9wLWxlZnQnOiB7IHRvcDogMTAsIGxlZnQ6IDEwLCBib3R0b206ICdhdXRvJywgcmlnaHQ6ICdhdXRvJyB9LFxuICAgICdib3R0b20tcmlnaHQnOiB7IGJvdHRvbTogMTAsIHJpZ2h0OiAxMCwgdG9wOiAnYXV0bycsIGxlZnQ6ICdhdXRvJyB9LFxuICAgICdib3R0b20tbGVmdCc6IHsgYm90dG9tOiAxMCwgbGVmdDogMTAsIHRvcDogJ2F1dG8nLCByaWdodDogJ2F1dG8nIH1cbn07XG52YXIgY29udGFpbmVyU3R5bGUgPSB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgekluZGV4OiAxMCxcbiAgICBib3hTaGFkb3c6ICcwcHggMXB4IDRweCByZ2JhKDAsIDAsIDAsIC4zKScsXG4gICAgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xKScsXG4gICAgcmlnaHQ6IDUwLFxuICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmYnLFxuICAgIG9wYWNpdHk6IDAuODUsXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgIGFsaWduSXRlbXM6ICdiYXNlbGluZScsXG4gICAgcGFkZGluZzogJzNweCA3cHgnXG59O1xudmFyIHNjYWxlU3R5bGUgPSB7XG4gICAgYm9yZGVyOiAnMnB4IHNvbGlkICM3ZTg0OTAnLFxuICAgIGJveFNoYWRvdzogJzBweCAxcHggNHB4IHJnYmEoMCwgMCwgMCwgLjMpJyxcbiAgICBib3JkZXJUb3A6ICdub25lJyxcbiAgICBoZWlnaHQ6IDcsXG4gICAgYm9yZGVyQm90dG9tTGVmdFJhZGl1czogMSxcbiAgICBib3JkZXJCb3R0b21SaWdodFJhZGl1czogMVxufTtcbnZhciBQT1NJVElPTlMgPSBPYmplY3Qua2V5cyhwb3NpdGlvbnMpO1xudmFyIE1FQVNVUkVNRU5UUyA9IFsna20nLCAnbWknXTtcbnZhciBNSUxFX0lOX0tJTE9NRVRFUlMgPSAxLjYwOTM0O1xudmFyIE1JTEVfSU5fRkVFVCA9IDUyODA7XG52YXIgS0lMT01FVEVSX0lOX01FVEVSUyA9IDEwMDA7XG52YXIgTUlOX1dJRFRIX1NDQUxFID0gNjA7XG52YXIgU2NhbGVDb250cm9sID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2NhbGVDb250cm9sLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNjYWxlQ29udHJvbCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgY2hvc2VuU2NhbGU6IDAsXG4gICAgICAgICAgICBzY2FsZVdpZHRoOiBNSU5fV0lEVEhfU0NBTEVcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc2V0U2NhbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcywgbWVhc3VyZW1lbnQgPSBfYS5tZWFzdXJlbWVudCwgbWFwID0gX2EubWFwO1xuICAgICAgICAgICAgdmFyIGNsaWVudFdpZHRoID0gbWFwLl9jYW52YXMuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICB2YXIgX2IgPSBtYXAuZ2V0Qm91bmRzKCksIF9uZSA9IF9iLl9uZSwgX3N3ID0gX2IuX3N3O1xuICAgICAgICAgICAgdmFyIHRvdGFsV2lkdGggPSBfdGhpcy5fZ2V0RGlzdGFuY2VUd29Qb2ludHMoW19zdy5sbmcsIF9uZS5sYXRdLCBbX25lLmxuZywgX25lLmxhdF0sIG1lYXN1cmVtZW50KTtcbiAgICAgICAgICAgIHZhciByZWxhdGl2ZVdpZHRoID0gdG90YWxXaWR0aCAvIGNsaWVudFdpZHRoICogTUlOX1dJRFRIX1NDQUxFO1xuICAgICAgICAgICAgdmFyIGNob3NlblNjYWxlID0gc2NhbGVzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBjdXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFhY2MgJiYgY3VyciA+IHJlbGF0aXZlV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIHZhciBzY2FsZVdpZHRoID0gY2hvc2VuU2NhbGUgLyB0b3RhbFdpZHRoICogY2xpZW50V2lkdGg7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgY2hvc2VuU2NhbGU6IGNob3NlblNjYWxlLFxuICAgICAgICAgICAgICAgIHNjYWxlV2lkdGg6IHNjYWxlV2lkdGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNjYWxlQ29udHJvbC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc2V0U2NhbGUoKTtcbiAgICAgICAgdHJpZ2dlckV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgX3RoaXMucHJvcHMubWFwLm9uKGV2ZW50LCBfdGhpcy5zZXRTY2FsZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU2NhbGVDb250cm9sLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMucHJvcHMubWFwKSB7XG4gICAgICAgICAgICB0cmlnZ2VyRXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMubWFwLm9mZihldmVudCwgX3RoaXMuc2V0U2NhbGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjYWxlQ29udHJvbC5wcm90b3R5cGUuX2dldERpc3RhbmNlVHdvUG9pbnRzID0gZnVuY3Rpb24gKHgsIHksIG1lYXN1cmVtZW50KSB7XG4gICAgICAgIGlmIChtZWFzdXJlbWVudCA9PT0gdm9pZCAwKSB7IG1lYXN1cmVtZW50ID0gJ2ttJzsgfVxuICAgICAgICB2YXIgbG5nMSA9IHhbMF0sIGxhdDEgPSB4WzFdO1xuICAgICAgICB2YXIgbG5nMiA9IHlbMF0sIGxhdDIgPSB5WzFdO1xuICAgICAgICB2YXIgUiA9IG1lYXN1cmVtZW50ID09PSAna20nID8gNjM3MSA6IDYzNzEgLyBNSUxFX0lOX0tJTE9NRVRFUlM7XG4gICAgICAgIHZhciBkTGF0ID0gdGhpcy5fZGVnMnJhZChsYXQyIC0gbGF0MSk7XG4gICAgICAgIHZhciBkTG5nID0gdGhpcy5fZGVnMnJhZChsbmcyIC0gbG5nMSk7XG4gICAgICAgIHZhciBhID0gTWF0aC5zaW4oZExhdCAvIDIpICogTWF0aC5zaW4oZExhdCAvIDIpICtcbiAgICAgICAgICAgIE1hdGguY29zKHRoaXMuX2RlZzJyYWQobGF0MSkpICpcbiAgICAgICAgICAgICAgICBNYXRoLmNvcyh0aGlzLl9kZWcycmFkKGxhdDIpKSAqXG4gICAgICAgICAgICAgICAgTWF0aC5zaW4oZExuZyAvIDIpICpcbiAgICAgICAgICAgICAgICBNYXRoLnNpbihkTG5nIC8gMik7XG4gICAgICAgIHZhciBjID0gMiAqIE1hdGguYXRhbjIoTWF0aC5zcXJ0KGEpLCBNYXRoLnNxcnQoMSAtIGEpKTtcbiAgICAgICAgdmFyIGQgPSBSICogYztcbiAgICAgICAgcmV0dXJuIGQ7XG4gICAgfTtcbiAgICBTY2FsZUNvbnRyb2wucHJvdG90eXBlLl9kZWcycmFkID0gZnVuY3Rpb24gKGRlZykge1xuICAgICAgICByZXR1cm4gZGVnICogKE1hdGguUEkgLyAxODApO1xuICAgIH07XG4gICAgU2NhbGVDb250cm9sLnByb3RvdHlwZS5fZGlzcGxheU1lYXN1cmVtZW50ID0gZnVuY3Rpb24gKG1lYXN1cmVtZW50LCBjaG9zZW5TY2FsZSkge1xuICAgICAgICBpZiAoY2hvc2VuU2NhbGUgPj0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGNob3NlblNjYWxlICsgXCIgXCIgKyBtZWFzdXJlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVhc3VyZW1lbnQgPT09ICdtaScpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKGNob3NlblNjYWxlICogTUlMRV9JTl9GRUVUKSArIFwiIGZ0XCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoY2hvc2VuU2NhbGUgKiBLSUxPTUVURVJfSU5fTUVURVJTKSArIFwiIG1cIjtcbiAgICB9O1xuICAgIFNjYWxlQ29udHJvbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBtZWFzdXJlbWVudCA9IF9hLm1lYXN1cmVtZW50LCBzdHlsZSA9IF9hLnN0eWxlLCBwb3NpdGlvbiA9IF9hLnBvc2l0aW9uLCBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsIHRhYkluZGV4ID0gX2EudGFiSW5kZXg7XG4gICAgICAgIHZhciBfYiA9IHRoaXMuc3RhdGUsIGNob3NlblNjYWxlID0gX2IuY2hvc2VuU2NhbGUsIHNjYWxlV2lkdGggPSBfYi5zY2FsZVdpZHRoO1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyB0YWJJbmRleDogdGFiSW5kZXgsIHN0eWxlOiBfX2Fzc2lnbih7fSwgY29udGFpbmVyU3R5bGUsIHBvc2l0aW9uc1twb3NpdGlvbl0sIHN0eWxlKSwgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZTogX19hc3NpZ24oe30sIHNjYWxlU3R5bGUsIHsgd2lkdGg6IHNjYWxlV2lkdGggfSkgfSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGU6IHsgcGFkZGluZ0xlZnQ6IDEwIH0gfSwgdGhpcy5fZGlzcGxheU1lYXN1cmVtZW50KG1lYXN1cmVtZW50LCBjaG9zZW5TY2FsZSkpKSk7XG4gICAgfTtcbiAgICBTY2FsZUNvbnRyb2wuZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBtZWFzdXJlbWVudDogTUVBU1VSRU1FTlRTWzBdLFxuICAgICAgICBwb3NpdGlvbjogUE9TSVRJT05TWzJdXG4gICAgfTtcbiAgICByZXR1cm4gU2NhbGVDb250cm9sO1xufShSZWFjdC5Db21wb25lbnQpKTtcbmV4cG9ydCB7IFNjYWxlQ29udHJvbCB9O1xuZXhwb3J0IGRlZmF1bHQgd2l0aE1hcChTY2FsZUNvbnRyb2wpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NhbGUtY29udHJvbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/lib-esm/scale-control.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/lib-esm/source.js":
/*!********************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib-esm/source.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Source: () => (/* binding */ Source),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/context.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n\nvar Source = (function (_super) {\n    __extends(Source, _super);\n    function Source() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.id = _this.props.id;\n        _this.onStyleDataChange = function () {\n            if (!_this.props.map.getLayer(_this.id)) {\n                _this.initialize();\n                _this.forceUpdate();\n            }\n        };\n        _this.initialize = function () {\n            var map = _this.props.map;\n            var _a = _this.props, geoJsonSource = _a.geoJsonSource, tileJsonSource = _a.tileJsonSource, onSourceAdded = _a.onSourceAdded;\n            if (!map.getSource(_this.id) && (geoJsonSource || tileJsonSource)) {\n                if (geoJsonSource) {\n                    map.addSource(_this.id, geoJsonSource);\n                }\n                else if (tileJsonSource) {\n                    map.addSource(_this.id, tileJsonSource);\n                }\n                map.on('sourcedata', _this.onData);\n                if (onSourceAdded) {\n                    onSourceAdded(map.getSource(_this.id));\n                }\n            }\n        };\n        _this.onData = function () {\n            var map = _this.props.map;\n            var source = map.getSource(_this.props.id);\n            if (!source || !map.isSourceLoaded(_this.props.id)) {\n                return;\n            }\n            var onSourceLoaded = _this.props.onSourceLoaded;\n            if (source && onSourceLoaded) {\n                onSourceLoaded(source);\n            }\n            if (source && _this.props.geoJsonSource && _this.props.geoJsonSource.data) {\n                source.setData(_this.props.geoJsonSource.data);\n            }\n            map.off('sourcedata', _this.onData);\n        };\n        return _this;\n    }\n    Source.prototype.componentDidMount = function () {\n        var map = this.props.map;\n        map.on('styledata', this.onStyleDataChange);\n        this.initialize();\n    };\n    Source.prototype.removeSource = function () {\n        var _this = this;\n        var map = this.props.map;\n        if (map.getSource(this.id)) {\n            var _a = map.getStyle().layers, layers_1 = _a === void 0 ? [] : _a;\n            layers_1 = layers_1\n                .map(function (layer, idx) {\n                var before = (layers_1[idx + 1] || { id: undefined }).id;\n                return __assign({}, layer, { before: before });\n            })\n                .filter(function (layer) { return layer.source === _this.id; });\n            layers_1.forEach(function (layer) { return map.removeLayer(layer.id); });\n            map.removeSource(this.id);\n            return layers_1.reverse();\n        }\n        return [];\n    };\n    Source.prototype.componentWillUnmount = function () {\n        var map = this.props.map;\n        if (!map || !map.getStyle()) {\n            return;\n        }\n        map.off('styledata', this.onStyleDataChange);\n        this.removeSource();\n    };\n    Source.prototype.componentDidUpdate = function (prevProps) {\n        var geoJsonSource = prevProps.geoJsonSource, tileJsonSource = prevProps.tileJsonSource, map = prevProps.map;\n        var source = map.getSource(this.id);\n        if (tileJsonSource && this.props.tileJsonSource) {\n            var urlUpdated = false;\n            var tilesUpdated = false;\n            if (source && source.type === 'vector') {\n                var hasNewSourceUrl = tileJsonSource.url !== this.props.tileJsonSource.url;\n                if (hasNewSourceUrl && this.props.tileJsonSource.url !== undefined) {\n                    source.setUrl(this.props.tileJsonSource.url);\n                    urlUpdated = true;\n                }\n                var hasNewSourceTiles = tileJsonSource.tiles !== this.props.tileJsonSource.tiles;\n                if (hasNewSourceTiles &&\n                    this.props.tileJsonSource.tiles !== undefined) {\n                    source.setTiles(this.props.tileJsonSource.tiles);\n                    tilesUpdated = true;\n                }\n            }\n            var hasNewTilesSource = (!urlUpdated && tileJsonSource.url !== this.props.tileJsonSource.url) ||\n                (!tilesUpdated &&\n                    tileJsonSource.tiles !== this.props.tileJsonSource.tiles) ||\n                tileJsonSource.minzoom !== this.props.tileJsonSource.minzoom ||\n                tileJsonSource.maxzoom !== this.props.tileJsonSource.maxzoom;\n            if (hasNewTilesSource) {\n                var layers = this.removeSource();\n                map.addSource(this.id, this.props.tileJsonSource);\n                layers.forEach(function (layer) { return map.addLayer(layer, layer.before); });\n            }\n        }\n        if (geoJsonSource &&\n            this.props.geoJsonSource &&\n            this.props.geoJsonSource.data !== geoJsonSource.data &&\n            this.props.geoJsonSource.data &&\n            source &&\n            source.type === 'geojson') {\n            source.setData(this.props.geoJsonSource.data);\n        }\n    };\n    Source.prototype.render = function () {\n        return null;\n    };\n    return Source;\n}(react__WEBPACK_IMPORTED_MODULE_0__.Component));\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_context__WEBPACK_IMPORTED_MODULE_1__.withMap)(Source));\n//# sourceMappingURL=source.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vc291cmNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsQ0FBQztBQUNELGdCQUFnQixTQUFJLElBQUksU0FBSTtBQUM1QjtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDK0I7QUFDSztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELGVBQWU7QUFDcEUsa0NBQWtDLFdBQVcsZ0JBQWdCO0FBQzdELGFBQWE7QUFDYiwyQ0FBMkMsbUNBQW1DO0FBQzlFLGdEQUFnRCxtQ0FBbUM7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsMkNBQTJDO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsQ0FBQyw0Q0FBZTtBQUNDO0FBQ2xCLGlFQUFlLGlEQUFPLFFBQVEsRUFBQztBQUMvQiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpdG5lc3MtZW1waXJlLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcGJveC1nbC9saWItZXNtL3NvdXJjZS5qcz9iNjk5Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgd2l0aE1hcCB9IGZyb20gJy4vY29udGV4dCc7XG52YXIgU291cmNlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU291cmNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNvdXJjZSgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmlkID0gX3RoaXMucHJvcHMuaWQ7XG4gICAgICAgIF90aGlzLm9uU3R5bGVEYXRhQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5wcm9wcy5tYXAuZ2V0TGF5ZXIoX3RoaXMuaWQpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICAgICAgICAgIF90aGlzLmZvcmNlVXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbWFwID0gX3RoaXMucHJvcHMubWFwO1xuICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIGdlb0pzb25Tb3VyY2UgPSBfYS5nZW9Kc29uU291cmNlLCB0aWxlSnNvblNvdXJjZSA9IF9hLnRpbGVKc29uU291cmNlLCBvblNvdXJjZUFkZGVkID0gX2Eub25Tb3VyY2VBZGRlZDtcbiAgICAgICAgICAgIGlmICghbWFwLmdldFNvdXJjZShfdGhpcy5pZCkgJiYgKGdlb0pzb25Tb3VyY2UgfHwgdGlsZUpzb25Tb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdlb0pzb25Tb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwLmFkZFNvdXJjZShfdGhpcy5pZCwgZ2VvSnNvblNvdXJjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRpbGVKc29uU291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5hZGRTb3VyY2UoX3RoaXMuaWQsIHRpbGVKc29uU291cmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWFwLm9uKCdzb3VyY2VkYXRhJywgX3RoaXMub25EYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAob25Tb3VyY2VBZGRlZCkge1xuICAgICAgICAgICAgICAgICAgICBvblNvdXJjZUFkZGVkKG1hcC5nZXRTb3VyY2UoX3RoaXMuaWQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBtYXAgPSBfdGhpcy5wcm9wcy5tYXA7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gbWFwLmdldFNvdXJjZShfdGhpcy5wcm9wcy5pZCk7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZSB8fCAhbWFwLmlzU291cmNlTG9hZGVkKF90aGlzLnByb3BzLmlkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvblNvdXJjZUxvYWRlZCA9IF90aGlzLnByb3BzLm9uU291cmNlTG9hZGVkO1xuICAgICAgICAgICAgaWYgKHNvdXJjZSAmJiBvblNvdXJjZUxvYWRlZCkge1xuICAgICAgICAgICAgICAgIG9uU291cmNlTG9hZGVkKHNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc291cmNlICYmIF90aGlzLnByb3BzLmdlb0pzb25Tb3VyY2UgJiYgX3RoaXMucHJvcHMuZ2VvSnNvblNvdXJjZS5kYXRhKSB7XG4gICAgICAgICAgICAgICAgc291cmNlLnNldERhdGEoX3RoaXMucHJvcHMuZ2VvSnNvblNvdXJjZS5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hcC5vZmYoJ3NvdXJjZWRhdGEnLCBfdGhpcy5vbkRhdGEpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNvdXJjZS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLnByb3BzLm1hcDtcbiAgICAgICAgbWFwLm9uKCdzdHlsZWRhdGEnLCB0aGlzLm9uU3R5bGVEYXRhQ2hhbmdlKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgfTtcbiAgICBTb3VyY2UucHJvdG90eXBlLnJlbW92ZVNvdXJjZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMucHJvcHMubWFwO1xuICAgICAgICBpZiAobWFwLmdldFNvdXJjZSh0aGlzLmlkKSkge1xuICAgICAgICAgICAgdmFyIF9hID0gbWFwLmdldFN0eWxlKCkubGF5ZXJzLCBsYXllcnNfMSA9IF9hID09PSB2b2lkIDAgPyBbXSA6IF9hO1xuICAgICAgICAgICAgbGF5ZXJzXzEgPSBsYXllcnNfMVxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGxheWVyLCBpZHgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYmVmb3JlID0gKGxheWVyc18xW2lkeCArIDFdIHx8IHsgaWQ6IHVuZGVmaW5lZCB9KS5pZDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX19hc3NpZ24oe30sIGxheWVyLCB7IGJlZm9yZTogYmVmb3JlIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChsYXllcikgeyByZXR1cm4gbGF5ZXIuc291cmNlID09PSBfdGhpcy5pZDsgfSk7XG4gICAgICAgICAgICBsYXllcnNfMS5mb3JFYWNoKGZ1bmN0aW9uIChsYXllcikgeyByZXR1cm4gbWFwLnJlbW92ZUxheWVyKGxheWVyLmlkKTsgfSk7XG4gICAgICAgICAgICBtYXAucmVtb3ZlU291cmNlKHRoaXMuaWQpO1xuICAgICAgICAgICAgcmV0dXJuIGxheWVyc18xLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfTtcbiAgICBTb3VyY2UucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWFwID0gdGhpcy5wcm9wcy5tYXA7XG4gICAgICAgIGlmICghbWFwIHx8ICFtYXAuZ2V0U3R5bGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG1hcC5vZmYoJ3N0eWxlZGF0YScsIHRoaXMub25TdHlsZURhdGFDaGFuZ2UpO1xuICAgICAgICB0aGlzLnJlbW92ZVNvdXJjZSgpO1xuICAgIH07XG4gICAgU291cmNlLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAocHJldlByb3BzKSB7XG4gICAgICAgIHZhciBnZW9Kc29uU291cmNlID0gcHJldlByb3BzLmdlb0pzb25Tb3VyY2UsIHRpbGVKc29uU291cmNlID0gcHJldlByb3BzLnRpbGVKc29uU291cmNlLCBtYXAgPSBwcmV2UHJvcHMubWFwO1xuICAgICAgICB2YXIgc291cmNlID0gbWFwLmdldFNvdXJjZSh0aGlzLmlkKTtcbiAgICAgICAgaWYgKHRpbGVKc29uU291cmNlICYmIHRoaXMucHJvcHMudGlsZUpzb25Tb3VyY2UpIHtcbiAgICAgICAgICAgIHZhciB1cmxVcGRhdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgdGlsZXNVcGRhdGVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoc291cmNlICYmIHNvdXJjZS50eXBlID09PSAndmVjdG9yJykge1xuICAgICAgICAgICAgICAgIHZhciBoYXNOZXdTb3VyY2VVcmwgPSB0aWxlSnNvblNvdXJjZS51cmwgIT09IHRoaXMucHJvcHMudGlsZUpzb25Tb3VyY2UudXJsO1xuICAgICAgICAgICAgICAgIGlmIChoYXNOZXdTb3VyY2VVcmwgJiYgdGhpcy5wcm9wcy50aWxlSnNvblNvdXJjZS51cmwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2Uuc2V0VXJsKHRoaXMucHJvcHMudGlsZUpzb25Tb3VyY2UudXJsKTtcbiAgICAgICAgICAgICAgICAgICAgdXJsVXBkYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBoYXNOZXdTb3VyY2VUaWxlcyA9IHRpbGVKc29uU291cmNlLnRpbGVzICE9PSB0aGlzLnByb3BzLnRpbGVKc29uU291cmNlLnRpbGVzO1xuICAgICAgICAgICAgICAgIGlmIChoYXNOZXdTb3VyY2VUaWxlcyAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnRpbGVKc29uU291cmNlLnRpbGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLnNldFRpbGVzKHRoaXMucHJvcHMudGlsZUpzb25Tb3VyY2UudGlsZXMpO1xuICAgICAgICAgICAgICAgICAgICB0aWxlc1VwZGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBoYXNOZXdUaWxlc1NvdXJjZSA9ICghdXJsVXBkYXRlZCAmJiB0aWxlSnNvblNvdXJjZS51cmwgIT09IHRoaXMucHJvcHMudGlsZUpzb25Tb3VyY2UudXJsKSB8fFxuICAgICAgICAgICAgICAgICghdGlsZXNVcGRhdGVkICYmXG4gICAgICAgICAgICAgICAgICAgIHRpbGVKc29uU291cmNlLnRpbGVzICE9PSB0aGlzLnByb3BzLnRpbGVKc29uU291cmNlLnRpbGVzKSB8fFxuICAgICAgICAgICAgICAgIHRpbGVKc29uU291cmNlLm1pbnpvb20gIT09IHRoaXMucHJvcHMudGlsZUpzb25Tb3VyY2UubWluem9vbSB8fFxuICAgICAgICAgICAgICAgIHRpbGVKc29uU291cmNlLm1heHpvb20gIT09IHRoaXMucHJvcHMudGlsZUpzb25Tb3VyY2UubWF4em9vbTtcbiAgICAgICAgICAgIGlmIChoYXNOZXdUaWxlc1NvdXJjZSkge1xuICAgICAgICAgICAgICAgIHZhciBsYXllcnMgPSB0aGlzLnJlbW92ZVNvdXJjZSgpO1xuICAgICAgICAgICAgICAgIG1hcC5hZGRTb3VyY2UodGhpcy5pZCwgdGhpcy5wcm9wcy50aWxlSnNvblNvdXJjZSk7XG4gICAgICAgICAgICAgICAgbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKGxheWVyKSB7IHJldHVybiBtYXAuYWRkTGF5ZXIobGF5ZXIsIGxheWVyLmJlZm9yZSk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChnZW9Kc29uU291cmNlICYmXG4gICAgICAgICAgICB0aGlzLnByb3BzLmdlb0pzb25Tb3VyY2UgJiZcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZ2VvSnNvblNvdXJjZS5kYXRhICE9PSBnZW9Kc29uU291cmNlLmRhdGEgJiZcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZ2VvSnNvblNvdXJjZS5kYXRhICYmXG4gICAgICAgICAgICBzb3VyY2UgJiZcbiAgICAgICAgICAgIHNvdXJjZS50eXBlID09PSAnZ2VvanNvbicpIHtcbiAgICAgICAgICAgIHNvdXJjZS5zZXREYXRhKHRoaXMucHJvcHMuZ2VvSnNvblNvdXJjZS5kYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU291cmNlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFNvdXJjZTtcbn0oUmVhY3QuQ29tcG9uZW50KSk7XG5leHBvcnQgeyBTb3VyY2UgfTtcbmV4cG9ydCBkZWZhdWx0IHdpdGhNYXAoU291cmNlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNvdXJjZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/lib-esm/source.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/lib-esm/util/classname.js":
/*!****************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib-esm/util/classname.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getClassName: () => (/* binding */ getClassName)\n/* harmony export */ });\nvar getClassName = function (defaultClassName, className) {\n    return className\n        ? className\n            .split(' ')\n            .concat(defaultClassName)\n            .join(' ')\n        : defaultClassName.join(' ');\n};\n//# sourceMappingURL=classname.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vdXRpbC9jbGFzc25hbWUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpdG5lc3MtZW1waXJlLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcGJveC1nbC9saWItZXNtL3V0aWwvY2xhc3NuYW1lLmpzP2ZiYzAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBnZXRDbGFzc05hbWUgPSBmdW5jdGlvbiAoZGVmYXVsdENsYXNzTmFtZSwgY2xhc3NOYW1lKSB7XG4gICAgcmV0dXJuIGNsYXNzTmFtZVxuICAgICAgICA/IGNsYXNzTmFtZVxuICAgICAgICAgICAgLnNwbGl0KCcgJylcbiAgICAgICAgICAgIC5jb25jYXQoZGVmYXVsdENsYXNzTmFtZSlcbiAgICAgICAgICAgIC5qb2luKCcgJylcbiAgICAgICAgOiBkZWZhdWx0Q2xhc3NOYW1lLmpvaW4oJyAnKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGFzc25hbWUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/lib-esm/util/classname.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/lib-esm/util/diff.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib-esm/util/diff.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nvar diff = function (obj1, obj2) {\n    var toMutate = {};\n    Array.from(new Set(Object.keys(obj1).concat(Object.keys(obj2)))).map(function (key) {\n        if (obj1[key] !== obj2[key]) {\n            toMutate[key] = obj2[key];\n        }\n    });\n    return toMutate;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (diff);\n//# sourceMappingURL=diff.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vdXRpbC9kaWZmLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGlFQUFlLElBQUksRUFBQztBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpdG5lc3MtZW1waXJlLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcGJveC1nbC9saWItZXNtL3V0aWwvZGlmZi5qcz84ODFlIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBkaWZmID0gZnVuY3Rpb24gKG9iajEsIG9iajIpIHtcbiAgICB2YXIgdG9NdXRhdGUgPSB7fTtcbiAgICBBcnJheS5mcm9tKG5ldyBTZXQoT2JqZWN0LmtleXMob2JqMSkuY29uY2F0KE9iamVjdC5rZXlzKG9iajIpKSkpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChvYmoxW2tleV0gIT09IG9iajJba2V5XSkge1xuICAgICAgICAgICAgdG9NdXRhdGVba2V5XSA9IG9iajJba2V5XTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0b011dGF0ZTtcbn07XG5leHBvcnQgZGVmYXVsdCBkaWZmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlmZi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/lib-esm/util/diff.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/lib-esm/util/overlays.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib-esm/util/overlays.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anchorTranslates: () => (/* binding */ anchorTranslates),\n/* harmony export */   anchors: () => (/* binding */ anchors),\n/* harmony export */   overlayState: () => (/* binding */ overlayState),\n/* harmony export */   overlayTransform: () => (/* binding */ overlayTransform)\n/* harmony export */ });\n/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mapbox-gl */ \"(ssr)/./node_modules/mapbox-gl/dist/mapbox-gl.js\");\n/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mapbox_gl__WEBPACK_IMPORTED_MODULE_0__);\n\nvar anchors = [\n    'center',\n    'top',\n    'bottom',\n    'left',\n    'right',\n    'top-left',\n    'top-right',\n    'bottom-left',\n    'bottom-right'\n];\nvar anchorTranslates = {\n    center: 'translate(-50%, -50%)',\n    top: 'translate(-50%, 0)',\n    left: 'translate(0, -50%)',\n    right: 'translate(-100%, -50%)',\n    bottom: 'translate(-50%, -100%)',\n    'top-left': 'translate(0, 0)',\n    'top-right': 'translate(-100%, 0)',\n    'bottom-left': 'translate(0, -100%)',\n    'bottom-right': 'translate(-100%, -100%)'\n};\nvar defaultElement = { offsetWidth: 0, offsetHeight: 0 };\nvar defaultPoint = [0, 0];\nvar projectCoordinates = function (map, coordinates) {\n    return map.project(mapbox_gl__WEBPACK_IMPORTED_MODULE_0__.LngLat.convert(coordinates));\n};\nvar calculateAnchor = function (map, offsets, position, _a) {\n    var _b = _a === void 0 ? defaultElement : _a, offsetHeight = _b.offsetHeight, offsetWidth = _b.offsetWidth;\n    var anchor = [];\n    if (position.y + offsets.bottom.y - offsetHeight < 0) {\n        anchor = [anchors[1]];\n    }\n    else if (position.y + offsets.top.y + offsetHeight >\n        map.transform.height) {\n        anchor = [anchors[2]];\n    }\n    if (position.x < offsetWidth / 2) {\n        anchor.push(anchors[3]);\n    }\n    else if (position.x > map.transform.width - offsetWidth / 2) {\n        anchor.push(anchors[4]);\n    }\n    if (anchor.length === 0) {\n        return anchors[2];\n    }\n    return anchor.join('-');\n};\nvar normalizedOffsets = function (offset) {\n    if (!offset) {\n        return normalizedOffsets(new mapbox_gl__WEBPACK_IMPORTED_MODULE_0__.Point(0, 0));\n    }\n    if (typeof offset === 'number') {\n        var cornerOffset = Math.round(Math.sqrt(0.5 * Math.pow(offset, 2)));\n        return {\n            center: new mapbox_gl__WEBPACK_IMPORTED_MODULE_0__.Point(offset, offset),\n            top: new mapbox_gl__WEBPACK_IMPORTED_MODULE_0__.Point(0, offset),\n            bottom: new mapbox_gl__WEBPACK_IMPORTED_MODULE_0__.Point(0, -offset),\n            left: new mapbox_gl__WEBPACK_IMPORTED_MODULE_0__.Point(offset, 0),\n            right: new mapbox_gl__WEBPACK_IMPORTED_MODULE_0__.Point(-offset, 0),\n            'top-left': new mapbox_gl__WEBPACK_IMPORTED_MODULE_0__.Point(cornerOffset, cornerOffset),\n            'top-right': new mapbox_gl__WEBPACK_IMPORTED_MODULE_0__.Point(-cornerOffset, cornerOffset),\n            'bottom-left': new mapbox_gl__WEBPACK_IMPORTED_MODULE_0__.Point(cornerOffset, -cornerOffset),\n            'bottom-right': new mapbox_gl__WEBPACK_IMPORTED_MODULE_0__.Point(-cornerOffset, -cornerOffset)\n        };\n    }\n    if (offset instanceof mapbox_gl__WEBPACK_IMPORTED_MODULE_0__.Point || Array.isArray(offset)) {\n        return anchors.reduce(function (res, anchor) {\n            res[anchor] = mapbox_gl__WEBPACK_IMPORTED_MODULE_0__.Point.convert(offset);\n            return res;\n        }, {});\n    }\n    return anchors.reduce(function (res, anchor) {\n        res[anchor] = mapbox_gl__WEBPACK_IMPORTED_MODULE_0__.Point.convert(offset[anchor] || defaultPoint);\n        return res;\n    }, {});\n};\nvar overlayState = function (props, map, container) {\n    var position = projectCoordinates(map, props.coordinates);\n    var offsets = normalizedOffsets(props.offset);\n    var anchor = props.anchor || calculateAnchor(map, offsets, position, container);\n    return {\n        anchor: anchor,\n        position: position,\n        offset: offsets[anchor]\n    };\n};\nvar moveTranslate = function (point) {\n    return point ? \"translate(\" + point.x.toFixed(0) + \"px, \" + point.y.toFixed(0) + \"px)\" : '';\n};\nvar overlayTransform = function (_a) {\n    var anchor = _a.anchor, position = _a.position, offset = _a.offset;\n    var res = [];\n    if (position) {\n        res.push(moveTranslate(position));\n    }\n    if (offset && offset.x !== undefined && offset.y !== undefined) {\n        res.push(moveTranslate(offset));\n    }\n    if (anchor) {\n        res.push(anchorTranslates[anchor]);\n    }\n    return res;\n};\n//# sourceMappingURL=overlays.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vdXRpbC9vdmVybGF5cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMEM7QUFDbkM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBLHVCQUF1Qiw2Q0FBTTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsNENBQUs7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNENBQUs7QUFDN0IscUJBQXFCLDRDQUFLO0FBQzFCLHdCQUF3Qiw0Q0FBSztBQUM3QixzQkFBc0IsNENBQUs7QUFDM0IsdUJBQXVCLDRDQUFLO0FBQzVCLDRCQUE0Qiw0Q0FBSztBQUNqQyw2QkFBNkIsNENBQUs7QUFDbEMsK0JBQStCLDRDQUFLO0FBQ3BDLGdDQUFnQyw0Q0FBSztBQUNyQztBQUNBO0FBQ0EsMEJBQTBCLDRDQUFLO0FBQy9CO0FBQ0EsMEJBQTBCLDRDQUFLO0FBQy9CO0FBQ0EsU0FBUyxJQUFJO0FBQ2I7QUFDQTtBQUNBLHNCQUFzQiw0Q0FBSztBQUMzQjtBQUNBLEtBQUssSUFBSTtBQUNUO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXRuZXNzLWVtcGlyZS8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXBib3gtZ2wvbGliLWVzbS91dGlsL292ZXJsYXlzLmpzPzQ2ZjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG5nTGF0LCBQb2ludCB9IGZyb20gJ21hcGJveC1nbCc7XG5leHBvcnQgdmFyIGFuY2hvcnMgPSBbXG4gICAgJ2NlbnRlcicsXG4gICAgJ3RvcCcsXG4gICAgJ2JvdHRvbScsXG4gICAgJ2xlZnQnLFxuICAgICdyaWdodCcsXG4gICAgJ3RvcC1sZWZ0JyxcbiAgICAndG9wLXJpZ2h0JyxcbiAgICAnYm90dG9tLWxlZnQnLFxuICAgICdib3R0b20tcmlnaHQnXG5dO1xuZXhwb3J0IHZhciBhbmNob3JUcmFuc2xhdGVzID0ge1xuICAgIGNlbnRlcjogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKScsXG4gICAgdG9wOiAndHJhbnNsYXRlKC01MCUsIDApJyxcbiAgICBsZWZ0OiAndHJhbnNsYXRlKDAsIC01MCUpJyxcbiAgICByaWdodDogJ3RyYW5zbGF0ZSgtMTAwJSwgLTUwJSknLFxuICAgIGJvdHRvbTogJ3RyYW5zbGF0ZSgtNTAlLCAtMTAwJSknLFxuICAgICd0b3AtbGVmdCc6ICd0cmFuc2xhdGUoMCwgMCknLFxuICAgICd0b3AtcmlnaHQnOiAndHJhbnNsYXRlKC0xMDAlLCAwKScsXG4gICAgJ2JvdHRvbS1sZWZ0JzogJ3RyYW5zbGF0ZSgwLCAtMTAwJSknLFxuICAgICdib3R0b20tcmlnaHQnOiAndHJhbnNsYXRlKC0xMDAlLCAtMTAwJSknXG59O1xudmFyIGRlZmF1bHRFbGVtZW50ID0geyBvZmZzZXRXaWR0aDogMCwgb2Zmc2V0SGVpZ2h0OiAwIH07XG52YXIgZGVmYXVsdFBvaW50ID0gWzAsIDBdO1xudmFyIHByb2plY3RDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChtYXAsIGNvb3JkaW5hdGVzKSB7XG4gICAgcmV0dXJuIG1hcC5wcm9qZWN0KExuZ0xhdC5jb252ZXJ0KGNvb3JkaW5hdGVzKSk7XG59O1xudmFyIGNhbGN1bGF0ZUFuY2hvciA9IGZ1bmN0aW9uIChtYXAsIG9mZnNldHMsIHBvc2l0aW9uLCBfYSkge1xuICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyBkZWZhdWx0RWxlbWVudCA6IF9hLCBvZmZzZXRIZWlnaHQgPSBfYi5vZmZzZXRIZWlnaHQsIG9mZnNldFdpZHRoID0gX2Iub2Zmc2V0V2lkdGg7XG4gICAgdmFyIGFuY2hvciA9IFtdO1xuICAgIGlmIChwb3NpdGlvbi55ICsgb2Zmc2V0cy5ib3R0b20ueSAtIG9mZnNldEhlaWdodCA8IDApIHtcbiAgICAgICAgYW5jaG9yID0gW2FuY2hvcnNbMV1dO1xuICAgIH1cbiAgICBlbHNlIGlmIChwb3NpdGlvbi55ICsgb2Zmc2V0cy50b3AueSArIG9mZnNldEhlaWdodCA+XG4gICAgICAgIG1hcC50cmFuc2Zvcm0uaGVpZ2h0KSB7XG4gICAgICAgIGFuY2hvciA9IFthbmNob3JzWzJdXTtcbiAgICB9XG4gICAgaWYgKHBvc2l0aW9uLnggPCBvZmZzZXRXaWR0aCAvIDIpIHtcbiAgICAgICAgYW5jaG9yLnB1c2goYW5jaG9yc1szXSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHBvc2l0aW9uLnggPiBtYXAudHJhbnNmb3JtLndpZHRoIC0gb2Zmc2V0V2lkdGggLyAyKSB7XG4gICAgICAgIGFuY2hvci5wdXNoKGFuY2hvcnNbNF0pO1xuICAgIH1cbiAgICBpZiAoYW5jaG9yLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gYW5jaG9yc1syXTtcbiAgICB9XG4gICAgcmV0dXJuIGFuY2hvci5qb2luKCctJyk7XG59O1xudmFyIG5vcm1hbGl6ZWRPZmZzZXRzID0gZnVuY3Rpb24gKG9mZnNldCkge1xuICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBub3JtYWxpemVkT2Zmc2V0cyhuZXcgUG9pbnQoMCwgMCkpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9mZnNldCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgdmFyIGNvcm5lck9mZnNldCA9IE1hdGgucm91bmQoTWF0aC5zcXJ0KDAuNSAqIE1hdGgucG93KG9mZnNldCwgMikpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNlbnRlcjogbmV3IFBvaW50KG9mZnNldCwgb2Zmc2V0KSxcbiAgICAgICAgICAgIHRvcDogbmV3IFBvaW50KDAsIG9mZnNldCksXG4gICAgICAgICAgICBib3R0b206IG5ldyBQb2ludCgwLCAtb2Zmc2V0KSxcbiAgICAgICAgICAgIGxlZnQ6IG5ldyBQb2ludChvZmZzZXQsIDApLFxuICAgICAgICAgICAgcmlnaHQ6IG5ldyBQb2ludCgtb2Zmc2V0LCAwKSxcbiAgICAgICAgICAgICd0b3AtbGVmdCc6IG5ldyBQb2ludChjb3JuZXJPZmZzZXQsIGNvcm5lck9mZnNldCksXG4gICAgICAgICAgICAndG9wLXJpZ2h0JzogbmV3IFBvaW50KC1jb3JuZXJPZmZzZXQsIGNvcm5lck9mZnNldCksXG4gICAgICAgICAgICAnYm90dG9tLWxlZnQnOiBuZXcgUG9pbnQoY29ybmVyT2Zmc2V0LCAtY29ybmVyT2Zmc2V0KSxcbiAgICAgICAgICAgICdib3R0b20tcmlnaHQnOiBuZXcgUG9pbnQoLWNvcm5lck9mZnNldCwgLWNvcm5lck9mZnNldClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG9mZnNldCBpbnN0YW5jZW9mIFBvaW50IHx8IEFycmF5LmlzQXJyYXkob2Zmc2V0KSkge1xuICAgICAgICByZXR1cm4gYW5jaG9ycy5yZWR1Y2UoZnVuY3Rpb24gKHJlcywgYW5jaG9yKSB7XG4gICAgICAgICAgICByZXNbYW5jaG9yXSA9IFBvaW50LmNvbnZlcnQob2Zmc2V0KTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH0sIHt9KTtcbiAgICB9XG4gICAgcmV0dXJuIGFuY2hvcnMucmVkdWNlKGZ1bmN0aW9uIChyZXMsIGFuY2hvcikge1xuICAgICAgICByZXNbYW5jaG9yXSA9IFBvaW50LmNvbnZlcnQob2Zmc2V0W2FuY2hvcl0gfHwgZGVmYXVsdFBvaW50KTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9LCB7fSk7XG59O1xuZXhwb3J0IHZhciBvdmVybGF5U3RhdGUgPSBmdW5jdGlvbiAocHJvcHMsIG1hcCwgY29udGFpbmVyKSB7XG4gICAgdmFyIHBvc2l0aW9uID0gcHJvamVjdENvb3JkaW5hdGVzKG1hcCwgcHJvcHMuY29vcmRpbmF0ZXMpO1xuICAgIHZhciBvZmZzZXRzID0gbm9ybWFsaXplZE9mZnNldHMocHJvcHMub2Zmc2V0KTtcbiAgICB2YXIgYW5jaG9yID0gcHJvcHMuYW5jaG9yIHx8IGNhbGN1bGF0ZUFuY2hvcihtYXAsIG9mZnNldHMsIHBvc2l0aW9uLCBjb250YWluZXIpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFuY2hvcjogYW5jaG9yLFxuICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICAgIG9mZnNldDogb2Zmc2V0c1thbmNob3JdXG4gICAgfTtcbn07XG52YXIgbW92ZVRyYW5zbGF0ZSA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgIHJldHVybiBwb2ludCA/IFwidHJhbnNsYXRlKFwiICsgcG9pbnQueC50b0ZpeGVkKDApICsgXCJweCwgXCIgKyBwb2ludC55LnRvRml4ZWQoMCkgKyBcInB4KVwiIDogJyc7XG59O1xuZXhwb3J0IHZhciBvdmVybGF5VHJhbnNmb3JtID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGFuY2hvciA9IF9hLmFuY2hvciwgcG9zaXRpb24gPSBfYS5wb3NpdGlvbiwgb2Zmc2V0ID0gX2Eub2Zmc2V0O1xuICAgIHZhciByZXMgPSBbXTtcbiAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgcmVzLnB1c2gobW92ZVRyYW5zbGF0ZShwb3NpdGlvbikpO1xuICAgIH1cbiAgICBpZiAob2Zmc2V0ICYmIG9mZnNldC54ICE9PSB1bmRlZmluZWQgJiYgb2Zmc2V0LnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXMucHVzaChtb3ZlVHJhbnNsYXRlKG9mZnNldCkpO1xuICAgIH1cbiAgICBpZiAoYW5jaG9yKSB7XG4gICAgICAgIHJlcy5wdXNoKGFuY2hvclRyYW5zbGF0ZXNbYW5jaG9yXSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3ZlcmxheXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/lib-esm/util/overlays.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/lib-esm/util/uid.js":
/*!**********************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib-esm/util/uid.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateID: () => (/* binding */ generateID)\n/* harmony export */ });\nvar index = 0;\nvar generateID = function () {\n    return (index += 1);\n};\n//# sourceMappingURL=uid.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vdXRpbC91aWQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ087QUFDUDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXRuZXNzLWVtcGlyZS8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXBib3gtZ2wvbGliLWVzbS91dGlsL3VpZC5qcz80YzUzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBpbmRleCA9IDA7XG5leHBvcnQgdmFyIGdlbmVyYXRlSUQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChpbmRleCArPSAxKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11aWQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/lib-esm/util/uid.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/lib-esm/zoom-control.js":
/*!**************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib-esm/zoom-control.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ZoomControl: () => (/* binding */ ZoomControl),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context */ \"(ssr)/./node_modules/react-mapbox-gl/lib-esm/context.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n\nvar containerStyle = {\n    position: 'absolute',\n    zIndex: 10,\n    display: 'flex',\n    flexDirection: 'column',\n    boxShadow: '0px 1px 4px rgba(0, 0, 0, .3)',\n    border: '1px solid rgba(0, 0, 0, 0.1)'\n};\nvar positions = {\n    'top-right': { top: 10, right: 10, bottom: 'auto', left: 'auto' },\n    'top-left': { top: 10, left: 10, bottom: 'auto', right: 'auto' },\n    'bottom-right': { bottom: 10, right: 10, top: 'auto', left: 'auto' },\n    'bottom-left': { bottom: 10, left: 10, top: 'auto', right: 'auto' }\n};\nvar buttonStyle = {\n    backgroundColor: '#f9f9f9',\n    opacity: 0.95,\n    transition: 'background-color 0.16s ease-out',\n    cursor: 'pointer',\n    border: 0,\n    height: 26,\n    width: 26,\n    backgroundImage: \"url('https://api.mapbox.com/mapbox.js/v2.4.0/images/icons-000000@2x.png')\",\n    backgroundPosition: '0px 0px',\n    backgroundSize: '26px 260px',\n    outline: 0\n};\nvar buttonStyleHovered = {\n    backgroundColor: '#fff',\n    opacity: 1\n};\nvar buttonStylePlus = {\n    borderBottom: '1px solid rgba(0, 0, 0, 0.1)',\n    borderTopLeftRadius: 2,\n    borderTopRightRadius: 2\n};\nvar buttonStyleMinus = {\n    backgroundPosition: '0px -26px',\n    borderBottomLeftRadius: 2,\n    borderBottomRightRadius: 2\n};\nvar _a = [0, 1], PLUS = _a[0], MINUS = _a[1];\nvar POSITIONS = Object.keys(positions);\nvar ZoomControl = (function (_super) {\n    __extends(ZoomControl, _super);\n    function ZoomControl() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            hover: undefined\n        };\n        _this.onMouseOut = function () {\n            _this.setState({ hover: undefined });\n        };\n        _this.plusOver = function () {\n            if (PLUS !== _this.state.hover) {\n                _this.setState({ hover: PLUS });\n            }\n        };\n        _this.minusOver = function () {\n            if (MINUS !== _this.state.hover) {\n                _this.setState({ hover: MINUS });\n            }\n        };\n        _this.onClickPlus = function () {\n            _this.props.onControlClick(_this.props.map, _this.props.zoomDiff);\n        };\n        _this.onClickMinus = function () {\n            _this.props.onControlClick(_this.props.map, -_this.props.zoomDiff);\n        };\n        return _this;\n    }\n    ZoomControl.prototype.render = function () {\n        var _a = this.props, position = _a.position, style = _a.style, className = _a.className, tabIndex = _a.tabIndex;\n        var hover = this.state.hover;\n        var plusStyle = __assign({}, buttonStyle, buttonStylePlus, (hover === PLUS ? buttonStyleHovered : {}));\n        var minusStyle = __assign({}, buttonStyle, buttonStyleMinus, (hover === MINUS ? buttonStyleHovered : {}));\n        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: className, tabIndex: tabIndex, style: __assign({}, containerStyle, positions[position], style) },\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { id: \"zoomIn\", type: \"button\", style: plusStyle, \"aria-label\": \"Zoom in\", onMouseOver: this.plusOver, onMouseOut: this.onMouseOut, onClick: this.onClickPlus }),\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { id: \"zoomOut\", type: \"button\", style: minusStyle, \"aria-label\": \"Zoom out\", onMouseOver: this.minusOver, onMouseOut: this.onMouseOut, onClick: this.onClickMinus })));\n    };\n    ZoomControl.defaultProps = {\n        position: POSITIONS[0],\n        zoomDiff: 0.5,\n        onControlClick: function (map, zoomDiff) {\n            map.zoomTo(map.getZoom() + zoomDiff);\n        }\n    };\n    return ZoomControl;\n}(react__WEBPACK_IMPORTED_MODULE_0__.Component));\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_context__WEBPACK_IMPORTED_MODULE_1__.withMap)(ZoomControl));\n//# sourceMappingURL=zoom-control.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi1lc20vem9vbS1jb250cm9sLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsQ0FBQztBQUNELGdCQUFnQixTQUFJLElBQUksU0FBSTtBQUM1QjtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDK0I7QUFDSztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsa0RBQWtEO0FBQ3JFLGtCQUFrQixrREFBa0Q7QUFDcEUsc0JBQXNCLGtEQUFrRDtBQUN4RSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixrQkFBa0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGFBQWE7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsY0FBYztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyx5RUFBeUU7QUFDNUcsb0NBQW9DLDJFQUEyRTtBQUMvRyxnQkFBZ0IsZ0RBQW1CLFVBQVUsNERBQTRELCtDQUErQztBQUN4SixZQUFZLGdEQUFtQixhQUFhLDZKQUE2SjtBQUN6TSxZQUFZLGdEQUFtQixhQUFhLGtLQUFrSztBQUM5TTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLENBQUMsNENBQWU7QUFDTTtBQUN2QixpRUFBZSxpREFBTyxhQUFhLEVBQUM7QUFDcEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXRuZXNzLWVtcGlyZS8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXBib3gtZ2wvbGliLWVzbS96b29tLWNvbnRyb2wuanM/YzFhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHdpdGhNYXAgfSBmcm9tICcuL2NvbnRleHQnO1xudmFyIGNvbnRhaW5lclN0eWxlID0ge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHpJbmRleDogMTAsXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgIGJveFNoYWRvdzogJzBweCAxcHggNHB4IHJnYmEoMCwgMCwgMCwgLjMpJyxcbiAgICBib3JkZXI6ICcxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEpJ1xufTtcbnZhciBwb3NpdGlvbnMgPSB7XG4gICAgJ3RvcC1yaWdodCc6IHsgdG9wOiAxMCwgcmlnaHQ6IDEwLCBib3R0b206ICdhdXRvJywgbGVmdDogJ2F1dG8nIH0sXG4gICAgJ3RvcC1sZWZ0JzogeyB0b3A6IDEwLCBsZWZ0OiAxMCwgYm90dG9tOiAnYXV0bycsIHJpZ2h0OiAnYXV0bycgfSxcbiAgICAnYm90dG9tLXJpZ2h0JzogeyBib3R0b206IDEwLCByaWdodDogMTAsIHRvcDogJ2F1dG8nLCBsZWZ0OiAnYXV0bycgfSxcbiAgICAnYm90dG9tLWxlZnQnOiB7IGJvdHRvbTogMTAsIGxlZnQ6IDEwLCB0b3A6ICdhdXRvJywgcmlnaHQ6ICdhdXRvJyB9XG59O1xudmFyIGJ1dHRvblN0eWxlID0ge1xuICAgIGJhY2tncm91bmRDb2xvcjogJyNmOWY5ZjknLFxuICAgIG9wYWNpdHk6IDAuOTUsXG4gICAgdHJhbnNpdGlvbjogJ2JhY2tncm91bmQtY29sb3IgMC4xNnMgZWFzZS1vdXQnLFxuICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIGJvcmRlcjogMCxcbiAgICBoZWlnaHQ6IDI2LFxuICAgIHdpZHRoOiAyNixcbiAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwidXJsKCdodHRwczovL2FwaS5tYXBib3guY29tL21hcGJveC5qcy92Mi40LjAvaW1hZ2VzL2ljb25zLTAwMDAwMEAyeC5wbmcnKVwiLFxuICAgIGJhY2tncm91bmRQb3NpdGlvbjogJzBweCAwcHgnLFxuICAgIGJhY2tncm91bmRTaXplOiAnMjZweCAyNjBweCcsXG4gICAgb3V0bGluZTogMFxufTtcbnZhciBidXR0b25TdHlsZUhvdmVyZWQgPSB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZicsXG4gICAgb3BhY2l0eTogMVxufTtcbnZhciBidXR0b25TdHlsZVBsdXMgPSB7XG4gICAgYm9yZGVyQm90dG9tOiAnMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xKScsXG4gICAgYm9yZGVyVG9wTGVmdFJhZGl1czogMixcbiAgICBib3JkZXJUb3BSaWdodFJhZGl1czogMlxufTtcbnZhciBidXR0b25TdHlsZU1pbnVzID0ge1xuICAgIGJhY2tncm91bmRQb3NpdGlvbjogJzBweCAtMjZweCcsXG4gICAgYm9yZGVyQm90dG9tTGVmdFJhZGl1czogMixcbiAgICBib3JkZXJCb3R0b21SaWdodFJhZGl1czogMlxufTtcbnZhciBfYSA9IFswLCAxXSwgUExVUyA9IF9hWzBdLCBNSU5VUyA9IF9hWzFdO1xudmFyIFBPU0lUSU9OUyA9IE9iamVjdC5rZXlzKHBvc2l0aW9ucyk7XG52YXIgWm9vbUNvbnRyb2wgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhab29tQ29udHJvbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBab29tQ29udHJvbCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgaG92ZXI6IHVuZGVmaW5lZFxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vbk1vdXNlT3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBob3ZlcjogdW5kZWZpbmVkIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5wbHVzT3ZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChQTFVTICE9PSBfdGhpcy5zdGF0ZS5ob3Zlcikge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgaG92ZXI6IFBMVVMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm1pbnVzT3ZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChNSU5VUyAhPT0gX3RoaXMuc3RhdGUuaG92ZXIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGhvdmVyOiBNSU5VUyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25DbGlja1BsdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkNvbnRyb2xDbGljayhfdGhpcy5wcm9wcy5tYXAsIF90aGlzLnByb3BzLnpvb21EaWZmKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25DbGlja01pbnVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMucHJvcHMub25Db250cm9sQ2xpY2soX3RoaXMucHJvcHMubWFwLCAtX3RoaXMucHJvcHMuem9vbURpZmYpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFpvb21Db250cm9sLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIHBvc2l0aW9uID0gX2EucG9zaXRpb24sIHN0eWxlID0gX2Euc3R5bGUsIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSwgdGFiSW5kZXggPSBfYS50YWJJbmRleDtcbiAgICAgICAgdmFyIGhvdmVyID0gdGhpcy5zdGF0ZS5ob3ZlcjtcbiAgICAgICAgdmFyIHBsdXNTdHlsZSA9IF9fYXNzaWduKHt9LCBidXR0b25TdHlsZSwgYnV0dG9uU3R5bGVQbHVzLCAoaG92ZXIgPT09IFBMVVMgPyBidXR0b25TdHlsZUhvdmVyZWQgOiB7fSkpO1xuICAgICAgICB2YXIgbWludXNTdHlsZSA9IF9fYXNzaWduKHt9LCBidXR0b25TdHlsZSwgYnV0dG9uU3R5bGVNaW51cywgKGhvdmVyID09PSBNSU5VUyA/IGJ1dHRvblN0eWxlSG92ZXJlZCA6IHt9KSk7XG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xhc3NOYW1lLCB0YWJJbmRleDogdGFiSW5kZXgsIHN0eWxlOiBfX2Fzc2lnbih7fSwgY29udGFpbmVyU3R5bGUsIHBvc2l0aW9uc1twb3NpdGlvbl0sIHN0eWxlKSB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IGlkOiBcInpvb21JblwiLCB0eXBlOiBcImJ1dHRvblwiLCBzdHlsZTogcGx1c1N0eWxlLCBcImFyaWEtbGFiZWxcIjogXCJab29tIGluXCIsIG9uTW91c2VPdmVyOiB0aGlzLnBsdXNPdmVyLCBvbk1vdXNlT3V0OiB0aGlzLm9uTW91c2VPdXQsIG9uQ2xpY2s6IHRoaXMub25DbGlja1BsdXMgfSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgaWQ6IFwiem9vbU91dFwiLCB0eXBlOiBcImJ1dHRvblwiLCBzdHlsZTogbWludXNTdHlsZSwgXCJhcmlhLWxhYmVsXCI6IFwiWm9vbSBvdXRcIiwgb25Nb3VzZU92ZXI6IHRoaXMubWludXNPdmVyLCBvbk1vdXNlT3V0OiB0aGlzLm9uTW91c2VPdXQsIG9uQ2xpY2s6IHRoaXMub25DbGlja01pbnVzIH0pKSk7XG4gICAgfTtcbiAgICBab29tQ29udHJvbC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIHBvc2l0aW9uOiBQT1NJVElPTlNbMF0sXG4gICAgICAgIHpvb21EaWZmOiAwLjUsXG4gICAgICAgIG9uQ29udHJvbENsaWNrOiBmdW5jdGlvbiAobWFwLCB6b29tRGlmZikge1xuICAgICAgICAgICAgbWFwLnpvb21UbyhtYXAuZ2V0Wm9vbSgpICsgem9vbURpZmYpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gWm9vbUNvbnRyb2w7XG59KFJlYWN0LkNvbXBvbmVudCkpO1xuZXhwb3J0IHsgWm9vbUNvbnRyb2wgfTtcbmV4cG9ydCBkZWZhdWx0IHdpdGhNYXAoWm9vbUNvbnRyb2wpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9em9vbS1jb250cm9sLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/lib-esm/zoom-control.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/node_modules/kdbush/src/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/node_modules/kdbush/src/index.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ KDBush)\n/* harmony export */ });\n/* harmony import */ var _sort__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sort */ \"(ssr)/./node_modules/react-mapbox-gl/node_modules/kdbush/src/sort.js\");\n/* harmony import */ var _range__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./range */ \"(ssr)/./node_modules/react-mapbox-gl/node_modules/kdbush/src/range.js\");\n/* harmony import */ var _within__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./within */ \"(ssr)/./node_modules/react-mapbox-gl/node_modules/kdbush/src/within.js\");\n\n\n\n\n\nconst defaultGetX = p => p[0];\nconst defaultGetY = p => p[1];\n\nclass KDBush {\n    constructor(points, getX = defaultGetX, getY = defaultGetY, nodeSize = 64, ArrayType = Float64Array) {\n        this.nodeSize = nodeSize;\n        this.points = points;\n\n        const IndexArrayType = points.length < 65536 ? Uint16Array : Uint32Array;\n\n        const ids = this.ids = new IndexArrayType(points.length);\n        const coords = this.coords = new ArrayType(points.length * 2);\n\n        for (let i = 0; i < points.length; i++) {\n            ids[i] = i;\n            coords[2 * i] = getX(points[i]);\n            coords[2 * i + 1] = getY(points[i]);\n        }\n\n        (0,_sort__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(ids, coords, nodeSize, 0, ids.length - 1, 0);\n    }\n\n    range(minX, minY, maxX, maxY) {\n        return (0,_range__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.ids, this.coords, minX, minY, maxX, maxY, this.nodeSize);\n    }\n\n    within(x, y, r) {\n        return (0,_within__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.ids, this.coords, x, y, r, this.nodeSize);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL25vZGVfbW9kdWxlcy9rZGJ1c2gvc3JjL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQzBCO0FBQ0U7QUFDRTs7QUFFOUI7QUFDQTs7QUFFZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLHdCQUF3QixtQkFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSxpREFBSTtBQUNaOztBQUVBO0FBQ0EsZUFBZSxrREFBSztBQUNwQjs7QUFFQTtBQUNBLGVBQWUsbURBQU07QUFDckI7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpdG5lc3MtZW1waXJlLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcGJveC1nbC9ub2RlX21vZHVsZXMva2RidXNoL3NyYy9pbmRleC5qcz9iOThjIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHNvcnQgZnJvbSAnLi9zb3J0JztcbmltcG9ydCByYW5nZSBmcm9tICcuL3JhbmdlJztcbmltcG9ydCB3aXRoaW4gZnJvbSAnLi93aXRoaW4nO1xuXG5jb25zdCBkZWZhdWx0R2V0WCA9IHAgPT4gcFswXTtcbmNvbnN0IGRlZmF1bHRHZXRZID0gcCA9PiBwWzFdO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLREJ1c2gge1xuICAgIGNvbnN0cnVjdG9yKHBvaW50cywgZ2V0WCA9IGRlZmF1bHRHZXRYLCBnZXRZID0gZGVmYXVsdEdldFksIG5vZGVTaXplID0gNjQsIEFycmF5VHlwZSA9IEZsb2F0NjRBcnJheSkge1xuICAgICAgICB0aGlzLm5vZGVTaXplID0gbm9kZVNpemU7XG4gICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzO1xuXG4gICAgICAgIGNvbnN0IEluZGV4QXJyYXlUeXBlID0gcG9pbnRzLmxlbmd0aCA8IDY1NTM2ID8gVWludDE2QXJyYXkgOiBVaW50MzJBcnJheTtcblxuICAgICAgICBjb25zdCBpZHMgPSB0aGlzLmlkcyA9IG5ldyBJbmRleEFycmF5VHlwZShwb2ludHMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgY29vcmRzID0gdGhpcy5jb29yZHMgPSBuZXcgQXJyYXlUeXBlKHBvaW50cy5sZW5ndGggKiAyKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWRzW2ldID0gaTtcbiAgICAgICAgICAgIGNvb3Jkc1syICogaV0gPSBnZXRYKHBvaW50c1tpXSk7XG4gICAgICAgICAgICBjb29yZHNbMiAqIGkgKyAxXSA9IGdldFkocG9pbnRzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNvcnQoaWRzLCBjb29yZHMsIG5vZGVTaXplLCAwLCBpZHMubGVuZ3RoIC0gMSwgMCk7XG4gICAgfVxuXG4gICAgcmFuZ2UobWluWCwgbWluWSwgbWF4WCwgbWF4WSkge1xuICAgICAgICByZXR1cm4gcmFuZ2UodGhpcy5pZHMsIHRoaXMuY29vcmRzLCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCB0aGlzLm5vZGVTaXplKTtcbiAgICB9XG5cbiAgICB3aXRoaW4oeCwgeSwgcikge1xuICAgICAgICByZXR1cm4gd2l0aGluKHRoaXMuaWRzLCB0aGlzLmNvb3JkcywgeCwgeSwgciwgdGhpcy5ub2RlU2l6ZSk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/node_modules/kdbush/src/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/node_modules/kdbush/src/range.js":
/*!***********************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/node_modules/kdbush/src/range.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ range)\n/* harmony export */ });\n\nfunction range(ids, coords, minX, minY, maxX, maxY, nodeSize) {\n    const stack = [0, ids.length - 1, 0];\n    const result = [];\n    let x, y;\n\n    while (stack.length) {\n        const axis = stack.pop();\n        const right = stack.pop();\n        const left = stack.pop();\n\n        if (right - left <= nodeSize) {\n            for (let i = left; i <= right; i++) {\n                x = coords[2 * i];\n                y = coords[2 * i + 1];\n                if (x >= minX && x <= maxX && y >= minY && y <= maxY) result.push(ids[i]);\n            }\n            continue;\n        }\n\n        const m = Math.floor((left + right) / 2);\n\n        x = coords[2 * m];\n        y = coords[2 * m + 1];\n\n        if (x >= minX && x <= maxX && y >= minY && y <= maxY) result.push(ids[m]);\n\n        const nextAxis = (axis + 1) % 2;\n\n        if (axis === 0 ? minX <= x : minY <= y) {\n            stack.push(left);\n            stack.push(m - 1);\n            stack.push(nextAxis);\n        }\n        if (axis === 0 ? maxX >= x : maxY >= y) {\n            stack.push(m + 1);\n            stack.push(right);\n            stack.push(nextAxis);\n        }\n    }\n\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL25vZGVfbW9kdWxlcy9rZGJ1c2gvc3JjL3JhbmdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQ2U7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQkFBK0IsWUFBWTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXRuZXNzLWVtcGlyZS8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXBib3gtZ2wvbm9kZV9tb2R1bGVzL2tkYnVzaC9zcmMvcmFuZ2UuanM/NDJlMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJhbmdlKGlkcywgY29vcmRzLCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCBub2RlU2l6ZSkge1xuICAgIGNvbnN0IHN0YWNrID0gWzAsIGlkcy5sZW5ndGggLSAxLCAwXTtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBsZXQgeCwgeTtcblxuICAgIHdoaWxlIChzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgYXhpcyA9IHN0YWNrLnBvcCgpO1xuICAgICAgICBjb25zdCByaWdodCA9IHN0YWNrLnBvcCgpO1xuICAgICAgICBjb25zdCBsZWZ0ID0gc3RhY2sucG9wKCk7XG5cbiAgICAgICAgaWYgKHJpZ2h0IC0gbGVmdCA8PSBub2RlU2l6ZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGxlZnQ7IGkgPD0gcmlnaHQ7IGkrKykge1xuICAgICAgICAgICAgICAgIHggPSBjb29yZHNbMiAqIGldO1xuICAgICAgICAgICAgICAgIHkgPSBjb29yZHNbMiAqIGkgKyAxXTtcbiAgICAgICAgICAgICAgICBpZiAoeCA+PSBtaW5YICYmIHggPD0gbWF4WCAmJiB5ID49IG1pblkgJiYgeSA8PSBtYXhZKSByZXN1bHQucHVzaChpZHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtID0gTWF0aC5mbG9vcigobGVmdCArIHJpZ2h0KSAvIDIpO1xuXG4gICAgICAgIHggPSBjb29yZHNbMiAqIG1dO1xuICAgICAgICB5ID0gY29vcmRzWzIgKiBtICsgMV07XG5cbiAgICAgICAgaWYgKHggPj0gbWluWCAmJiB4IDw9IG1heFggJiYgeSA+PSBtaW5ZICYmIHkgPD0gbWF4WSkgcmVzdWx0LnB1c2goaWRzW21dKTtcblxuICAgICAgICBjb25zdCBuZXh0QXhpcyA9IChheGlzICsgMSkgJSAyO1xuXG4gICAgICAgIGlmIChheGlzID09PSAwID8gbWluWCA8PSB4IDogbWluWSA8PSB5KSB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKGxlZnQpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChtIC0gMSk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKG5leHRBeGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXhpcyA9PT0gMCA/IG1heFggPj0geCA6IG1heFkgPj0geSkge1xuICAgICAgICAgICAgc3RhY2sucHVzaChtICsgMSk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKHJpZ2h0KTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2gobmV4dEF4aXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/node_modules/kdbush/src/range.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/node_modules/kdbush/src/sort.js":
/*!**********************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/node_modules/kdbush/src/sort.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ sortKD)\n/* harmony export */ });\n\nfunction sortKD(ids, coords, nodeSize, left, right, depth) {\n    if (right - left <= nodeSize) return;\n\n    const m = (left + right) >> 1;\n\n    select(ids, coords, m, left, right, depth % 2);\n\n    sortKD(ids, coords, nodeSize, left, m - 1, depth + 1);\n    sortKD(ids, coords, nodeSize, m + 1, right, depth + 1);\n}\n\nfunction select(ids, coords, k, left, right, inc) {\n\n    while (right > left) {\n        if (right - left > 600) {\n            const n = right - left + 1;\n            const m = k - left + 1;\n            const z = Math.log(n);\n            const s = 0.5 * Math.exp(2 * z / 3);\n            const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            select(ids, coords, k, newLeft, newRight, inc);\n        }\n\n        const t = coords[2 * k + inc];\n        let i = left;\n        let j = right;\n\n        swapItem(ids, coords, left, k);\n        if (coords[2 * right + inc] > t) swapItem(ids, coords, left, right);\n\n        while (i < j) {\n            swapItem(ids, coords, i, j);\n            i++;\n            j--;\n            while (coords[2 * i + inc] < t) i++;\n            while (coords[2 * j + inc] > t) j--;\n        }\n\n        if (coords[2 * left + inc] === t) swapItem(ids, coords, left, j);\n        else {\n            j++;\n            swapItem(ids, coords, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n}\n\nfunction swapItem(ids, coords, i, j) {\n    swap(ids, i, j);\n    swap(coords, 2 * i, 2 * j);\n    swap(coords, 2 * i + 1, 2 * j + 1);\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL25vZGVfbW9kdWxlcy9rZGJ1c2gvc3JjL3NvcnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDZTtBQUNmOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZml0bmVzcy1lbXBpcmUvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL25vZGVfbW9kdWxlcy9rZGJ1c2gvc3JjL3NvcnQuanM/YTBhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNvcnRLRChpZHMsIGNvb3Jkcywgbm9kZVNpemUsIGxlZnQsIHJpZ2h0LCBkZXB0aCkge1xuICAgIGlmIChyaWdodCAtIGxlZnQgPD0gbm9kZVNpemUpIHJldHVybjtcblxuICAgIGNvbnN0IG0gPSAobGVmdCArIHJpZ2h0KSA+PiAxO1xuXG4gICAgc2VsZWN0KGlkcywgY29vcmRzLCBtLCBsZWZ0LCByaWdodCwgZGVwdGggJSAyKTtcblxuICAgIHNvcnRLRChpZHMsIGNvb3Jkcywgbm9kZVNpemUsIGxlZnQsIG0gLSAxLCBkZXB0aCArIDEpO1xuICAgIHNvcnRLRChpZHMsIGNvb3Jkcywgbm9kZVNpemUsIG0gKyAxLCByaWdodCwgZGVwdGggKyAxKTtcbn1cblxuZnVuY3Rpb24gc2VsZWN0KGlkcywgY29vcmRzLCBrLCBsZWZ0LCByaWdodCwgaW5jKSB7XG5cbiAgICB3aGlsZSAocmlnaHQgPiBsZWZ0KSB7XG4gICAgICAgIGlmIChyaWdodCAtIGxlZnQgPiA2MDApIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSByaWdodCAtIGxlZnQgKyAxO1xuICAgICAgICAgICAgY29uc3QgbSA9IGsgLSBsZWZ0ICsgMTtcbiAgICAgICAgICAgIGNvbnN0IHogPSBNYXRoLmxvZyhuKTtcbiAgICAgICAgICAgIGNvbnN0IHMgPSAwLjUgKiBNYXRoLmV4cCgyICogeiAvIDMpO1xuICAgICAgICAgICAgY29uc3Qgc2QgPSAwLjUgKiBNYXRoLnNxcnQoeiAqIHMgKiAobiAtIHMpIC8gbikgKiAobSAtIG4gLyAyIDwgMCA/IC0xIDogMSk7XG4gICAgICAgICAgICBjb25zdCBuZXdMZWZ0ID0gTWF0aC5tYXgobGVmdCwgTWF0aC5mbG9vcihrIC0gbSAqIHMgLyBuICsgc2QpKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1JpZ2h0ID0gTWF0aC5taW4ocmlnaHQsIE1hdGguZmxvb3IoayArIChuIC0gbSkgKiBzIC8gbiArIHNkKSk7XG4gICAgICAgICAgICBzZWxlY3QoaWRzLCBjb29yZHMsIGssIG5ld0xlZnQsIG5ld1JpZ2h0LCBpbmMpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdCA9IGNvb3Jkc1syICogayArIGluY107XG4gICAgICAgIGxldCBpID0gbGVmdDtcbiAgICAgICAgbGV0IGogPSByaWdodDtcblxuICAgICAgICBzd2FwSXRlbShpZHMsIGNvb3JkcywgbGVmdCwgayk7XG4gICAgICAgIGlmIChjb29yZHNbMiAqIHJpZ2h0ICsgaW5jXSA+IHQpIHN3YXBJdGVtKGlkcywgY29vcmRzLCBsZWZ0LCByaWdodCk7XG5cbiAgICAgICAgd2hpbGUgKGkgPCBqKSB7XG4gICAgICAgICAgICBzd2FwSXRlbShpZHMsIGNvb3JkcywgaSwgaik7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBqLS07XG4gICAgICAgICAgICB3aGlsZSAoY29vcmRzWzIgKiBpICsgaW5jXSA8IHQpIGkrKztcbiAgICAgICAgICAgIHdoaWxlIChjb29yZHNbMiAqIGogKyBpbmNdID4gdCkgai0tO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvb3Jkc1syICogbGVmdCArIGluY10gPT09IHQpIHN3YXBJdGVtKGlkcywgY29vcmRzLCBsZWZ0LCBqKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBqKys7XG4gICAgICAgICAgICBzd2FwSXRlbShpZHMsIGNvb3JkcywgaiwgcmlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGogPD0gaykgbGVmdCA9IGogKyAxO1xuICAgICAgICBpZiAoayA8PSBqKSByaWdodCA9IGogLSAxO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc3dhcEl0ZW0oaWRzLCBjb29yZHMsIGksIGopIHtcbiAgICBzd2FwKGlkcywgaSwgaik7XG4gICAgc3dhcChjb29yZHMsIDIgKiBpLCAyICogaik7XG4gICAgc3dhcChjb29yZHMsIDIgKiBpICsgMSwgMiAqIGogKyAxKTtcbn1cblxuZnVuY3Rpb24gc3dhcChhcnIsIGksIGopIHtcbiAgICBjb25zdCB0bXAgPSBhcnJbaV07XG4gICAgYXJyW2ldID0gYXJyW2pdO1xuICAgIGFycltqXSA9IHRtcDtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/node_modules/kdbush/src/sort.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/node_modules/kdbush/src/within.js":
/*!************************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/node_modules/kdbush/src/within.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ within)\n/* harmony export */ });\n\nfunction within(ids, coords, qx, qy, r, nodeSize) {\n    const stack = [0, ids.length - 1, 0];\n    const result = [];\n    const r2 = r * r;\n\n    while (stack.length) {\n        const axis = stack.pop();\n        const right = stack.pop();\n        const left = stack.pop();\n\n        if (right - left <= nodeSize) {\n            for (let i = left; i <= right; i++) {\n                if (sqDist(coords[2 * i], coords[2 * i + 1], qx, qy) <= r2) result.push(ids[i]);\n            }\n            continue;\n        }\n\n        const m = Math.floor((left + right) / 2);\n\n        const x = coords[2 * m];\n        const y = coords[2 * m + 1];\n\n        if (sqDist(x, y, qx, qy) <= r2) result.push(ids[m]);\n\n        const nextAxis = (axis + 1) % 2;\n\n        if (axis === 0 ? qx - r <= x : qy - r <= y) {\n            stack.push(left);\n            stack.push(m - 1);\n            stack.push(nextAxis);\n        }\n        if (axis === 0 ? qx + r >= x : qy + r >= y) {\n            stack.push(m + 1);\n            stack.push(right);\n            stack.push(nextAxis);\n        }\n    }\n\n    return result;\n}\n\nfunction sqDist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL25vZGVfbW9kdWxlcy9rZGJ1c2gvc3JjL3dpdGhpbi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUNlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0JBQStCLFlBQVk7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpdG5lc3MtZW1waXJlLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcGJveC1nbC9ub2RlX21vZHVsZXMva2RidXNoL3NyYy93aXRoaW4uanM/MzhlOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHdpdGhpbihpZHMsIGNvb3JkcywgcXgsIHF5LCByLCBub2RlU2l6ZSkge1xuICAgIGNvbnN0IHN0YWNrID0gWzAsIGlkcy5sZW5ndGggLSAxLCAwXTtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBjb25zdCByMiA9IHIgKiByO1xuXG4gICAgd2hpbGUgKHN0YWNrLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBheGlzID0gc3RhY2sucG9wKCk7XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gc3RhY2sucG9wKCk7XG4gICAgICAgIGNvbnN0IGxlZnQgPSBzdGFjay5wb3AoKTtcblxuICAgICAgICBpZiAocmlnaHQgLSBsZWZ0IDw9IG5vZGVTaXplKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gbGVmdDsgaSA8PSByaWdodDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNxRGlzdChjb29yZHNbMiAqIGldLCBjb29yZHNbMiAqIGkgKyAxXSwgcXgsIHF5KSA8PSByMikgcmVzdWx0LnB1c2goaWRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbSA9IE1hdGguZmxvb3IoKGxlZnQgKyByaWdodCkgLyAyKTtcblxuICAgICAgICBjb25zdCB4ID0gY29vcmRzWzIgKiBtXTtcbiAgICAgICAgY29uc3QgeSA9IGNvb3Jkc1syICogbSArIDFdO1xuXG4gICAgICAgIGlmIChzcURpc3QoeCwgeSwgcXgsIHF5KSA8PSByMikgcmVzdWx0LnB1c2goaWRzW21dKTtcblxuICAgICAgICBjb25zdCBuZXh0QXhpcyA9IChheGlzICsgMSkgJSAyO1xuXG4gICAgICAgIGlmIChheGlzID09PSAwID8gcXggLSByIDw9IHggOiBxeSAtIHIgPD0geSkge1xuICAgICAgICAgICAgc3RhY2sucHVzaChsZWZ0KTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2gobSAtIDEpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChuZXh0QXhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF4aXMgPT09IDAgPyBxeCArIHIgPj0geCA6IHF5ICsgciA+PSB5KSB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKG0gKyAxKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2gocmlnaHQpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChuZXh0QXhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBzcURpc3QoYXgsIGF5LCBieCwgYnkpIHtcbiAgICBjb25zdCBkeCA9IGF4IC0gYng7XG4gICAgY29uc3QgZHkgPSBheSAtIGJ5O1xuICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/node_modules/kdbush/src/within.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-mapbox-gl/node_modules/supercluster/index.js":
/*!*************************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/node_modules/supercluster/index.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Supercluster)\n/* harmony export */ });\n/* harmony import */ var kdbush__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! kdbush */ \"(ssr)/./node_modules/react-mapbox-gl/node_modules/kdbush/src/index.js\");\n\n\n\nconst defaultOptions = {\n    minZoom: 0,   // min zoom to generate clusters on\n    maxZoom: 16,  // max zoom level to cluster the points on\n    minPoints: 2, // minimum points to form a cluster\n    radius: 40,   // cluster radius in pixels\n    extent: 512,  // tile extent (radius is calculated relative to it)\n    nodeSize: 64, // size of the KD-tree leaf node, affects performance\n    log: false,   // whether to log timing info\n\n    // whether to generate numeric ids for input features (in vector tiles)\n    generateId: false,\n\n    // a reduce function for calculating custom cluster properties\n    reduce: null, // (accumulated, props) => { accumulated.sum += props.sum; }\n\n    // properties to use for individual points when running the reducer\n    map: props => props // props => ({sum: props.my_value})\n};\n\nconst fround = Math.fround || (tmp => ((x) => { tmp[0] = +x; return tmp[0]; }))(new Float32Array(1));\n\nclass Supercluster {\n    constructor(options) {\n        this.options = extend(Object.create(defaultOptions), options);\n        this.trees = new Array(this.options.maxZoom + 1);\n    }\n\n    load(points) {\n        const {log, minZoom, maxZoom, nodeSize} = this.options;\n\n        if (log) console.time('total time');\n\n        const timerId = `prepare ${  points.length  } points`;\n        if (log) console.time(timerId);\n\n        this.points = points;\n\n        // generate a cluster object for each point and index input points into a KD-tree\n        let clusters = [];\n        for (let i = 0; i < points.length; i++) {\n            if (!points[i].geometry) continue;\n            clusters.push(createPointCluster(points[i], i));\n        }\n        this.trees[maxZoom + 1] = new kdbush__WEBPACK_IMPORTED_MODULE_0__[\"default\"](clusters, getX, getY, nodeSize, Float32Array);\n\n        if (log) console.timeEnd(timerId);\n\n        // cluster points on max zoom, then cluster the results on previous zoom, etc.;\n        // results in a cluster hierarchy across zoom levels\n        for (let z = maxZoom; z >= minZoom; z--) {\n            const now = +Date.now();\n\n            // create a new set of clusters for the zoom and index them with a KD-tree\n            clusters = this._cluster(clusters, z);\n            this.trees[z] = new kdbush__WEBPACK_IMPORTED_MODULE_0__[\"default\"](clusters, getX, getY, nodeSize, Float32Array);\n\n            if (log) console.log('z%d: %d clusters in %dms', z, clusters.length, +Date.now() - now);\n        }\n\n        if (log) console.timeEnd('total time');\n\n        return this;\n    }\n\n    getClusters(bbox, zoom) {\n        let minLng = ((bbox[0] + 180) % 360 + 360) % 360 - 180;\n        const minLat = Math.max(-90, Math.min(90, bbox[1]));\n        let maxLng = bbox[2] === 180 ? 180 : ((bbox[2] + 180) % 360 + 360) % 360 - 180;\n        const maxLat = Math.max(-90, Math.min(90, bbox[3]));\n\n        if (bbox[2] - bbox[0] >= 360) {\n            minLng = -180;\n            maxLng = 180;\n        } else if (minLng > maxLng) {\n            const easternHem = this.getClusters([minLng, minLat, 180, maxLat], zoom);\n            const westernHem = this.getClusters([-180, minLat, maxLng, maxLat], zoom);\n            return easternHem.concat(westernHem);\n        }\n\n        const tree = this.trees[this._limitZoom(zoom)];\n        const ids = tree.range(lngX(minLng), latY(maxLat), lngX(maxLng), latY(minLat));\n        const clusters = [];\n        for (const id of ids) {\n            const c = tree.points[id];\n            clusters.push(c.numPoints ? getClusterJSON(c) : this.points[c.index]);\n        }\n        return clusters;\n    }\n\n    getChildren(clusterId) {\n        const originId = this._getOriginId(clusterId);\n        const originZoom = this._getOriginZoom(clusterId);\n        const errorMsg = 'No cluster with the specified id.';\n\n        const index = this.trees[originZoom];\n        if (!index) throw new Error(errorMsg);\n\n        const origin = index.points[originId];\n        if (!origin) throw new Error(errorMsg);\n\n        const r = this.options.radius / (this.options.extent * Math.pow(2, originZoom - 1));\n        const ids = index.within(origin.x, origin.y, r);\n        const children = [];\n        for (const id of ids) {\n            const c = index.points[id];\n            if (c.parentId === clusterId) {\n                children.push(c.numPoints ? getClusterJSON(c) : this.points[c.index]);\n            }\n        }\n\n        if (children.length === 0) throw new Error(errorMsg);\n\n        return children;\n    }\n\n    getLeaves(clusterId, limit, offset) {\n        limit = limit || 10;\n        offset = offset || 0;\n\n        const leaves = [];\n        this._appendLeaves(leaves, clusterId, limit, offset, 0);\n\n        return leaves;\n    }\n\n    getTile(z, x, y) {\n        const tree = this.trees[this._limitZoom(z)];\n        const z2 = Math.pow(2, z);\n        const {extent, radius} = this.options;\n        const p = radius / extent;\n        const top = (y - p) / z2;\n        const bottom = (y + 1 + p) / z2;\n\n        const tile = {\n            features: []\n        };\n\n        this._addTileFeatures(\n            tree.range((x - p) / z2, top, (x + 1 + p) / z2, bottom),\n            tree.points, x, y, z2, tile);\n\n        if (x === 0) {\n            this._addTileFeatures(\n                tree.range(1 - p / z2, top, 1, bottom),\n                tree.points, z2, y, z2, tile);\n        }\n        if (x === z2 - 1) {\n            this._addTileFeatures(\n                tree.range(0, top, p / z2, bottom),\n                tree.points, -1, y, z2, tile);\n        }\n\n        return tile.features.length ? tile : null;\n    }\n\n    getClusterExpansionZoom(clusterId) {\n        let expansionZoom = this._getOriginZoom(clusterId) - 1;\n        while (expansionZoom <= this.options.maxZoom) {\n            const children = this.getChildren(clusterId);\n            expansionZoom++;\n            if (children.length !== 1) break;\n            clusterId = children[0].properties.cluster_id;\n        }\n        return expansionZoom;\n    }\n\n    _appendLeaves(result, clusterId, limit, offset, skipped) {\n        const children = this.getChildren(clusterId);\n\n        for (const child of children) {\n            const props = child.properties;\n\n            if (props && props.cluster) {\n                if (skipped + props.point_count <= offset) {\n                    // skip the whole cluster\n                    skipped += props.point_count;\n                } else {\n                    // enter the cluster\n                    skipped = this._appendLeaves(result, props.cluster_id, limit, offset, skipped);\n                    // exit the cluster\n                }\n            } else if (skipped < offset) {\n                // skip a single point\n                skipped++;\n            } else {\n                // add a single point\n                result.push(child);\n            }\n            if (result.length === limit) break;\n        }\n\n        return skipped;\n    }\n\n    _addTileFeatures(ids, points, x, y, z2, tile) {\n        for (const i of ids) {\n            const c = points[i];\n            const isCluster = c.numPoints;\n\n            let tags, px, py;\n            if (isCluster) {\n                tags = getClusterProperties(c);\n                px = c.x;\n                py = c.y;\n            } else {\n                const p = this.points[c.index];\n                tags = p.properties;\n                px = lngX(p.geometry.coordinates[0]);\n                py = latY(p.geometry.coordinates[1]);\n            }\n\n            const f = {\n                type: 1,\n                geometry: [[\n                    Math.round(this.options.extent * (px * z2 - x)),\n                    Math.round(this.options.extent * (py * z2 - y))\n                ]],\n                tags\n            };\n\n            // assign id\n            let id;\n            if (isCluster) {\n                id = c.id;\n            } else if (this.options.generateId) {\n                // optionally generate id\n                id = c.index;\n            } else if (this.points[c.index].id) {\n                // keep id if already assigned\n                id = this.points[c.index].id;\n            }\n\n            if (id !== undefined) f.id = id;\n\n            tile.features.push(f);\n        }\n    }\n\n    _limitZoom(z) {\n        return Math.max(this.options.minZoom, Math.min(Math.floor(+z), this.options.maxZoom + 1));\n    }\n\n    _cluster(points, zoom) {\n        const clusters = [];\n        const {radius, extent, reduce, minPoints} = this.options;\n        const r = radius / (extent * Math.pow(2, zoom));\n\n        // loop through each point\n        for (let i = 0; i < points.length; i++) {\n            const p = points[i];\n            // if we've already visited the point at this zoom level, skip it\n            if (p.zoom <= zoom) continue;\n            p.zoom = zoom;\n\n            // find all nearby points\n            const tree = this.trees[zoom + 1];\n            const neighborIds = tree.within(p.x, p.y, r);\n\n            const numPointsOrigin = p.numPoints || 1;\n            let numPoints = numPointsOrigin;\n\n            // count the number of points in a potential cluster\n            for (const neighborId of neighborIds) {\n                const b = tree.points[neighborId];\n                // filter out neighbors that are already processed\n                if (b.zoom > zoom) numPoints += b.numPoints || 1;\n            }\n\n            // if there were neighbors to merge, and there are enough points to form a cluster\n            if (numPoints > numPointsOrigin && numPoints >= minPoints) {\n                let wx = p.x * numPointsOrigin;\n                let wy = p.y * numPointsOrigin;\n\n                let clusterProperties = reduce && numPointsOrigin > 1 ? this._map(p, true) : null;\n\n                // encode both zoom and point index on which the cluster originated -- offset by total length of features\n                const id = (i << 5) + (zoom + 1) + this.points.length;\n\n                for (const neighborId of neighborIds) {\n                    const b = tree.points[neighborId];\n\n                    if (b.zoom <= zoom) continue;\n                    b.zoom = zoom; // save the zoom (so it doesn't get processed twice)\n\n                    const numPoints2 = b.numPoints || 1;\n                    wx += b.x * numPoints2; // accumulate coordinates for calculating weighted center\n                    wy += b.y * numPoints2;\n\n                    b.parentId = id;\n\n                    if (reduce) {\n                        if (!clusterProperties) clusterProperties = this._map(p, true);\n                        reduce(clusterProperties, this._map(b));\n                    }\n                }\n\n                p.parentId = id;\n                clusters.push(createCluster(wx / numPoints, wy / numPoints, id, numPoints, clusterProperties));\n\n            } else { // left points as unclustered\n                clusters.push(p);\n\n                if (numPoints > 1) {\n                    for (const neighborId of neighborIds) {\n                        const b = tree.points[neighborId];\n                        if (b.zoom <= zoom) continue;\n                        b.zoom = zoom;\n                        clusters.push(b);\n                    }\n                }\n            }\n        }\n\n        return clusters;\n    }\n\n    // get index of the point from which the cluster originated\n    _getOriginId(clusterId) {\n        return (clusterId - this.points.length) >> 5;\n    }\n\n    // get zoom of the point from which the cluster originated\n    _getOriginZoom(clusterId) {\n        return (clusterId - this.points.length) % 32;\n    }\n\n    _map(point, clone) {\n        if (point.numPoints) {\n            return clone ? extend({}, point.properties) : point.properties;\n        }\n        const original = this.points[point.index].properties;\n        const result = this.options.map(original);\n        return clone && result === original ? extend({}, result) : result;\n    }\n}\n\nfunction createCluster(x, y, id, numPoints, properties) {\n    return {\n        x: fround(x), // weighted cluster center; round for consistency with Float32Array index\n        y: fround(y),\n        zoom: Infinity, // the last zoom the cluster was processed at\n        id, // encodes index of the first child of the cluster and its zoom level\n        parentId: -1, // parent cluster id\n        numPoints,\n        properties\n    };\n}\n\nfunction createPointCluster(p, id) {\n    const [x, y] = p.geometry.coordinates;\n    return {\n        x: fround(lngX(x)), // projected point coordinates\n        y: fround(latY(y)),\n        zoom: Infinity, // the last zoom the point was processed at\n        index: id, // index of the source feature in the original input array,\n        parentId: -1 // parent cluster id\n    };\n}\n\nfunction getClusterJSON(cluster) {\n    return {\n        type: 'Feature',\n        id: cluster.id,\n        properties: getClusterProperties(cluster),\n        geometry: {\n            type: 'Point',\n            coordinates: [xLng(cluster.x), yLat(cluster.y)]\n        }\n    };\n}\n\nfunction getClusterProperties(cluster) {\n    const count = cluster.numPoints;\n    const abbrev =\n        count >= 10000 ? `${Math.round(count / 1000)  }k` :\n        count >= 1000 ? `${Math.round(count / 100) / 10  }k` : count;\n    return extend(extend({}, cluster.properties), {\n        cluster: true,\n        cluster_id: cluster.id,\n        point_count: count,\n        point_count_abbreviated: abbrev\n    });\n}\n\n// longitude/latitude to spherical mercator in [0..1] range\nfunction lngX(lng) {\n    return lng / 360 + 0.5;\n}\nfunction latY(lat) {\n    const sin = Math.sin(lat * Math.PI / 180);\n    const y = (0.5 - 0.25 * Math.log((1 + sin) / (1 - sin)) / Math.PI);\n    return y < 0 ? 0 : y > 1 ? 1 : y;\n}\n\n// spherical mercator to longitude/latitude\nfunction xLng(x) {\n    return (x - 0.5) * 360;\n}\nfunction yLat(y) {\n    const y2 = (180 - y * 360) * Math.PI / 180;\n    return 360 * Math.atan(Math.exp(y2)) / Math.PI - 90;\n}\n\nfunction extend(dest, src) {\n    for (const id in src) dest[id] = src[id];\n    return dest;\n}\n\nfunction getX(p) {\n    return p.x;\n}\nfunction getY(p) {\n    return p.y;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL25vZGVfbW9kdWxlcy9zdXBlcmNsdXN0ZXIvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQzRCOztBQUU1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0M7O0FBRS9DO0FBQ0Esc0NBQXNDLG9CQUFvQjtBQUMxRDs7QUFFQSxnREFBZ0QsYUFBYSxnQkFBZ0I7O0FBRTlEO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLGlDQUFpQzs7QUFFaEQ7O0FBRUEscUNBQXFDLGlCQUFpQjtBQUN0RDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0Esd0JBQXdCLG1CQUFtQjtBQUMzQztBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsOENBQU07O0FBRTVDOztBQUVBO0FBQ0E7QUFDQSw4QkFBOEIsY0FBYztBQUM1Qzs7QUFFQTtBQUNBO0FBQ0EsZ0NBQWdDLDhDQUFNOztBQUV0QztBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCO0FBQy9CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsbUNBQW1DO0FBQ2xEOztBQUVBO0FBQ0Esd0JBQXdCLG1CQUFtQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsbUNBQW1DOztBQUVuQztBQUNBLDRDQUE0QztBQUM1Qzs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMkJBQTJCO0FBQ3ZELDJCQUEyQiwrQkFBK0I7QUFDMUQsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpdG5lc3MtZW1waXJlLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcGJveC1nbC9ub2RlX21vZHVsZXMvc3VwZXJjbHVzdGVyL2luZGV4LmpzPzk4ODciXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgS0RCdXNoIGZyb20gJ2tkYnVzaCc7XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgIG1pblpvb206IDAsICAgLy8gbWluIHpvb20gdG8gZ2VuZXJhdGUgY2x1c3RlcnMgb25cbiAgICBtYXhab29tOiAxNiwgIC8vIG1heCB6b29tIGxldmVsIHRvIGNsdXN0ZXIgdGhlIHBvaW50cyBvblxuICAgIG1pblBvaW50czogMiwgLy8gbWluaW11bSBwb2ludHMgdG8gZm9ybSBhIGNsdXN0ZXJcbiAgICByYWRpdXM6IDQwLCAgIC8vIGNsdXN0ZXIgcmFkaXVzIGluIHBpeGVsc1xuICAgIGV4dGVudDogNTEyLCAgLy8gdGlsZSBleHRlbnQgKHJhZGl1cyBpcyBjYWxjdWxhdGVkIHJlbGF0aXZlIHRvIGl0KVxuICAgIG5vZGVTaXplOiA2NCwgLy8gc2l6ZSBvZiB0aGUgS0QtdHJlZSBsZWFmIG5vZGUsIGFmZmVjdHMgcGVyZm9ybWFuY2VcbiAgICBsb2c6IGZhbHNlLCAgIC8vIHdoZXRoZXIgdG8gbG9nIHRpbWluZyBpbmZvXG5cbiAgICAvLyB3aGV0aGVyIHRvIGdlbmVyYXRlIG51bWVyaWMgaWRzIGZvciBpbnB1dCBmZWF0dXJlcyAoaW4gdmVjdG9yIHRpbGVzKVxuICAgIGdlbmVyYXRlSWQ6IGZhbHNlLFxuXG4gICAgLy8gYSByZWR1Y2UgZnVuY3Rpb24gZm9yIGNhbGN1bGF0aW5nIGN1c3RvbSBjbHVzdGVyIHByb3BlcnRpZXNcbiAgICByZWR1Y2U6IG51bGwsIC8vIChhY2N1bXVsYXRlZCwgcHJvcHMpID0+IHsgYWNjdW11bGF0ZWQuc3VtICs9IHByb3BzLnN1bTsgfVxuXG4gICAgLy8gcHJvcGVydGllcyB0byB1c2UgZm9yIGluZGl2aWR1YWwgcG9pbnRzIHdoZW4gcnVubmluZyB0aGUgcmVkdWNlclxuICAgIG1hcDogcHJvcHMgPT4gcHJvcHMgLy8gcHJvcHMgPT4gKHtzdW06IHByb3BzLm15X3ZhbHVlfSlcbn07XG5cbmNvbnN0IGZyb3VuZCA9IE1hdGguZnJvdW5kIHx8ICh0bXAgPT4gKCh4KSA9PiB7IHRtcFswXSA9ICt4OyByZXR1cm4gdG1wWzBdOyB9KSkobmV3IEZsb2F0MzJBcnJheSgxKSk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN1cGVyY2x1c3RlciB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQoT2JqZWN0LmNyZWF0ZShkZWZhdWx0T3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnRyZWVzID0gbmV3IEFycmF5KHRoaXMub3B0aW9ucy5tYXhab29tICsgMSk7XG4gICAgfVxuXG4gICAgbG9hZChwb2ludHMpIHtcbiAgICAgICAgY29uc3Qge2xvZywgbWluWm9vbSwgbWF4Wm9vbSwgbm9kZVNpemV9ID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIGlmIChsb2cpIGNvbnNvbGUudGltZSgndG90YWwgdGltZScpO1xuXG4gICAgICAgIGNvbnN0IHRpbWVySWQgPSBgcHJlcGFyZSAkeyAgcG9pbnRzLmxlbmd0aCAgfSBwb2ludHNgO1xuICAgICAgICBpZiAobG9nKSBjb25zb2xlLnRpbWUodGltZXJJZCk7XG5cbiAgICAgICAgdGhpcy5wb2ludHMgPSBwb2ludHM7XG5cbiAgICAgICAgLy8gZ2VuZXJhdGUgYSBjbHVzdGVyIG9iamVjdCBmb3IgZWFjaCBwb2ludCBhbmQgaW5kZXggaW5wdXQgcG9pbnRzIGludG8gYSBLRC10cmVlXG4gICAgICAgIGxldCBjbHVzdGVycyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFwb2ludHNbaV0uZ2VvbWV0cnkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2x1c3RlcnMucHVzaChjcmVhdGVQb2ludENsdXN0ZXIocG9pbnRzW2ldLCBpKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmVlc1ttYXhab29tICsgMV0gPSBuZXcgS0RCdXNoKGNsdXN0ZXJzLCBnZXRYLCBnZXRZLCBub2RlU2l6ZSwgRmxvYXQzMkFycmF5KTtcblxuICAgICAgICBpZiAobG9nKSBjb25zb2xlLnRpbWVFbmQodGltZXJJZCk7XG5cbiAgICAgICAgLy8gY2x1c3RlciBwb2ludHMgb24gbWF4IHpvb20sIHRoZW4gY2x1c3RlciB0aGUgcmVzdWx0cyBvbiBwcmV2aW91cyB6b29tLCBldGMuO1xuICAgICAgICAvLyByZXN1bHRzIGluIGEgY2x1c3RlciBoaWVyYXJjaHkgYWNyb3NzIHpvb20gbGV2ZWxzXG4gICAgICAgIGZvciAobGV0IHogPSBtYXhab29tOyB6ID49IG1pblpvb207IHotLSkge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gK0RhdGUubm93KCk7XG5cbiAgICAgICAgICAgIC8vIGNyZWF0ZSBhIG5ldyBzZXQgb2YgY2x1c3RlcnMgZm9yIHRoZSB6b29tIGFuZCBpbmRleCB0aGVtIHdpdGggYSBLRC10cmVlXG4gICAgICAgICAgICBjbHVzdGVycyA9IHRoaXMuX2NsdXN0ZXIoY2x1c3RlcnMsIHopO1xuICAgICAgICAgICAgdGhpcy50cmVlc1t6XSA9IG5ldyBLREJ1c2goY2x1c3RlcnMsIGdldFgsIGdldFksIG5vZGVTaXplLCBGbG9hdDMyQXJyYXkpO1xuXG4gICAgICAgICAgICBpZiAobG9nKSBjb25zb2xlLmxvZygneiVkOiAlZCBjbHVzdGVycyBpbiAlZG1zJywgeiwgY2x1c3RlcnMubGVuZ3RoLCArRGF0ZS5ub3coKSAtIG5vdyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobG9nKSBjb25zb2xlLnRpbWVFbmQoJ3RvdGFsIHRpbWUnKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBnZXRDbHVzdGVycyhiYm94LCB6b29tKSB7XG4gICAgICAgIGxldCBtaW5MbmcgPSAoKGJib3hbMF0gKyAxODApICUgMzYwICsgMzYwKSAlIDM2MCAtIDE4MDtcbiAgICAgICAgY29uc3QgbWluTGF0ID0gTWF0aC5tYXgoLTkwLCBNYXRoLm1pbig5MCwgYmJveFsxXSkpO1xuICAgICAgICBsZXQgbWF4TG5nID0gYmJveFsyXSA9PT0gMTgwID8gMTgwIDogKChiYm94WzJdICsgMTgwKSAlIDM2MCArIDM2MCkgJSAzNjAgLSAxODA7XG4gICAgICAgIGNvbnN0IG1heExhdCA9IE1hdGgubWF4KC05MCwgTWF0aC5taW4oOTAsIGJib3hbM10pKTtcblxuICAgICAgICBpZiAoYmJveFsyXSAtIGJib3hbMF0gPj0gMzYwKSB7XG4gICAgICAgICAgICBtaW5MbmcgPSAtMTgwO1xuICAgICAgICAgICAgbWF4TG5nID0gMTgwO1xuICAgICAgICB9IGVsc2UgaWYgKG1pbkxuZyA+IG1heExuZykge1xuICAgICAgICAgICAgY29uc3QgZWFzdGVybkhlbSA9IHRoaXMuZ2V0Q2x1c3RlcnMoW21pbkxuZywgbWluTGF0LCAxODAsIG1heExhdF0sIHpvb20pO1xuICAgICAgICAgICAgY29uc3Qgd2VzdGVybkhlbSA9IHRoaXMuZ2V0Q2x1c3RlcnMoWy0xODAsIG1pbkxhdCwgbWF4TG5nLCBtYXhMYXRdLCB6b29tKTtcbiAgICAgICAgICAgIHJldHVybiBlYXN0ZXJuSGVtLmNvbmNhdCh3ZXN0ZXJuSGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRyZWUgPSB0aGlzLnRyZWVzW3RoaXMuX2xpbWl0Wm9vbSh6b29tKV07XG4gICAgICAgIGNvbnN0IGlkcyA9IHRyZWUucmFuZ2UobG5nWChtaW5MbmcpLCBsYXRZKG1heExhdCksIGxuZ1gobWF4TG5nKSwgbGF0WShtaW5MYXQpKTtcbiAgICAgICAgY29uc3QgY2x1c3RlcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBpZCBvZiBpZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSB0cmVlLnBvaW50c1tpZF07XG4gICAgICAgICAgICBjbHVzdGVycy5wdXNoKGMubnVtUG9pbnRzID8gZ2V0Q2x1c3RlckpTT04oYykgOiB0aGlzLnBvaW50c1tjLmluZGV4XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsdXN0ZXJzO1xuICAgIH1cblxuICAgIGdldENoaWxkcmVuKGNsdXN0ZXJJZCkge1xuICAgICAgICBjb25zdCBvcmlnaW5JZCA9IHRoaXMuX2dldE9yaWdpbklkKGNsdXN0ZXJJZCk7XG4gICAgICAgIGNvbnN0IG9yaWdpblpvb20gPSB0aGlzLl9nZXRPcmlnaW5ab29tKGNsdXN0ZXJJZCk7XG4gICAgICAgIGNvbnN0IGVycm9yTXNnID0gJ05vIGNsdXN0ZXIgd2l0aCB0aGUgc3BlY2lmaWVkIGlkLic7XG5cbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnRyZWVzW29yaWdpblpvb21dO1xuICAgICAgICBpZiAoIWluZGV4KSB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpO1xuXG4gICAgICAgIGNvbnN0IG9yaWdpbiA9IGluZGV4LnBvaW50c1tvcmlnaW5JZF07XG4gICAgICAgIGlmICghb3JpZ2luKSB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpO1xuXG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLm9wdGlvbnMucmFkaXVzIC8gKHRoaXMub3B0aW9ucy5leHRlbnQgKiBNYXRoLnBvdygyLCBvcmlnaW5ab29tIC0gMSkpO1xuICAgICAgICBjb25zdCBpZHMgPSBpbmRleC53aXRoaW4ob3JpZ2luLngsIG9yaWdpbi55LCByKTtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBpZCBvZiBpZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBpbmRleC5wb2ludHNbaWRdO1xuICAgICAgICAgICAgaWYgKGMucGFyZW50SWQgPT09IGNsdXN0ZXJJZCkge1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goYy5udW1Qb2ludHMgPyBnZXRDbHVzdGVySlNPTihjKSA6IHRoaXMucG9pbnRzW2MuaW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDApIHRocm93IG5ldyBFcnJvcihlcnJvck1zZyk7XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgIH1cblxuICAgIGdldExlYXZlcyhjbHVzdGVySWQsIGxpbWl0LCBvZmZzZXQpIHtcbiAgICAgICAgbGltaXQgPSBsaW1pdCB8fCAxMDtcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICAgICAgY29uc3QgbGVhdmVzID0gW107XG4gICAgICAgIHRoaXMuX2FwcGVuZExlYXZlcyhsZWF2ZXMsIGNsdXN0ZXJJZCwgbGltaXQsIG9mZnNldCwgMCk7XG5cbiAgICAgICAgcmV0dXJuIGxlYXZlcztcbiAgICB9XG5cbiAgICBnZXRUaWxlKHosIHgsIHkpIHtcbiAgICAgICAgY29uc3QgdHJlZSA9IHRoaXMudHJlZXNbdGhpcy5fbGltaXRab29tKHopXTtcbiAgICAgICAgY29uc3QgejIgPSBNYXRoLnBvdygyLCB6KTtcbiAgICAgICAgY29uc3Qge2V4dGVudCwgcmFkaXVzfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgcCA9IHJhZGl1cyAvIGV4dGVudDtcbiAgICAgICAgY29uc3QgdG9wID0gKHkgLSBwKSAvIHoyO1xuICAgICAgICBjb25zdCBib3R0b20gPSAoeSArIDEgKyBwKSAvIHoyO1xuXG4gICAgICAgIGNvbnN0IHRpbGUgPSB7XG4gICAgICAgICAgICBmZWF0dXJlczogW11cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9hZGRUaWxlRmVhdHVyZXMoXG4gICAgICAgICAgICB0cmVlLnJhbmdlKCh4IC0gcCkgLyB6MiwgdG9wLCAoeCArIDEgKyBwKSAvIHoyLCBib3R0b20pLFxuICAgICAgICAgICAgdHJlZS5wb2ludHMsIHgsIHksIHoyLCB0aWxlKTtcblxuICAgICAgICBpZiAoeCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fYWRkVGlsZUZlYXR1cmVzKFxuICAgICAgICAgICAgICAgIHRyZWUucmFuZ2UoMSAtIHAgLyB6MiwgdG9wLCAxLCBib3R0b20pLFxuICAgICAgICAgICAgICAgIHRyZWUucG9pbnRzLCB6MiwgeSwgejIsIHRpbGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4ID09PSB6MiAtIDEpIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZFRpbGVGZWF0dXJlcyhcbiAgICAgICAgICAgICAgICB0cmVlLnJhbmdlKDAsIHRvcCwgcCAvIHoyLCBib3R0b20pLFxuICAgICAgICAgICAgICAgIHRyZWUucG9pbnRzLCAtMSwgeSwgejIsIHRpbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRpbGUuZmVhdHVyZXMubGVuZ3RoID8gdGlsZSA6IG51bGw7XG4gICAgfVxuXG4gICAgZ2V0Q2x1c3RlckV4cGFuc2lvblpvb20oY2x1c3RlcklkKSB7XG4gICAgICAgIGxldCBleHBhbnNpb25ab29tID0gdGhpcy5fZ2V0T3JpZ2luWm9vbShjbHVzdGVySWQpIC0gMTtcbiAgICAgICAgd2hpbGUgKGV4cGFuc2lvblpvb20gPD0gdGhpcy5vcHRpb25zLm1heFpvb20pIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5nZXRDaGlsZHJlbihjbHVzdGVySWQpO1xuICAgICAgICAgICAgZXhwYW5zaW9uWm9vbSsrO1xuICAgICAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCAhPT0gMSkgYnJlYWs7XG4gICAgICAgICAgICBjbHVzdGVySWQgPSBjaGlsZHJlblswXS5wcm9wZXJ0aWVzLmNsdXN0ZXJfaWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4cGFuc2lvblpvb207XG4gICAgfVxuXG4gICAgX2FwcGVuZExlYXZlcyhyZXN1bHQsIGNsdXN0ZXJJZCwgbGltaXQsIG9mZnNldCwgc2tpcHBlZCkge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuZ2V0Q2hpbGRyZW4oY2x1c3RlcklkKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGNoaWxkcmVuKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wcyA9IGNoaWxkLnByb3BlcnRpZXM7XG5cbiAgICAgICAgICAgIGlmIChwcm9wcyAmJiBwcm9wcy5jbHVzdGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNraXBwZWQgKyBwcm9wcy5wb2ludF9jb3VudCA8PSBvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2tpcCB0aGUgd2hvbGUgY2x1c3RlclxuICAgICAgICAgICAgICAgICAgICBza2lwcGVkICs9IHByb3BzLnBvaW50X2NvdW50O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVudGVyIHRoZSBjbHVzdGVyXG4gICAgICAgICAgICAgICAgICAgIHNraXBwZWQgPSB0aGlzLl9hcHBlbmRMZWF2ZXMocmVzdWx0LCBwcm9wcy5jbHVzdGVyX2lkLCBsaW1pdCwgb2Zmc2V0LCBza2lwcGVkKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXhpdCB0aGUgY2x1c3RlclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2tpcHBlZCA8IG9mZnNldCkge1xuICAgICAgICAgICAgICAgIC8vIHNraXAgYSBzaW5nbGUgcG9pbnRcbiAgICAgICAgICAgICAgICBza2lwcGVkKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGFkZCBhIHNpbmdsZSBwb2ludFxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID09PSBsaW1pdCkgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2tpcHBlZDtcbiAgICB9XG5cbiAgICBfYWRkVGlsZUZlYXR1cmVzKGlkcywgcG9pbnRzLCB4LCB5LCB6MiwgdGlsZSkge1xuICAgICAgICBmb3IgKGNvbnN0IGkgb2YgaWRzKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgY29uc3QgaXNDbHVzdGVyID0gYy5udW1Qb2ludHM7XG5cbiAgICAgICAgICAgIGxldCB0YWdzLCBweCwgcHk7XG4gICAgICAgICAgICBpZiAoaXNDbHVzdGVyKSB7XG4gICAgICAgICAgICAgICAgdGFncyA9IGdldENsdXN0ZXJQcm9wZXJ0aWVzKGMpO1xuICAgICAgICAgICAgICAgIHB4ID0gYy54O1xuICAgICAgICAgICAgICAgIHB5ID0gYy55O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gdGhpcy5wb2ludHNbYy5pbmRleF07XG4gICAgICAgICAgICAgICAgdGFncyA9IHAucHJvcGVydGllcztcbiAgICAgICAgICAgICAgICBweCA9IGxuZ1gocC5nZW9tZXRyeS5jb29yZGluYXRlc1swXSk7XG4gICAgICAgICAgICAgICAgcHkgPSBsYXRZKHAuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IDEsXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnk6IFtbXG4gICAgICAgICAgICAgICAgICAgIE1hdGgucm91bmQodGhpcy5vcHRpb25zLmV4dGVudCAqIChweCAqIHoyIC0geCkpLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLnJvdW5kKHRoaXMub3B0aW9ucy5leHRlbnQgKiAocHkgKiB6MiAtIHkpKVxuICAgICAgICAgICAgICAgIF1dLFxuICAgICAgICAgICAgICAgIHRhZ3NcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIGFzc2lnbiBpZFxuICAgICAgICAgICAgbGV0IGlkO1xuICAgICAgICAgICAgaWYgKGlzQ2x1c3Rlcikge1xuICAgICAgICAgICAgICAgIGlkID0gYy5pZDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmdlbmVyYXRlSWQpIHtcbiAgICAgICAgICAgICAgICAvLyBvcHRpb25hbGx5IGdlbmVyYXRlIGlkXG4gICAgICAgICAgICAgICAgaWQgPSBjLmluZGV4O1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBvaW50c1tjLmluZGV4XS5pZCkge1xuICAgICAgICAgICAgICAgIC8vIGtlZXAgaWQgaWYgYWxyZWFkeSBhc3NpZ25lZFxuICAgICAgICAgICAgICAgIGlkID0gdGhpcy5wb2ludHNbYy5pbmRleF0uaWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpZCAhPT0gdW5kZWZpbmVkKSBmLmlkID0gaWQ7XG5cbiAgICAgICAgICAgIHRpbGUuZmVhdHVyZXMucHVzaChmKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9saW1pdFpvb20oeikge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5vcHRpb25zLm1pblpvb20sIE1hdGgubWluKE1hdGguZmxvb3IoK3opLCB0aGlzLm9wdGlvbnMubWF4Wm9vbSArIDEpKTtcbiAgICB9XG5cbiAgICBfY2x1c3Rlcihwb2ludHMsIHpvb20pIHtcbiAgICAgICAgY29uc3QgY2x1c3RlcnMgPSBbXTtcbiAgICAgICAgY29uc3Qge3JhZGl1cywgZXh0ZW50LCByZWR1Y2UsIG1pblBvaW50c30gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHIgPSByYWRpdXMgLyAoZXh0ZW50ICogTWF0aC5wb3coMiwgem9vbSkpO1xuXG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCBlYWNoIHBvaW50XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgLy8gaWYgd2UndmUgYWxyZWFkeSB2aXNpdGVkIHRoZSBwb2ludCBhdCB0aGlzIHpvb20gbGV2ZWwsIHNraXAgaXRcbiAgICAgICAgICAgIGlmIChwLnpvb20gPD0gem9vbSkgY29udGludWU7XG4gICAgICAgICAgICBwLnpvb20gPSB6b29tO1xuXG4gICAgICAgICAgICAvLyBmaW5kIGFsbCBuZWFyYnkgcG9pbnRzXG4gICAgICAgICAgICBjb25zdCB0cmVlID0gdGhpcy50cmVlc1t6b29tICsgMV07XG4gICAgICAgICAgICBjb25zdCBuZWlnaGJvcklkcyA9IHRyZWUud2l0aGluKHAueCwgcC55LCByKTtcblxuICAgICAgICAgICAgY29uc3QgbnVtUG9pbnRzT3JpZ2luID0gcC5udW1Qb2ludHMgfHwgMTtcbiAgICAgICAgICAgIGxldCBudW1Qb2ludHMgPSBudW1Qb2ludHNPcmlnaW47XG5cbiAgICAgICAgICAgIC8vIGNvdW50IHRoZSBudW1iZXIgb2YgcG9pbnRzIGluIGEgcG90ZW50aWFsIGNsdXN0ZXJcbiAgICAgICAgICAgIGZvciAoY29uc3QgbmVpZ2hib3JJZCBvZiBuZWlnaGJvcklkcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGIgPSB0cmVlLnBvaW50c1tuZWlnaGJvcklkXTtcbiAgICAgICAgICAgICAgICAvLyBmaWx0ZXIgb3V0IG5laWdoYm9ycyB0aGF0IGFyZSBhbHJlYWR5IHByb2Nlc3NlZFxuICAgICAgICAgICAgICAgIGlmIChiLnpvb20gPiB6b29tKSBudW1Qb2ludHMgKz0gYi5udW1Qb2ludHMgfHwgMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgd2VyZSBuZWlnaGJvcnMgdG8gbWVyZ2UsIGFuZCB0aGVyZSBhcmUgZW5vdWdoIHBvaW50cyB0byBmb3JtIGEgY2x1c3RlclxuICAgICAgICAgICAgaWYgKG51bVBvaW50cyA+IG51bVBvaW50c09yaWdpbiAmJiBudW1Qb2ludHMgPj0gbWluUG9pbnRzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHd4ID0gcC54ICogbnVtUG9pbnRzT3JpZ2luO1xuICAgICAgICAgICAgICAgIGxldCB3eSA9IHAueSAqIG51bVBvaW50c09yaWdpbjtcblxuICAgICAgICAgICAgICAgIGxldCBjbHVzdGVyUHJvcGVydGllcyA9IHJlZHVjZSAmJiBudW1Qb2ludHNPcmlnaW4gPiAxID8gdGhpcy5fbWFwKHAsIHRydWUpIDogbnVsbDtcblxuICAgICAgICAgICAgICAgIC8vIGVuY29kZSBib3RoIHpvb20gYW5kIHBvaW50IGluZGV4IG9uIHdoaWNoIHRoZSBjbHVzdGVyIG9yaWdpbmF0ZWQgLS0gb2Zmc2V0IGJ5IHRvdGFsIGxlbmd0aCBvZiBmZWF0dXJlc1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gKGkgPDwgNSkgKyAoem9vbSArIDEpICsgdGhpcy5wb2ludHMubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBuZWlnaGJvcklkIG9mIG5laWdoYm9ySWRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGIgPSB0cmVlLnBvaW50c1tuZWlnaGJvcklkXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoYi56b29tIDw9IHpvb20pIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBiLnpvb20gPSB6b29tOyAvLyBzYXZlIHRoZSB6b29tIChzbyBpdCBkb2Vzbid0IGdldCBwcm9jZXNzZWQgdHdpY2UpXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtUG9pbnRzMiA9IGIubnVtUG9pbnRzIHx8IDE7XG4gICAgICAgICAgICAgICAgICAgIHd4ICs9IGIueCAqIG51bVBvaW50czI7IC8vIGFjY3VtdWxhdGUgY29vcmRpbmF0ZXMgZm9yIGNhbGN1bGF0aW5nIHdlaWdodGVkIGNlbnRlclxuICAgICAgICAgICAgICAgICAgICB3eSArPSBiLnkgKiBudW1Qb2ludHMyO1xuXG4gICAgICAgICAgICAgICAgICAgIGIucGFyZW50SWQgPSBpZDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocmVkdWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNsdXN0ZXJQcm9wZXJ0aWVzKSBjbHVzdGVyUHJvcGVydGllcyA9IHRoaXMuX21hcChwLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZHVjZShjbHVzdGVyUHJvcGVydGllcywgdGhpcy5fbWFwKGIpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHAucGFyZW50SWQgPSBpZDtcbiAgICAgICAgICAgICAgICBjbHVzdGVycy5wdXNoKGNyZWF0ZUNsdXN0ZXIod3ggLyBudW1Qb2ludHMsIHd5IC8gbnVtUG9pbnRzLCBpZCwgbnVtUG9pbnRzLCBjbHVzdGVyUHJvcGVydGllcykpO1xuXG4gICAgICAgICAgICB9IGVsc2UgeyAvLyBsZWZ0IHBvaW50cyBhcyB1bmNsdXN0ZXJlZFxuICAgICAgICAgICAgICAgIGNsdXN0ZXJzLnB1c2gocCk7XG5cbiAgICAgICAgICAgICAgICBpZiAobnVtUG9pbnRzID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5laWdoYm9ySWQgb2YgbmVpZ2hib3JJZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGIgPSB0cmVlLnBvaW50c1tuZWlnaGJvcklkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiLnpvb20gPD0gem9vbSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBiLnpvb20gPSB6b29tO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2x1c3RlcnMucHVzaChiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjbHVzdGVycztcbiAgICB9XG5cbiAgICAvLyBnZXQgaW5kZXggb2YgdGhlIHBvaW50IGZyb20gd2hpY2ggdGhlIGNsdXN0ZXIgb3JpZ2luYXRlZFxuICAgIF9nZXRPcmlnaW5JZChjbHVzdGVySWQpIHtcbiAgICAgICAgcmV0dXJuIChjbHVzdGVySWQgLSB0aGlzLnBvaW50cy5sZW5ndGgpID4+IDU7XG4gICAgfVxuXG4gICAgLy8gZ2V0IHpvb20gb2YgdGhlIHBvaW50IGZyb20gd2hpY2ggdGhlIGNsdXN0ZXIgb3JpZ2luYXRlZFxuICAgIF9nZXRPcmlnaW5ab29tKGNsdXN0ZXJJZCkge1xuICAgICAgICByZXR1cm4gKGNsdXN0ZXJJZCAtIHRoaXMucG9pbnRzLmxlbmd0aCkgJSAzMjtcbiAgICB9XG5cbiAgICBfbWFwKHBvaW50LCBjbG9uZSkge1xuICAgICAgICBpZiAocG9pbnQubnVtUG9pbnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gY2xvbmUgPyBleHRlbmQoe30sIHBvaW50LnByb3BlcnRpZXMpIDogcG9pbnQucHJvcGVydGllcztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcmlnaW5hbCA9IHRoaXMucG9pbnRzW3BvaW50LmluZGV4XS5wcm9wZXJ0aWVzO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLm9wdGlvbnMubWFwKG9yaWdpbmFsKTtcbiAgICAgICAgcmV0dXJuIGNsb25lICYmIHJlc3VsdCA9PT0gb3JpZ2luYWwgPyBleHRlbmQoe30sIHJlc3VsdCkgOiByZXN1bHQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVDbHVzdGVyKHgsIHksIGlkLCBudW1Qb2ludHMsIHByb3BlcnRpZXMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBmcm91bmQoeCksIC8vIHdlaWdodGVkIGNsdXN0ZXIgY2VudGVyOyByb3VuZCBmb3IgY29uc2lzdGVuY3kgd2l0aCBGbG9hdDMyQXJyYXkgaW5kZXhcbiAgICAgICAgeTogZnJvdW5kKHkpLFxuICAgICAgICB6b29tOiBJbmZpbml0eSwgLy8gdGhlIGxhc3Qgem9vbSB0aGUgY2x1c3RlciB3YXMgcHJvY2Vzc2VkIGF0XG4gICAgICAgIGlkLCAvLyBlbmNvZGVzIGluZGV4IG9mIHRoZSBmaXJzdCBjaGlsZCBvZiB0aGUgY2x1c3RlciBhbmQgaXRzIHpvb20gbGV2ZWxcbiAgICAgICAgcGFyZW50SWQ6IC0xLCAvLyBwYXJlbnQgY2x1c3RlciBpZFxuICAgICAgICBudW1Qb2ludHMsXG4gICAgICAgIHByb3BlcnRpZXNcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVQb2ludENsdXN0ZXIocCwgaWQpIHtcbiAgICBjb25zdCBbeCwgeV0gPSBwLmdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IGZyb3VuZChsbmdYKHgpKSwgLy8gcHJvamVjdGVkIHBvaW50IGNvb3JkaW5hdGVzXG4gICAgICAgIHk6IGZyb3VuZChsYXRZKHkpKSxcbiAgICAgICAgem9vbTogSW5maW5pdHksIC8vIHRoZSBsYXN0IHpvb20gdGhlIHBvaW50IHdhcyBwcm9jZXNzZWQgYXRcbiAgICAgICAgaW5kZXg6IGlkLCAvLyBpbmRleCBvZiB0aGUgc291cmNlIGZlYXR1cmUgaW4gdGhlIG9yaWdpbmFsIGlucHV0IGFycmF5LFxuICAgICAgICBwYXJlbnRJZDogLTEgLy8gcGFyZW50IGNsdXN0ZXIgaWRcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRDbHVzdGVySlNPTihjbHVzdGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ0ZlYXR1cmUnLFxuICAgICAgICBpZDogY2x1c3Rlci5pZCxcbiAgICAgICAgcHJvcGVydGllczogZ2V0Q2x1c3RlclByb3BlcnRpZXMoY2x1c3RlciksXG4gICAgICAgIGdlb21ldHJ5OiB7XG4gICAgICAgICAgICB0eXBlOiAnUG9pbnQnLFxuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IFt4TG5nKGNsdXN0ZXIueCksIHlMYXQoY2x1c3Rlci55KV1cbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldENsdXN0ZXJQcm9wZXJ0aWVzKGNsdXN0ZXIpIHtcbiAgICBjb25zdCBjb3VudCA9IGNsdXN0ZXIubnVtUG9pbnRzO1xuICAgIGNvbnN0IGFiYnJldiA9XG4gICAgICAgIGNvdW50ID49IDEwMDAwID8gYCR7TWF0aC5yb3VuZChjb3VudCAvIDEwMDApICB9a2AgOlxuICAgICAgICBjb3VudCA+PSAxMDAwID8gYCR7TWF0aC5yb3VuZChjb3VudCAvIDEwMCkgLyAxMCAgfWtgIDogY291bnQ7XG4gICAgcmV0dXJuIGV4dGVuZChleHRlbmQoe30sIGNsdXN0ZXIucHJvcGVydGllcyksIHtcbiAgICAgICAgY2x1c3RlcjogdHJ1ZSxcbiAgICAgICAgY2x1c3Rlcl9pZDogY2x1c3Rlci5pZCxcbiAgICAgICAgcG9pbnRfY291bnQ6IGNvdW50LFxuICAgICAgICBwb2ludF9jb3VudF9hYmJyZXZpYXRlZDogYWJicmV2XG4gICAgfSk7XG59XG5cbi8vIGxvbmdpdHVkZS9sYXRpdHVkZSB0byBzcGhlcmljYWwgbWVyY2F0b3IgaW4gWzAuLjFdIHJhbmdlXG5mdW5jdGlvbiBsbmdYKGxuZykge1xuICAgIHJldHVybiBsbmcgLyAzNjAgKyAwLjU7XG59XG5mdW5jdGlvbiBsYXRZKGxhdCkge1xuICAgIGNvbnN0IHNpbiA9IE1hdGguc2luKGxhdCAqIE1hdGguUEkgLyAxODApO1xuICAgIGNvbnN0IHkgPSAoMC41IC0gMC4yNSAqIE1hdGgubG9nKCgxICsgc2luKSAvICgxIC0gc2luKSkgLyBNYXRoLlBJKTtcbiAgICByZXR1cm4geSA8IDAgPyAwIDogeSA+IDEgPyAxIDogeTtcbn1cblxuLy8gc3BoZXJpY2FsIG1lcmNhdG9yIHRvIGxvbmdpdHVkZS9sYXRpdHVkZVxuZnVuY3Rpb24geExuZyh4KSB7XG4gICAgcmV0dXJuICh4IC0gMC41KSAqIDM2MDtcbn1cbmZ1bmN0aW9uIHlMYXQoeSkge1xuICAgIGNvbnN0IHkyID0gKDE4MCAtIHkgKiAzNjApICogTWF0aC5QSSAvIDE4MDtcbiAgICByZXR1cm4gMzYwICogTWF0aC5hdGFuKE1hdGguZXhwKHkyKSkgLyBNYXRoLlBJIC0gOTA7XG59XG5cbmZ1bmN0aW9uIGV4dGVuZChkZXN0LCBzcmMpIHtcbiAgICBmb3IgKGNvbnN0IGlkIGluIHNyYykgZGVzdFtpZF0gPSBzcmNbaWRdO1xuICAgIHJldHVybiBkZXN0O1xufVxuXG5mdW5jdGlvbiBnZXRYKHApIHtcbiAgICByZXR1cm4gcC54O1xufVxuZnVuY3Rpb24gZ2V0WShwKSB7XG4gICAgcmV0dXJuIHAueTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-mapbox-gl/node_modules/supercluster/index.js\n");

/***/ })

};
;